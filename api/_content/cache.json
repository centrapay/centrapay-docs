{"generatedAt":1674774146035,"generateTime":79,"contents":[{"_path":"/guides/farmlands-pos-integration","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Farmlands POS Integration Guide","description":"Centrapay and Farmlands have entered into a partnership that will allow Farmlands Card Partners to accept the Farmlands Card for payment at the point of sale.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay and Farmlands have entered into a partnership to allow Farmlands Card Partners to accept Farmlands Card payments at the point of sale. The benefits include real-time standard industry card checks, the elimination of reconciliation EDI files or manual PDF invoicing, and it unlocks the ability to accept many more payment methods on the Centrapay platform. This solution positions Card Partners to be able to accept digital Farmlands Card payments in the future."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners need to be approved by Farmlands prior to enabling the Farmlands Card as a payment option through the Centrapay integration. Contact your Card Partnership Manager or the Card Specialist team at "},{"type":"element","tag":"a","props":{"href":"mailto:card.specialist@farmlands.co.nz"},"children":[{"type":"text","value":"card.specialist@farmlands.co.nz"}]},{"type":"text","value":" to work through the onboarding process."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"centrapay-integration-benefits"},"children":[{"type":"text","value":"Centrapay Integration Benefits"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Integrating with Centrapay streamlines the process for authorising and invoicing Farmlands Card Payments. The integration provides:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Real-time validation that the card presented is a valid Farmlands Card."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Real-time balance checks to verify that the Cardholder has sufficient funds."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Automatic notification of invoices to Farmlands that submit invoices with Centrapay. This eliminates the need to send a PDF invoice or EDI file to Farmlands for settlement."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Merchants can opt-in to accept other assets as payment methods with Centrapay."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"payment-flow-overview"},"children":[{"type":"text","value":"Payment Flow Overview"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands integrations use Centrapay’s "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-barcode-flow#quick-pay-flow"},"children":[{"type":"text","value":"Quick Pay Barcode Flow For Merchants"}]},{"type":"text","value":" to connect to Cardholders and accept Farmlands transactions."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]}]}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Cardholder\n    participant POS\n    participant Centrapay\n\n    Note over Cardholder: Present Barcode\n    Cardholder->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    loop Poll for Payment Confirmation\n        POS->>Centrapay: Get Payment Request\n\n        alt Payment Condition Pending\n            note over POS: ❓ Prompt Cashier to Accept or Decline Condition\n            POS->>Centrapay: POS Accepts Condition\n        else Payment Request Status is paid\n            Note over POS: Stop Polling for Confirmation\n        end\n    end\n\n    Note over POS: ✅ Display Successful Payment\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Cardholder\n    participant POS\n    participant Centrapay\n\n    Note over Cardholder: Present Barcode\n    Cardholder->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    loop Poll for Payment Confirmation\n        POS->>Centrapay: Get Payment Request\n\n        alt Payment Condition Pending\n            note over POS: ❓ Prompt Cashier to Accept or Decline Condition\n            POS->>Centrapay: POS Accepts Condition\n        else Payment Request Status is paid\n            Note over POS: Stop Polling for Confirmation\n        end\n    end\n\n    Note over POS: ✅ Display Successful Payment\n"}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Farmlands Cardholder presents their Farmlands Card for payment. The cashier at the point of sale will scan the Barcode or manually enter the 9-digit Farmlands Card number."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Card number is under the Cardholder’s name on the front of the card; and under the barcode on the back of the card."}]}]}]}]},{"type":"element","tag":"img","props":{"src":"/farmlands-card.png","alt":"The back of an example Farmlands card, displaying a barcode and a 9-digit card number","style":"height: 288px;"},"children":[]},{"type":"element","tag":"ol","props":{"start":2},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creates a Payment Request"}]},{"type":"text","value":" with the Farmlands Card barcode."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"conditionsEnabled\": true,\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      },\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"conditionsEnabled\": true,\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      },\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polls the Payment Request"}]},{"type":"text","value":" every second for status changes."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Polling the Payment Request"}]},{"type":"text","value":" returns a list of pending "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"merchantConditions"}]},{"type":"text","value":" in the response. The POS must prompt the cashier to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accept"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"decline"}]},{"type":"text","value":" each "},{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Condition"}]},{"type":"text","value":" in order to successfully complete a payment."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/conditions/1/accept \\\n  -H \"X-Api-Key: $api_key\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/conditions/1/accept \\\n  -H \"X-Api-Key: $api_key\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"2\",\n  \"conditionId\": \"1\",\n  \"createdAt\": \"2022-05-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"type\": \"accept-condition\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": 100\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"activityNumber\": \"2\",\n  \"conditionId\": \"1\",\n  \"createdAt\": \"2022-05-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"type\": \"accept-condition\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": 100\n  }\n}\n"}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"A successful payment is identified when all Payment Conditions have an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"accepted"}]},{"type":"text","value":" status and the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" status is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"paid"}]},{"type":"text","value":". Here, the POS must stop polling and display confirmation of the successful payment."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"accepted\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"accepted\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"payment-flow-implementation"},"children":[{"type":"text","value":"Payment Flow Implementation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Payment Flow can only be used by existing Farmlands Card Partners. Card Partners must complete the following steps to accept Farmlands transactions."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Each Card Partner site must be correctly set up as a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchants","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant"}]},{"type":"text","value":" in Centrapay’s system."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Centrapay needs to supply Card Partners with API keys to allow them to authenticate their API requests."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Card Partners must meet "},{"type":"element","tag":"a","props":{"href":"#basic-requirements"},"children":[{"type":"text","value":"basic payment requirements"}]},{"type":"text","value":" in order to implement the Barcode Payment Flow."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Each Card Partner should extend the Barcode Payment Flow to meet any additional requirements they have."},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Mandatory extensions include supporting "},{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"#refunds"},"children":[{"type":"text","value":"Refunds"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Optional extensions include supporting "},{"type":"element","tag":"a","props":{"href":"#pre-auth"},"children":[{"type":"text","value":"Pre Auth"}]},{"type":"text","value":" payments when there is no invoice number available at the point of sale or the purchase cannot be fulfilled immediately, supporting payments when the "},{"type":"element","tag":"a","props":{"href":"#cardholder-not-present"},"children":[{"type":"text","value":"Cardholder is not physically present"}]},{"type":"text","value":", and "},{"type":"element","tag":"a","props":{"href":"#validating-farmlands-barcodes"},"children":[{"type":"text","value":"validating Farmlands barcodes"}]},{"type":"text","value":" before a transaction is initiated."}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"merchant-configuration"},"children":[{"type":"text","value":"Merchant Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each Card Partner site that needs to accept Farmlands Card payments must be set up as a separate Centrapay "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchants","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant"}]},{"type":"text","value":" with its own "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchant-configs","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant Config"}]},{"type":"text","value":". The Merchant Config contains a Farmlands "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchant-configs#payment-option-config","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Option"}]},{"type":"text","value":" that allows the site to accept Farmlands Payments."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The POS needs to provide the unique Merchant Config ID for the Merchant when "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating Payment Requests"}]},{"type":"text","value":" on their behalf."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Merchants and Merchant Configs are managed by Centrapay. Farmlands will provide Card Partners with these details."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"authentication"},"children":[{"type":"text","value":"Authentication"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Requests to Centrapay’s APIs are "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/auth","rel":["nofollow"]},"children":[{"type":"text","value":"authenticated"}]},{"type":"text","value":" by providing an API key in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X-Api-Key"}]},{"type":"text","value":" header. "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/api-keys","rel":["nofollow"]},"children":[{"type":"text","value":"API Keys"}]},{"type":"text","value":" provide enduring access to a single Centrapay account."}]},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/account-memberships \\\n  -H \"X-Api-Key: $api_key\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/account-memberships \\\n  -H \"X-Api-Key: $api_key\"\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Contact "},{"type":"element","tag":"a","props":{"href":"mailto:integrations@centrapay.com"},"children":[{"type":"text","value":"integrations@centrapay.com"}]},{"type":"text","value":" to be issued with your API keys."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"basic-requirements"},"children":[{"type":"text","value":"Basic Requirements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Payment Flow needs the following requirements to be met."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Card Partners MUST use the unique "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchant-configs","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant Config"}]},{"type":"text","value":" ID that was set up for the site that is accepting the payment when "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Card Partners MUST support "},{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST display a message to prompt the cashier to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accept"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"decline"}]},{"type":"text","value":" any pending Payment Conditions."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST include full details for all "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":" and an invoice number when creating a Payment Request where the purchase is being fulfilled immediately."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See the "},{"type":"element","tag":"a","props":{"href":"#pre-auth"},"children":[{"type":"text","value":"Pre Auth extension"}]},{"type":"text","value":" to accept payments when there is no invoice number available at the point of sale or the purchase cannot be fulfilled immediately."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST stop "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polling the Payment Request"}]},{"type":"text","value":" when its status is no longer "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"new"}]},{"type":"text","value":"."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners must support this extension."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This extension enables the POS to enforce requiring an ID check for high-risk transactions."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Card Partners must extend the Barcode Flow to support this by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating Payment Requests"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"conditionsEnabled"}]},{"type":"text","value":" flag set to true. The response will include the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"merchantConditions"}]},{"type":"text","value":" that must be accepted, and each condition will include a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"message"}]},{"type":"text","value":" field that the POS can display to the cashier."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Payment Request must always be polled after accepting or declining a condition."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"pre-auth"},"children":[{"type":"text","value":"Pre Auth"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners must support this extension when there is not an invoice number available at the point of sale or the purchase cannot be fulfilled immediately. This might happen if your stock is not on hand or you have a separate fulfilment process."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This extension enables the POS to create an authorisation that ensures funds are available and places a hold on them."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Card Partners can extend the Barcode Flow to support this by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating Payment Requests"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuth"}]},{"type":"text","value":" flag set to true."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Pre Auth Sequence"}]}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\nautonumber\n\nparticipant Cardholder\nparticipant POS\nparticipant Centrapay\n\nNote over Cardholder: Present Barcode\nCardholder->>POS: Scan Barcode\n\nPOS->>Centrapay: Create Payment Request with Barcode and the preAuth flag\n\nloop Poll for Payment Confirmation\n    POS->>Centrapay: Get Payment Request\n\n    alt Payment Condition Pending\n            note over POS: ❓ Prompt Cashier to Accept or Decline Condition\n            POS->>Centrapay: POS Accepts Condition\n        else Payment Request Status is paid\n            Note over POS: Stop Polling for Confirmation\n        end\nend\n\nNote over POS: ✅ Display Authorization Confirmation\n\nNote over POS, Centrapay: ⏱ Some time later..\n\nloop 0..Many (Up to Authorised Amount)\n    POS->>Centrapay: Make Confirmations Against Authorised Funds\n\n    Note over POS: ✅ Display Confirmation\nend\n\nPOS->>Centrapay: Release Remaining Authorised Funds\nNote over POS: ✅ Display Release confirmation\n\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\nautonumber\n\nparticipant Cardholder\nparticipant POS\nparticipant Centrapay\n\nNote over Cardholder: Present Barcode\nCardholder->>POS: Scan Barcode\n\nPOS->>Centrapay: Create Payment Request with Barcode and the preAuth flag\n\nloop Poll for Payment Confirmation\n    POS->>Centrapay: Get Payment Request\n\n    alt Payment Condition Pending\n            note over POS: ❓ Prompt Cashier to Accept or Decline Condition\n            POS->>Centrapay: POS Accepts Condition\n        else Payment Request Status is paid\n            Note over POS: Stop Polling for Confirmation\n        end\nend\n\nNote over POS: ✅ Display Authorization Confirmation\n\nNote over POS, Centrapay: ⏱ Some time later..\n\nloop 0..Many (Up to Authorised Amount)\n    POS->>Centrapay: Make Confirmations Against Authorised Funds\n\n    Note over POS: ✅ Display Confirmation\nend\n\nPOS->>Centrapay: Release Remaining Authorised Funds\nNote over POS: ✅ Display Release confirmation\n\n"}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Cardholder presents their Farmlands Card for the POS to scan."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS authorises a Pre Auth payment by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":" with the barcode on the Farmlands Card and the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preauth"}]},{"type":"text","value":" flag. Creating a Payment Request must also enable the "},{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" extension and include full details for all "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":"."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Including Line Items is optional for Card Partners that do not intend to make Pre Auth confirmations."}]}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"conditionsEnabled\": true,\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      },\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"preAuth\": true,\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"conditionsEnabled\": true,\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      },\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"preAuth\": true,\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5efbe2fb96c08357bb2b9242\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5efbe2fb96c08357bb2b9242\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polls the Payment Request"}]},{"type":"text","value":" every second for status changes."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Polling the Payment Request"}]},{"type":"text","value":" returns a list of pending "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"merchantConditions"}]},{"type":"text","value":" in the response. The POS must prompt the cashier to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accept"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"decline"}]},{"type":"text","value":" each "},{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Condition"}]},{"type":"text","value":" in order to successfully authorise a Pre Auth payment."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/conditions/1/accept \\\n  -H \"X-Api-Key: $api_key\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/conditions/1/accept \\\n  -H \"X-Api-Key: $api_key\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"2\",\n  \"conditionId\": \"1\",\n  \"createdAt\": \"2022-05-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"type\": \"accept-condition\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": 100\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"activityNumber\": \"2\",\n  \"conditionId\": \"1\",\n  \"createdAt\": \"2022-05-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"type\": \"accept-condition\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": 100\n  }\n}\n"}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"A successful authorisation is identified when all Payment Conditions have an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"accepted"}]},{"type":"text","value":" status, the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" status is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"paid"}]},{"type":"text","value":" and the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuthStatus"}]},{"type":"text","value":" is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"authorized"}]},{"type":"text","value":". Here, the POS must stop polling and display confirmation of the successful authorisation."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"accepted\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"preAuthStatus\": \"authorized\",\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"accepted\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"preAuthStatus\": \"authorized\",\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When the purchase is ready to be fulfilled, the POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#make-a-confirmation-against-a-pre-auth-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"makes a Pre Auth confirmation"}]},{"type":"text","value":" against the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":". Multiple confirmations can be performed against an authorisation but the total value cannot exceed the original authorised value."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Making Pre Auth Confirmations is optional but they remove the need to send a PDF invoice or EDI file to Farmlands for settlement."}]}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/confirm \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"idempotencyKey\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\",\n    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      }\n    ],\n    \"value\": {\n      \"amount\": \"4000\",\n      \"currency\": \"NZD\"\n    },\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/confirm \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"idempotencyKey\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\",\n    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      }\n    ],\n    \"value\": {\n      \"amount\": \"4000\",\n      \"currency\": \"NZD\"\n    },\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"3\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"createdByAccountId\": \"Jaim1Cu1Q55uooxSens6yk\",\n  \"createdByAccountName\": \"Farmlands Card Partner\",\n  \"idempotencyKey\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    }\n  ],\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"preAuth\": true,\n  \"shortCode\": \"CP-C7F-ZS5-03\",\n  \"type\": \"confirmation\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"value\": {\n    \"amount\": \"4000\",\n    \"currency\": \"NZD\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"activityNumber\": \"3\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"createdByAccountId\": \"Jaim1Cu1Q55uooxSens6yk\",\n  \"createdByAccountName\": \"Farmlands Card Partner\",\n  \"idempotencyKey\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    }\n  ],\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"preAuth\": true,\n  \"shortCode\": \"CP-C7F-ZS5-03\",\n  \"type\": \"confirmation\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"value\": {\n    \"amount\": \"4000\",\n    \"currency\": \"NZD\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#release-funds-held-for-a-pre-auth-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"releases any remaining authorised funds"}]},{"type":"text","value":" against the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" back to the Cardholder."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/release \\\n  -H \"X-Api-Key: $api_key\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/release \\\n  -H \"X-Api-Key: $api_key\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"4\",\n  \"assetType\": \"farmlands.nzd.main\",\n  \"createdAt\": \"2021-06-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"preAuth\": true,\n  \"shortCode\": \"CP-C7F-ZS5-05\",\n  \"type\": \"release\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"6000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"activityNumber\": \"4\",\n  \"assetType\": \"farmlands.nzd.main\",\n  \"createdAt\": \"2021-06-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"preAuth\": true,\n  \"shortCode\": \"CP-C7F-ZS5-05\",\n  \"type\": \"release\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"6000\"\n  }\n}\n"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-pre-auth"},"children":[{"type":"text","value":"Requesting Pre Auth"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"cardholder-not-present"},"children":[{"type":"text","value":"Cardholder Not Present"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners must support this extension if they accept payments when the Cardholder is not physically present when a payment is authorised. For example, to accept phone-based orders or orders where the Farmlands barcode is already known."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Please refer to your Farmlands Card Partner Acceptance Terms and Conditions to understand the risks involved with these transactions."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Card Partners can extend the Barcode Flow to support this by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating Payment Requests"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"patronNotPresent"}]},{"type":"text","value":" flag set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"conditionsEnabled\": true,\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      },\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"patronNotPresent\": true,\n    \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"conditionsEnabled\": true,\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      },\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"patronNotPresent\": true,\n    \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/patron-not-present"},"children":[{"type":"text","value":"Patron Not Present"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"validating-farmlands-barcodes"},"children":[{"type":"text","value":"Validating Farmlands Barcodes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners may optionally "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/scanned-codes#decode-scanned-code","rel":["nofollow"]},"children":[{"type":"text","value":"decode a scanned Farmlands Barcode"}]},{"type":"text","value":" to confirm that it is valid and apply Farmlands discounts before "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/decode \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"code\": \"123456789\",\n    \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n    \"scannedBy\": \"merchant\"\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/decode \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"code\": \"123456789\",\n    \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n    \"scannedBy\": \"merchant\"\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"code\": \"123456789\",\n  \"displayName\": \"Farmlands Card\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"provider\": \"farmlands\",\n  \"scannedBy\": \"merchant\"\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"code\": \"123456789\",\n  \"displayName\": \"Farmlands Card\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"provider\": \"farmlands\",\n  \"scannedBy\": \"merchant\"\n}\n"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"handling-payment-errors"},"children":[{"type":"text","value":"Handling Payment Errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The POS must follow Centrapay’s guidelines on "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-error-handling"},"children":[{"type":"text","value":"handling errors"}]},{"type":"text","value":" when dealing with inconsistencies in "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" statuses due to network issues or race conditions."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-error-handling"},"children":[{"type":"text","value":"Merchant Integration Error Handling"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"refunds"},"children":[{"type":"text","value":"Refunds"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners must support refunds."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Cardholder purchases are refunded by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund","rel":["nofollow"]},"children":[{"type":"text","value":"refunding the Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When the Cardholder presents a transaction reference (e.g. a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" short code or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":") on their paper receipt, the POS should use this reference to look up the Payment Request ID and initiate the refund."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Cardholder\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Present Transaction Reference\n\n    Note over POS: Look up Payment Request ID\n\n    POS->>C: Refund Payment Request\n\n    Note over POS: ✅ Display Refund Confirmation\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Cardholder\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Present Transaction Reference\n\n    Note over POS: Look up Payment Request ID\n\n    POS->>C: Refund Payment Request\n\n    Note over POS: ✅ Display Refund Confirmation\n"}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Cardholder presents a transaction reference on their paper receipt. The POS looks up the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" ID using the transaction reference."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund","rel":["nofollow"]},"children":[{"type":"text","value":"refunds the Payment Request"}]},{"type":"text","value":" using its ID."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/{paymentRequestId}/refund \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"externalRef\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\",\n    \"lineItems\": [\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"value\": {\n      \"amount\": \"6000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/{paymentRequestId}/refund \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"externalRef\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\",\n    \"lineItems\": [\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"value\": {\n      \"amount\": \"6000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"4\",\n  \"assetType\": \"farmlands.nzd.main\",\n  \"createdAt\": \"2021-06-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"5ee0c486308f590260d9a07f\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"shortCode\": \"CP-C7F-ZS5-04\",\n  \"type\": \"refund\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"100\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"activityNumber\": \"4\",\n  \"assetType\": \"farmlands.nzd.main\",\n  \"createdAt\": \"2021-06-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"5ee0c486308f590260d9a07f\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"shortCode\": \"CP-C7F-ZS5-04\",\n  \"type\": \"refund\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"100\"\n  }\n}\n"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/initiating-refunds"},"children":[{"type":"text","value":"Initiating Refunds"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"short-codes"},"children":[{"type":"text","value":"Short Codes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Requests"}]},{"type":"text","value":" have a short code field that is human- and OCR-friendly. When combined with the date or merchant id, short codes can unambiguously identify the correct Payment Request."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Short codes can be used for "},{"type":"element","tag":"a","props":{"href":"#refunds"},"children":[{"type":"text","value":"initiating refunds"}]},{"type":"text","value":" by making them available to the Cardholder on a paper printout."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Card Partners should store the short code for each transaction. This helps with reconciliation if a transaction query occurs."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-activity-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Activities"}]},{"type":"text","value":" are repeatable (e.g. Pre Auth Confirmations and Refunds) so these have their own unique short code in order to disambiguate them. The short codes for these activities are different from the original Payment Request short code."}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"testing-your-integration"},"children":[{"type":"text","value":"Testing Your Integration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Merchant Integrators need to work with Farmlands and Centrapay to get set up to test payments. Please contact Farmlands to organise full end-to-end testing."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You need to go through the following steps in order to test your integration in a test environment:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Centrapay must set you up with a test merchant and merchant config ID, and issue you with an API key before you can make API requests."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Integrators can use the Farmlands test barcodes below to test different scenarios."},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Test Scenario"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Farmlands Card Barcode"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Active Card with available balance"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"424242424"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Active Card with no available balance"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"434343434"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Expired Card"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"454545454"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Inactive Card"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"464646464"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Centrapay can set you up with a Centrapay Portal account and a test Merchant to allow you to verify that transactions are being processed correctly."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"certification-requirements"},"children":[{"type":"text","value":"Certification Requirements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For Centrapay to allow integrations to have production assets turned on, we require partners to complete a Certification Process."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Certification Process includes checking that Farmlands POS integrators are meeting Centrapay’s "},{"type":"element","tag":"a","props":{"href":"/guides/point-of-sale"},"children":[{"type":"text","value":"Point Of Sale"}]},{"type":"text","value":" requirements, and the following additional requirements."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"POS Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST support manual barcode entry."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS scanner SHOULD be capable of scanning the barcode on the back of a Farmlands Card."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Barcode Flow Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST use the unique "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchant-configs","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant Config"}]},{"type":"text","value":" ID corresponding to the site accepting the Farmlands Card payment when "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST provide an invoice number and full details for all "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":" when "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":" if the purchase is being fulfilled immediately."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" MUST be supported when creating a Payment Request. This is to enforce requiring an ID check for high-risk transactions and any future security enhancements."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST always poll the Payment Request after accepting or declining a condition."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Line Item Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Full details for "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":" MUST include the description, SKU, quantity, price, tax and the discount provided to the Cardholder."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The price of a Line Item MUST represent the amount that a Cardholder will pay for that Line Item, including tax and any discounts applied."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The total for all Line Item prices MUST sum to the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" amount."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The price and discount for each Line Item MUST be provided in cents."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The currency for each Line Item MUST be consistent with the Payment Request value."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Patron Not Present Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"a","props":{"href":"#cardholder-not-present"},"children":[{"type":"text","value":"Patron Not Present extension"}]},{"type":"text","value":" SHOULD be supported. This is required when the Cardholder is not physically present (e.g. over the phone) or when the Farmlands Barcode is already known."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Pre Auth Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"a","props":{"href":"#pre-auth"},"children":[{"type":"text","value":"Pre Auth extension"}]},{"type":"text","value":" MUST be supported when invoice numbers are not available at the time of purchase."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pre Auth completion MAY be performed through existing reconciliation channels (eg PDF, EDI messaging) if Pre Auth confirmations are not being used."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pre Authorisations MAY omit Line Items when "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":" when completion is performed through existing reconciliation channels."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" short codes MUST be included when completion is performed through existing reconciliation channels."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pre Auth Confirmations MUST be made with an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"idempotencyKey"}]},{"type":"text","value":" in order to prevent merchants from drawing down on authorised funds twice."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pre Auth Confirmations MUST include an invoice number and full details for all "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Authorised funds that will not be confirmed MUST be "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#release-funds-held-for-a-pre-auth-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"released"}]},{"type":"text","value":" in order to return the funds to the Cardholder (e.g. orders that are cancelled before fulfilment)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Confirmed funds MUST be "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund","rel":["nofollow"]},"children":[{"type":"text","value":"refunded"}]},{"type":"text","value":" in order to return them to the Cardholder. They cannot be released."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Refund Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund","rel":["nofollow"]},"children":[{"type":"text","value":"Refunds"}]},{"type":"text","value":" can be partial or full. Partial refunds can be performed multiple times but the total refunded amount cannot exceed the paid amount."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You MUST include an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" field, unique to each refund transaction, in order to ensure that a refund request can be retried safely."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"At least one of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shortCode"}]},{"type":"text","value":" MUST be available to the patron (eg, on paper print-out)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You MUST include an invoice number and full details for all "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#short-codes"},"children":[{"type":"text","value":"Short codes"}]},{"type":"text","value":" for refunds MUST be included when sending a PDF invoice or EDI file to Farmlands for settlement."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds have their own short code that is different to the Payment Request short code."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Refunds made against a Pre Auth Confirmation MUST include the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"confirmationIdempotencyKey"}]},{"type":"text","value":" field used for original confirmation."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"next-steps"},"children":[{"type":"text","value":"Next Steps"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Processing Farmlands Card transactions through the Centrapay platform is only available to existing Farmlands Card Partners. Existing Card Partners who are interested in integrating with Centrapay should contact their Card Partnership Manager or the Card Specialist team at "},{"type":"element","tag":"a","props":{"href":"mailto:card.specialist@farmlands.co.nz"},"children":[{"type":"text","value":"card.specialist@farmlands.co.nz"}]},{"type":"text","value":" to work through the onboarding process."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reach out to "},{"type":"element","tag":"a","props":{"href":"mailto:integrations@centrapay.com"},"children":[{"type":"text","value":"integrations@centrapay.com"}]},{"type":"text","value":" to get your API keys and a copy of Centrapay’s Certification Process."}]}]}]}]},"img":"/farmlands-pos-integration-cover.jpg","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay and Farmlands have entered into a partnership to allow Farmlands Card Partners to accept Farmlands Card payments at the point of sale. The benefits include real-time standard industry card checks, the elimination of reconciliation EDI files or manual PDF invoicing, and it unlocks the ability to accept many more payment methods on the Centrapay platform. This solution positions Card Partners to be able to accept digital Farmlands Card payments in the future."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners need to be approved by Farmlands prior to enabling the Farmlands Card as a payment option through the Centrapay integration. Contact your Card Partnership Manager or the Card Specialist team at "},{"type":"element","tag":"a","props":{"href":"mailto:card.specialist@farmlands.co.nz"},"children":[{"type":"text","value":"card.specialist@farmlands.co.nz"}]},{"type":"text","value":" to work through the onboarding process."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"centrapay-integration-benefits"},"children":[{"type":"text","value":"Centrapay Integration Benefits"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Integrating with Centrapay streamlines the process for authorising and invoicing Farmlands Card Payments. The integration provides:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Real-time validation that the card presented is a valid Farmlands Card."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Real-time balance checks to verify that the Cardholder has sufficient funds."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Automatic notification of invoices to Farmlands that submit invoices with Centrapay. This eliminates the need to send a PDF invoice or EDI file to Farmlands for settlement."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Merchants can opt-in to accept other assets as payment methods with Centrapay."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"payment-flow-overview"},"children":[{"type":"text","value":"Payment Flow Overview"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands integrations use Centrapay’s "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-barcode-flow#quick-pay-flow"},"children":[{"type":"text","value":"Quick Pay Barcode Flow For Merchants"}]},{"type":"text","value":" to connect to Cardholders and accept Farmlands transactions."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]}]}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Cardholder\n    participant POS\n    participant Centrapay\n\n    Note over Cardholder: Present Barcode\n    Cardholder->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    loop Poll for Payment Confirmation\n        POS->>Centrapay: Get Payment Request\n\n        alt Payment Condition Pending\n            note over POS: ❓ Prompt Cashier to Accept or Decline Condition\n            POS->>Centrapay: POS Accepts Condition\n        else Payment Request Status is paid\n            Note over POS: Stop Polling for Confirmation\n        end\n    end\n\n    Note over POS: ✅ Display Successful Payment\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Cardholder\n    participant POS\n    participant Centrapay\n\n    Note over Cardholder: Present Barcode\n    Cardholder->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    loop Poll for Payment Confirmation\n        POS->>Centrapay: Get Payment Request\n\n        alt Payment Condition Pending\n            note over POS: ❓ Prompt Cashier to Accept or Decline Condition\n            POS->>Centrapay: POS Accepts Condition\n        else Payment Request Status is paid\n            Note over POS: Stop Polling for Confirmation\n        end\n    end\n\n    Note over POS: ✅ Display Successful Payment"}]}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Farmlands Cardholder presents their Farmlands Card for payment. The cashier at the point of sale will scan the Barcode or manually enter the 9-digit Farmlands Card number."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Card number is under the Cardholder’s name on the front of the card; and under the barcode on the back of the card."}]}]}]}]},{"type":"element","tag":"img","props":{"src":"/farmlands-card.png","alt":"The back of an example Farmlands card, displaying a barcode and a 9-digit card number","style":"height: 288px;"},"children":[]},{"type":"element","tag":"ol","props":{"start":2},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creates a Payment Request"}]},{"type":"text","value":" with the Farmlands Card barcode."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"conditionsEnabled\": true,\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      },\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"barcode\": \"123456789\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"conditionsEnabled\": true,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"configId\": \"5ee168e8597be5002af7b454\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"lineItems\": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"name\": \"Hard Hat\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"sku\": \"GH1234\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"qty\": \"1\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"price\": \"4000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"tax\": \"15\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"discount\": \"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"name\": \"Tool Belt\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"sku\": \"GH1234\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"qty\": \"1\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"price\": \"6000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"tax\": \"15\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"discount\": \"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"value\": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      \"amount\": \"10000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      \"currency\": \"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"conditionsEnabled\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"invoiceRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"sy8CRmo3sp3ArOpnfmb423\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"lineItems\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Hard Hat\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"4000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Tool Belt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"6000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConditions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"photo-id-check\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"message\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Please check ID\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"awaiting-merchant\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"farmlands.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polls the Payment Request"}]},{"type":"text","value":" every second for status changes."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"conditionsEnabled\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"invoiceRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"sy8CRmo3sp3ArOpnfmb423\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"lineItems\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Hard Hat\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"4000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Tool Belt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"6000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConditions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"photo-id-check\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"message\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Please check ID\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"awaiting-merchant\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"farmlands.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Polling the Payment Request"}]},{"type":"text","value":" returns a list of pending "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"merchantConditions"}]},{"type":"text","value":" in the response. The POS must prompt the cashier to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accept"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"decline"}]},{"type":"text","value":" each "},{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Condition"}]},{"type":"text","value":" in order to successfully complete a payment."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/conditions/1/accept \\\n  -H \"X-Api-Key: $api_key\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/conditions/1/accept \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"2\",\n  \"conditionId\": \"1\",\n  \"createdAt\": \"2022-05-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"type\": \"accept-condition\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": 100\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"activityNumber\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"conditionId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2022-05-12T01:17:00.000Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantAccountId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"C4QnjXvj8At6SMsEN4LRi9\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConfigId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentRequestCreatedBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentRequestId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"accept-condition\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"100"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"A successful payment is identified when all Payment Conditions have an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"accepted"}]},{"type":"text","value":" status and the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" status is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"paid"}]},{"type":"text","value":". Here, the POS must stop polling and display confirmation of the successful payment."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"accepted\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"conditionsEnabled\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"invoiceRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"sy8CRmo3sp3ArOpnfmb423\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"lineItems\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Hard Hat\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"4000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Tool Belt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"6000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConditions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"photo-id-check\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"message\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Please check ID\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"accepted\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"farmlands.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"paid\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"payment-flow-implementation"},"children":[{"type":"text","value":"Payment Flow Implementation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Payment Flow can only be used by existing Farmlands Card Partners. Card Partners must complete the following steps to accept Farmlands transactions."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Each Card Partner site must be correctly set up as a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchants","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant"}]},{"type":"text","value":" in Centrapay’s system."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Centrapay needs to supply Card Partners with API keys to allow them to authenticate their API requests."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Card Partners must meet "},{"type":"element","tag":"a","props":{"href":"#basic-requirements"},"children":[{"type":"text","value":"basic payment requirements"}]},{"type":"text","value":" in order to implement the Barcode Payment Flow."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Each Card Partner should extend the Barcode Payment Flow to meet any additional requirements they have."},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Mandatory extensions include supporting "},{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"#refunds"},"children":[{"type":"text","value":"Refunds"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Optional extensions include supporting "},{"type":"element","tag":"a","props":{"href":"#pre-auth"},"children":[{"type":"text","value":"Pre Auth"}]},{"type":"text","value":" payments when there is no invoice number available at the point of sale or the purchase cannot be fulfilled immediately, supporting payments when the "},{"type":"element","tag":"a","props":{"href":"#cardholder-not-present"},"children":[{"type":"text","value":"Cardholder is not physically present"}]},{"type":"text","value":", and "},{"type":"element","tag":"a","props":{"href":"#validating-farmlands-barcodes"},"children":[{"type":"text","value":"validating Farmlands barcodes"}]},{"type":"text","value":" before a transaction is initiated."}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"merchant-configuration"},"children":[{"type":"text","value":"Merchant Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each Card Partner site that needs to accept Farmlands Card payments must be set up as a separate Centrapay "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchants","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant"}]},{"type":"text","value":" with its own "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchant-configs","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant Config"}]},{"type":"text","value":". The Merchant Config contains a Farmlands "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchant-configs#payment-option-config","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Option"}]},{"type":"text","value":" that allows the site to accept Farmlands Payments."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The POS needs to provide the unique Merchant Config ID for the Merchant when "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating Payment Requests"}]},{"type":"text","value":" on their behalf."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Merchants and Merchant Configs are managed by Centrapay. Farmlands will provide Card Partners with these details."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"authentication"},"children":[{"type":"text","value":"Authentication"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Requests to Centrapay’s APIs are "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/auth","rel":["nofollow"]},"children":[{"type":"text","value":"authenticated"}]},{"type":"text","value":" by providing an API key in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"X-Api-Key"}]},{"type":"text","value":" header. "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/api-keys","rel":["nofollow"]},"children":[{"type":"text","value":"API Keys"}]},{"type":"text","value":" provide enduring access to a single Centrapay account."}]},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/account-memberships \\\n  -H \"X-Api-Key: $api_key\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/account-memberships \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Contact "},{"type":"element","tag":"a","props":{"href":"mailto:integrations@centrapay.com"},"children":[{"type":"text","value":"integrations@centrapay.com"}]},{"type":"text","value":" to be issued with your API keys."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"basic-requirements"},"children":[{"type":"text","value":"Basic Requirements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Payment Flow needs the following requirements to be met."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Card Partners MUST use the unique "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchant-configs","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant Config"}]},{"type":"text","value":" ID that was set up for the site that is accepting the payment when "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Card Partners MUST support "},{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST display a message to prompt the cashier to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accept"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"decline"}]},{"type":"text","value":" any pending Payment Conditions."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST include full details for all "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":" and an invoice number when creating a Payment Request where the purchase is being fulfilled immediately."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See the "},{"type":"element","tag":"a","props":{"href":"#pre-auth"},"children":[{"type":"text","value":"Pre Auth extension"}]},{"type":"text","value":" to accept payments when there is no invoice number available at the point of sale or the purchase cannot be fulfilled immediately."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST stop "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polling the Payment Request"}]},{"type":"text","value":" when its status is no longer "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"new"}]},{"type":"text","value":"."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners must support this extension."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This extension enables the POS to enforce requiring an ID check for high-risk transactions."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Card Partners must extend the Barcode Flow to support this by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating Payment Requests"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"conditionsEnabled"}]},{"type":"text","value":" flag set to true. The response will include the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"merchantConditions"}]},{"type":"text","value":" that must be accepted, and each condition will include a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"message"}]},{"type":"text","value":" field that the POS can display to the cashier."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Payment Request must always be polled after accepting or declining a condition."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"pre-auth"},"children":[{"type":"text","value":"Pre Auth"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners must support this extension when there is not an invoice number available at the point of sale or the purchase cannot be fulfilled immediately. This might happen if your stock is not on hand or you have a separate fulfilment process."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This extension enables the POS to create an authorisation that ensures funds are available and places a hold on them."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Card Partners can extend the Barcode Flow to support this by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating Payment Requests"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuth"}]},{"type":"text","value":" flag set to true."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Pre Auth Sequence"}]}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\nautonumber\n\nparticipant Cardholder\nparticipant POS\nparticipant Centrapay\n\nNote over Cardholder: Present Barcode\nCardholder->>POS: Scan Barcode\n\nPOS->>Centrapay: Create Payment Request with Barcode and the preAuth flag\n\nloop Poll for Payment Confirmation\n    POS->>Centrapay: Get Payment Request\n\n    alt Payment Condition Pending\n            note over POS: ❓ Prompt Cashier to Accept or Decline Condition\n            POS->>Centrapay: POS Accepts Condition\n        else Payment Request Status is paid\n            Note over POS: Stop Polling for Confirmation\n        end\nend\n\nNote over POS: ✅ Display Authorization Confirmation\n\nNote over POS, Centrapay: ⏱ Some time later..\n\nloop 0..Many (Up to Authorised Amount)\n    POS->>Centrapay: Make Confirmations Against Authorised Funds\n\n    Note over POS: ✅ Display Confirmation\nend\n\nPOS->>Centrapay: Release Remaining Authorised Funds\nNote over POS: ✅ Display Release confirmation\n\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\nautonumber\n\nparticipant Cardholder\nparticipant POS\nparticipant Centrapay\n\nNote over Cardholder: Present Barcode\nCardholder->>POS: Scan Barcode\n\nPOS->>Centrapay: Create Payment Request with Barcode and the preAuth flag\n\nloop Poll for Payment Confirmation\n    POS->>Centrapay: Get Payment Request\n\n    alt Payment Condition Pending\n            note over POS: ❓ Prompt Cashier to Accept or Decline Condition\n            POS->>Centrapay: POS Accepts Condition\n        else Payment Request Status is paid\n            Note over POS: Stop Polling for Confirmation\n        end\nend\n\nNote over POS: ✅ Display Authorization Confirmation\n\nNote over POS, Centrapay: ⏱ Some time later..\n\nloop 0..Many (Up to Authorised Amount)\n    POS->>Centrapay: Make Confirmations Against Authorised Funds\n\n    Note over POS: ✅ Display Confirmation\nend\n\nPOS->>Centrapay: Release Remaining Authorised Funds\nNote over POS: ✅ Display Release confirmation"}]}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Cardholder presents their Farmlands Card for the POS to scan."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS authorises a Pre Auth payment by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":" with the barcode on the Farmlands Card and the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preauth"}]},{"type":"text","value":" flag. Creating a Payment Request must also enable the "},{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" extension and include full details for all "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":"."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Including Line Items is optional for Card Partners that do not intend to make Pre Auth confirmations."}]}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"conditionsEnabled\": true,\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      },\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"preAuth\": true,\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"barcode\": \"123456789\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"conditionsEnabled\": true,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"configId\": \"5ee168e8597be5002af7b454\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"lineItems\": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"name\": \"Hard Hat\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"sku\": \"GH1234\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"qty\": \"1\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"price\": \"4000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"tax\": \"15\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"discount\": \"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"name\": \"Tool Belt\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"sku\": \"GH1234\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"qty\": \"1\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"price\": \"6000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"tax\": \"15\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"discount\": \"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"preAuth\": true,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"value\": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      \"amount\": \"10000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      \"currency\": \"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5efbe2fb96c08357bb2b9242\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"conditionsEnabled\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5efbe2fb96c08357bb2b9242\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"invoiceRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"sy8CRmo3sp3ArOpnfmb423\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"lineItems\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Hard Hat\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"4000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Tool Belt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"6000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConditions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"photo-id-check\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"message\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Please check ID\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"awaiting-merchant\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"farmlands.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polls the Payment Request"}]},{"type":"text","value":" every second for status changes."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"awaiting-merchant\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"conditionsEnabled\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"invoiceRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"sy8CRmo3sp3ArOpnfmb423\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"lineItems\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Hard Hat\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"4000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Tool Belt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"6000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConditions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"photo-id-check\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"message\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Please check ID\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"awaiting-merchant\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"farmlands.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Polling the Payment Request"}]},{"type":"text","value":" returns a list of pending "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"merchantConditions"}]},{"type":"text","value":" in the response. The POS must prompt the cashier to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accept"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"decline"}]},{"type":"text","value":" each "},{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Condition"}]},{"type":"text","value":" in order to successfully authorise a Pre Auth payment."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/conditions/1/accept \\\n  -H \"X-Api-Key: $api_key\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/conditions/1/accept \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"2\",\n  \"conditionId\": \"1\",\n  \"createdAt\": \"2022-05-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"type\": \"accept-condition\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": 100\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"activityNumber\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"conditionId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2022-05-12T01:17:00.000Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantAccountId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"C4QnjXvj8At6SMsEN4LRi9\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConfigId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentRequestCreatedBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentRequestId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"accept-condition\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"100"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"A successful authorisation is identified when all Payment Conditions have an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"accepted"}]},{"type":"text","value":" status, the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" status is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"paid"}]},{"type":"text","value":" and the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuthStatus"}]},{"type":"text","value":" is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"authorized"}]},{"type":"text","value":". Here, the POS must stop polling and display confirmation of the successful authorisation."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"conditionsEnabled\": true,\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    },\n    {\n      \"name\": \"Tool Belt\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"6000\",\n      \"tax\": \"15\",\n      \"discount\": \"600\"\n    }\n  ],\n  \"merchantConditions\": [\n    {\n      \"id\": \"1\",\n      \"name\": \"photo-id-check\",\n      \"message\": \"Please check ID\",\n      \"status\": \"accepted\"\n    }\n  ],\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"farmlands.nzd.main\"\n    }\n  ],\n  \"preAuthStatus\": \"authorized\",\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"conditionsEnabled\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"invoiceRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"sy8CRmo3sp3ArOpnfmb423\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"lineItems\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Hard Hat\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"4000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Tool Belt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"6000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConditions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"photo-id-check\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"message\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Please check ID\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"accepted\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"farmlands.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"preAuthStatus\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"authorized\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"paid\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When the purchase is ready to be fulfilled, the POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#make-a-confirmation-against-a-pre-auth-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"makes a Pre Auth confirmation"}]},{"type":"text","value":" against the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":". Multiple confirmations can be performed against an authorisation but the total value cannot exceed the original authorised value."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Making Pre Auth Confirmations is optional but they remove the need to send a PDF invoice or EDI file to Farmlands for settlement."}]}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/confirm \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"idempotencyKey\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\",\n    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      }\n    ],\n    \"value\": {\n      \"amount\": \"4000\",\n      \"currency\": \"NZD\"\n    },\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/confirm \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"idempotencyKey\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"lineItems\": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"name\": \"Hard Hat\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"sku\": \"GH1234\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"qty\": \"1\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"price\": \"4000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"tax\": \"15\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"discount\": \"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"value\": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      \"amount\": \"4000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      \"currency\": \"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"3\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"createdByAccountId\": \"Jaim1Cu1Q55uooxSens6yk\",\n  \"createdByAccountName\": \"Farmlands Card Partner\",\n  \"idempotencyKey\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"lineItems\": [\n    {\n      \"name\": \"Hard Hat\",\n      \"sku\": \"GH1234\",\n      \"qty\": \"1\",\n      \"price\": \"4000\",\n      \"tax\": \"15\",\n      \"discount\": \"400\"\n    }\n  ],\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"preAuth\": true,\n  \"shortCode\": \"CP-C7F-ZS5-03\",\n  \"type\": \"confirmation\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"value\": {\n    \"amount\": \"4000\",\n    \"currency\": \"NZD\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"activityNumber\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"3\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdByAccountId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Jaim1Cu1Q55uooxSens6yk\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdByAccountName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"idempotencyKey\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"invoiceRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"sy8CRmo3sp3ArOpnfmb423\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"lineItems\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Hard Hat\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"sku\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"GH1234\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"qty\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"1\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"price\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"4000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"tax\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"15\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"discount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentRequestId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"preAuth\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"CP-C7F-ZS5-03\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"confirmation\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"4000\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#release-funds-held-for-a-pre-auth-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"releases any remaining authorised funds"}]},{"type":"text","value":" against the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" back to the Cardholder."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/release \\\n  -H \"X-Api-Key: $api_key\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/release \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"4\",\n  \"assetType\": \"farmlands.nzd.main\",\n  \"createdAt\": \"2021-06-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"preAuth\": true,\n  \"shortCode\": \"CP-C7F-ZS5-05\",\n  \"type\": \"release\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"6000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"activityNumber\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"4\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"farmlands.nzd.main\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-12T01:17:00.000Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantAccountId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"C4QnjXvj8At6SMsEN4LRi9\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConfigId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentRequestCreatedBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentRequestId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"preAuth\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"CP-C7F-ZS5-05\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"release\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"6000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-pre-auth"},"children":[{"type":"text","value":"Requesting Pre Auth"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"cardholder-not-present"},"children":[{"type":"text","value":"Cardholder Not Present"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners must support this extension if they accept payments when the Cardholder is not physically present when a payment is authorised. For example, to accept phone-based orders or orders where the Farmlands barcode is already known."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Please refer to your Farmlands Card Partner Acceptance Terms and Conditions to understand the risks involved with these transactions."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Card Partners can extend the Barcode Flow to support this by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating Payment Requests"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"patronNotPresent"}]},{"type":"text","value":" flag set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"conditionsEnabled\": true,\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n    \"lineItems\": [\n      {\n        \"name\": \"Hard Hat\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"4000\",\n        \"tax\": \"15\",\n        \"discount\": \"400\"\n      },\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"patronNotPresent\": true,\n    \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"barcode\": \"123456789\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"conditionsEnabled\": true,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"configId\": \"5ee168e8597be5002af7b454\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"lineItems\": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"name\": \"Hard Hat\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"sku\": \"GH1234\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"qty\": \"1\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"price\": \"4000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"tax\": \"15\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"discount\": \"400\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"name\": \"Tool Belt\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"sku\": \"GH1234\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"qty\": \"1\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"price\": \"6000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"tax\": \"15\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"discount\": \"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"patronNotPresent\": true,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"value\": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      \"amount\": \"10000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      \"currency\": \"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/patron-not-present"},"children":[{"type":"text","value":"Patron Not Present"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"validating-farmlands-barcodes"},"children":[{"type":"text","value":"Validating Farmlands Barcodes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners may optionally "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/scanned-codes#decode-scanned-code","rel":["nofollow"]},"children":[{"type":"text","value":"decode a scanned Farmlands Barcode"}]},{"type":"text","value":" to confirm that it is valid and apply Farmlands discounts before "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/decode \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"code\": \"123456789\",\n    \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n    \"scannedBy\": \"merchant\"\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/decode \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"code\": \"123456789\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"merchantConfigId\": \"5ee168e8597be5002af7b454\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"scannedBy\": \"merchant\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"code\": \"123456789\",\n  \"displayName\": \"Farmlands Card\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"provider\": \"farmlands\",\n  \"scannedBy\": \"merchant\"\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"code\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"displayName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConfigId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"provider\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"farmlands\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"scannedBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"merchant\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"handling-payment-errors"},"children":[{"type":"text","value":"Handling Payment Errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The POS must follow Centrapay’s guidelines on "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-error-handling"},"children":[{"type":"text","value":"handling errors"}]},{"type":"text","value":" when dealing with inconsistencies in "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" statuses due to network issues or race conditions."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-error-handling"},"children":[{"type":"text","value":"Merchant Integration Error Handling"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"refunds"},"children":[{"type":"text","value":"Refunds"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Farmlands Card Partners must support refunds."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Cardholder purchases are refunded by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund","rel":["nofollow"]},"children":[{"type":"text","value":"refunding the Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When the Cardholder presents a transaction reference (e.g. a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" short code or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":") on their paper receipt, the POS should use this reference to look up the Payment Request ID and initiate the refund."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Cardholder\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Present Transaction Reference\n\n    Note over POS: Look up Payment Request ID\n\n    POS->>C: Refund Payment Request\n\n    Note over POS: ✅ Display Refund Confirmation\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Cardholder\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Present Transaction Reference\n\n    Note over POS: Look up Payment Request ID\n\n    POS->>C: Refund Payment Request\n\n    Note over POS: ✅ Display Refund Confirmation"}]}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Cardholder presents a transaction reference on their paper receipt. The POS looks up the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" ID using the transaction reference."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund","rel":["nofollow"]},"children":[{"type":"text","value":"refunds the Payment Request"}]},{"type":"text","value":" using its ID."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/{paymentRequestId}/refund \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"externalRef\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\",\n    \"lineItems\": [\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"value\": {\n      \"amount\": \"6000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/{paymentRequestId}/refund \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"externalRef\": \"e8df06e2-13a5-48b4-b670-3fd6d815fe0a\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"lineItems\": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"name\": \"Tool Belt\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"sku\": \"GH1234\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"qty\": \"1\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"price\": \"6000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"tax\": \"15\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"        \"discount\": \"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    \"value\": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      \"amount\": \"6000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"      \"currency\": \"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"4\",\n  \"assetType\": \"farmlands.nzd.main\",\n  \"createdAt\": \"2021-06-12T01:17:00.000Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"invoiceRef\": \"sy8CRmo3sp3ArOpnfmb423\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"5ee0c486308f590260d9a07f\",\n  \"merchantName\": \"Farmlands Card Partner\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"shortCode\": \"CP-C7F-ZS5-04\",\n  \"type\": \"refund\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"100\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"activityNumber\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"4\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"farmlands.nzd.main\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"2021-06-12T01:17:00.000Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"createdBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"invoiceRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"sy8CRmo3sp3ArOpnfmb423\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantAccountId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"C4QnjXvj8At6SMsEN4LRi9\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantConfigId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"5ee0c486308f590260d9a07f\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"Farmlands Card Partner\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentRequestCreatedBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"paymentRequestId\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"CP-C7F-ZS5-04\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"refund\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29fe99"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2338db"},"children":[{"type":"text","value":"\"100\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-840cac"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/initiating-refunds"},"children":[{"type":"text","value":"Initiating Refunds"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"short-codes"},"children":[{"type":"text","value":"Short Codes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Requests"}]},{"type":"text","value":" have a short code field that is human- and OCR-friendly. When combined with the date or merchant id, short codes can unambiguously identify the correct Payment Request."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Short codes can be used for "},{"type":"element","tag":"a","props":{"href":"#refunds"},"children":[{"type":"text","value":"initiating refunds"}]},{"type":"text","value":" by making them available to the Cardholder on a paper printout."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Card Partners should store the short code for each transaction. This helps with reconciliation if a transaction query occurs."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-activity-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Activities"}]},{"type":"text","value":" are repeatable (e.g. Pre Auth Confirmations and Refunds) so these have their own unique short code in order to disambiguate them. The short codes for these activities are different from the original Payment Request short code."}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"testing-your-integration"},"children":[{"type":"text","value":"Testing Your Integration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Merchant Integrators need to work with Farmlands and Centrapay to get set up to test payments. Please contact Farmlands to organise full end-to-end testing."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You need to go through the following steps in order to test your integration in a test environment:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Centrapay must set you up with a test merchant and merchant config ID, and issue you with an API key before you can make API requests."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Integrators can use the Farmlands test barcodes below to test different scenarios."},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Test Scenario"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Farmlands Card Barcode"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Active Card with available balance"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"424242424"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Active Card with no available balance"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"434343434"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Expired Card"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"454545454"}]}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Inactive Card"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"464646464"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Centrapay can set you up with a Centrapay Portal account and a test Merchant to allow you to verify that transactions are being processed correctly."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"certification-requirements"},"children":[{"type":"text","value":"Certification Requirements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For Centrapay to allow integrations to have production assets turned on, we require partners to complete a Certification Process."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Certification Process includes checking that Farmlands POS integrators are meeting Centrapay’s "},{"type":"element","tag":"a","props":{"href":"/guides/point-of-sale"},"children":[{"type":"text","value":"Point Of Sale"}]},{"type":"text","value":" requirements, and the following additional requirements."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"POS Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST support manual barcode entry."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS scanner SHOULD be capable of scanning the barcode on the back of a Farmlands Card."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Barcode Flow Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST use the unique "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/merchant-configs","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant Config"}]},{"type":"text","value":" ID corresponding to the site accepting the Farmlands Card payment when "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST provide an invoice number and full details for all "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":" when "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":" if the purchase is being fulfilled immediately."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" MUST be supported when creating a Payment Request. This is to enforce requiring an ID check for high-risk transactions and any future security enhancements."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS MUST always poll the Payment Request after accepting or declining a condition."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Line Item Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Full details for "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":" MUST include the description, SKU, quantity, price, tax and the discount provided to the Cardholder."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The price of a Line Item MUST represent the amount that a Cardholder will pay for that Line Item, including tax and any discounts applied."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The total for all Line Item prices MUST sum to the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" amount."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The price and discount for each Line Item MUST be provided in cents."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The currency for each Line Item MUST be consistent with the Payment Request value."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Patron Not Present Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"a","props":{"href":"#cardholder-not-present"},"children":[{"type":"text","value":"Patron Not Present extension"}]},{"type":"text","value":" SHOULD be supported. This is required when the Cardholder is not physically present (e.g. over the phone) or when the Farmlands Barcode is already known."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Pre Auth Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"a","props":{"href":"#pre-auth"},"children":[{"type":"text","value":"Pre Auth extension"}]},{"type":"text","value":" MUST be supported when invoice numbers are not available at the time of purchase."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pre Auth completion MAY be performed through existing reconciliation channels (eg PDF, EDI messaging) if Pre Auth confirmations are not being used."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pre Authorisations MAY omit Line Items when "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":" when completion is performed through existing reconciliation channels."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" short codes MUST be included when completion is performed through existing reconciliation channels."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pre Auth Confirmations MUST be made with an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"idempotencyKey"}]},{"type":"text","value":" in order to prevent merchants from drawing down on authorised funds twice."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pre Auth Confirmations MUST include an invoice number and full details for all "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Authorised funds that will not be confirmed MUST be "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#release-funds-held-for-a-pre-auth-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"released"}]},{"type":"text","value":" in order to return the funds to the Cardholder (e.g. orders that are cancelled before fulfilment)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Confirmed funds MUST be "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund","rel":["nofollow"]},"children":[{"type":"text","value":"refunded"}]},{"type":"text","value":" in order to return them to the Cardholder. They cannot be released."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Refund Requirements"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund","rel":["nofollow"]},"children":[{"type":"text","value":"Refunds"}]},{"type":"text","value":" can be partial or full. Partial refunds can be performed multiple times but the total refunded amount cannot exceed the paid amount."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You MUST include an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" field, unique to each refund transaction, in order to ensure that a refund request can be retried safely."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"At least one of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shortCode"}]},{"type":"text","value":" MUST be available to the patron (eg, on paper print-out)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You MUST include an invoice number and full details for all "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#short-codes"},"children":[{"type":"text","value":"Short codes"}]},{"type":"text","value":" for refunds MUST be included when sending a PDF invoice or EDI file to Farmlands for settlement."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds have their own short code that is different to the Payment Request short code."}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Refunds made against a Pre Auth Confirmation MUST include the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"confirmationIdempotencyKey"}]},{"type":"text","value":" field used for original confirmation."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"next-steps"},"children":[{"type":"text","value":"Next Steps"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Processing Farmlands Card transactions through the Centrapay platform is only available to existing Farmlands Card Partners. Existing Card Partners who are interested in integrating with Centrapay should contact their Card Partnership Manager or the Card Specialist team at "},{"type":"element","tag":"a","props":{"href":"mailto:card.specialist@farmlands.co.nz"},"children":[{"type":"text","value":"card.specialist@farmlands.co.nz"}]},{"type":"text","value":" to work through the onboarding process."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Reach out to "},{"type":"element","tag":"a","props":{"href":"mailto:integrations@centrapay.com"},"children":[{"type":"text","value":"integrations@centrapay.com"}]},{"type":"text","value":" to get your API keys and a copy of Centrapay’s Certification Process."}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-29fe99{color:#0550AE}.ct-2338db{color:#0A3069}.ct-840cac{color:#24292F}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"centrapay-integration-benefits","depth":2,"text":"Centrapay Integration Benefits"},{"id":"payment-flow-overview","depth":2,"text":"Payment Flow Overview"},{"id":"payment-flow-implementation","depth":2,"text":"Payment Flow Implementation","children":[{"id":"merchant-configuration","depth":3,"text":"Merchant Configuration"},{"id":"authentication","depth":3,"text":"Authentication"},{"id":"basic-requirements","depth":3,"text":"Basic Requirements"},{"id":"payment-conditions","depth":3,"text":"Payment Conditions"},{"id":"pre-auth","depth":3,"text":"Pre Auth"},{"id":"cardholder-not-present","depth":3,"text":"Cardholder Not Present"},{"id":"validating-farmlands-barcodes","depth":3,"text":"Validating Farmlands Barcodes"},{"id":"handling-payment-errors","depth":3,"text":"Handling Payment Errors"},{"id":"refunds","depth":3,"text":"Refunds"},{"id":"short-codes","depth":3,"text":"Short Codes"}]},{"id":"testing-your-integration","depth":2,"text":"Testing Your Integration"},{"id":"certification-requirements","depth":2,"text":"Certification Requirements"},{"id":"next-steps","depth":2,"text":"Next Steps"}]}},"_type":"markdown","_id":"content:guides:farmlands-pos-integration.md","_source":"content","_file":"guides/farmlands-pos-integration.md","_extension":"md"},{"_path":"/guides/initiating-refunds","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Initiating Refunds","description":"Refunds are initiated by calling the Refund Payment Request endpoint.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds are initiated by calling the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"Refund Payment Request"}]},{"type":"text","value":" endpoint."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds can be partial or full. Partial refunds can be performed multiple times but the total refunded amount cannot exceed the paid amount."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"refund-idempotency"},"children":[{"type":"text","value":"Refund Idempotency"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refund requests must provide an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" that is unique for all refunds made against the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This field provides idempotency for the refund operation and ensures that a refund can be retried safely and only one refund will be actioned. Subsequent refund requests with the same "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"amount"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" will respond with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"HTTP 200 OK"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"obtaining-a-payment-request-id"},"children":[{"type":"text","value":"Obtaining a Payment Request Id"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds are initiated using the identifier for the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":". However, a patron is NOT expected to have this information available."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Merchants can obtain a Payment Request identifier by looking the Payment Request up by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shortCode"}]},{"type":"text","value":" or by using some other transaction reference available to the patron."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Digital wallets that support transacting with Centrapay will always make the Payment Request "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shortCode"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" attributes discoverable in the user’s transaction history so they can be used to negotiate refunds."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"by-short-code"},"children":[{"type":"text","value":"By Short Code"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Call the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request-by-short-code","rel":["nofollow"]},"children":[{"type":"text","value":"Get Payment Request by Short Code"}]},{"type":"text","value":" endpoint using the Centrapay short code that the patron obtains from their paper receipt or digital wallet transaction history."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Patron Presents Short Code\n    POS->>C: Get Payment Request by Short Code\n    POS->>C: Refund Payment Request\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Patron Presents Short Code\n    POS->>C: Get Payment Request by Short Code\n    POS->>C: Refund Payment Request\n"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"by-transaction-reference"},"children":[{"type":"text","value":"By Transaction Reference"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lookup the transaction within the merchant system using the transaction reference that the patron obtains from their paper receipt or digital wallet transaction history."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The transaction reference is made available to users of digital wallets by attaching it as the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" attribute when "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Patron Presents External Reference\n    POS->>C: Refund Payment Request\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Patron Presents External Reference\n    POS->>C: Refund Payment Request\n"}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"refund-error-handling"},"children":[{"type":"text","value":"Refund Error Handling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are a number of reasons why refunds can fail. These are documented on the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund","rel":["nofollow"]},"children":[{"type":"text","value":"Refund Payment Request"}]},{"type":"text","value":" endpoint and should be communicated to the user."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds that encounter unknown errors should be retried as per "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-error-handling"},"children":[{"type":"text","value":"Merchant Integration Error Handling"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When retrying unknown errors is impossible, POS operators may need to select a different refund method."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"multi-asset-selection"},"children":[{"type":"text","value":"Multi-Asset Selection"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Requests"}]},{"type":"text","value":" may be paid by multiple assets. When refunding a multi-asset Payment Request, the refunded asset is not controllable by the merchant."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The asset(s) to refund will be selected automatically based on the asset type refund priority. In general, the most flexible asset types will have the highest priority.  For example, assets that are acceptable at the broadest number of merchants (ie, cash equivalent assets) will be refunded first and the most restrictive assets will be refunded last."}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds are initiated by calling the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"Refund Payment Request"}]},{"type":"text","value":" endpoint."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds can be partial or full. Partial refunds can be performed multiple times but the total refunded amount cannot exceed the paid amount."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"refund-idempotency"},"children":[{"type":"text","value":"Refund Idempotency"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refund requests must provide an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" that is unique for all refunds made against the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This field provides idempotency for the refund operation and ensures that a refund can be retried safely and only one refund will be actioned. Subsequent refund requests with the same "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"amount"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" will respond with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"HTTP 200 OK"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"obtaining-a-payment-request-id"},"children":[{"type":"text","value":"Obtaining a Payment Request Id"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds are initiated using the identifier for the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":". However, a patron is NOT expected to have this information available."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Merchants can obtain a Payment Request identifier by looking the Payment Request up by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shortCode"}]},{"type":"text","value":" or by using some other transaction reference available to the patron."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Digital wallets that support transacting with Centrapay will always make the Payment Request "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shortCode"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" attributes discoverable in the user’s transaction history so they can be used to negotiate refunds."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"by-short-code"},"children":[{"type":"text","value":"By Short Code"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Call the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request-by-short-code","rel":["nofollow"]},"children":[{"type":"text","value":"Get Payment Request by Short Code"}]},{"type":"text","value":" endpoint using the Centrapay short code that the patron obtains from their paper receipt or digital wallet transaction history."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Patron Presents Short Code\n    POS->>C: Get Payment Request by Short Code\n    POS->>C: Refund Payment Request\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Patron Presents Short Code\n    POS->>C: Get Payment Request by Short Code\n    POS->>C: Refund Payment Request"}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"by-transaction-reference"},"children":[{"type":"text","value":"By Transaction Reference"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lookup the transaction within the merchant system using the transaction reference that the patron obtains from their paper receipt or digital wallet transaction history."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The transaction reference is made available to users of digital wallets by attaching it as the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" attribute when "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Patron Presents External Reference\n    POS->>C: Refund Payment Request\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    P->>POS: Patron Presents External Reference\n    POS->>C: Refund Payment Request"}]}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"refund-error-handling"},"children":[{"type":"text","value":"Refund Error Handling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are a number of reasons why refunds can fail. These are documented on the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund","rel":["nofollow"]},"children":[{"type":"text","value":"Refund Payment Request"}]},{"type":"text","value":" endpoint and should be communicated to the user."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds that encounter unknown errors should be retried as per "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-error-handling"},"children":[{"type":"text","value":"Merchant Integration Error Handling"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When retrying unknown errors is impossible, POS operators may need to select a different refund method."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"multi-asset-selection"},"children":[{"type":"text","value":"Multi-Asset Selection"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Requests"}]},{"type":"text","value":" may be paid by multiple assets. When refunding a multi-asset Payment Request, the refunded asset is not controllable by the merchant."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The asset(s) to refund will be selected automatically based on the asset type refund priority. In general, the most flexible asset types will have the highest priority.  For example, assets that are acceptable at the broadest number of merchants (ie, cash equivalent assets) will be refunded first and the most restrictive assets will be refunded last."}]}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"refund-idempotency","depth":2,"text":"Refund Idempotency"},{"id":"obtaining-a-payment-request-id","depth":2,"text":"Obtaining a Payment Request Id","children":[{"id":"by-short-code","depth":3,"text":"By Short Code"},{"id":"by-transaction-reference","depth":3,"text":"By Transaction Reference"}]},{"id":"refund-error-handling","depth":2,"text":"Refund Error Handling"},{"id":"multi-asset-selection","depth":2,"text":"Multi-Asset Selection"}]}},"_type":"markdown","_id":"content:guides:initiating-refunds.md","_source":"content","_file":"guides/initiating-refunds.md","_extension":"md"},{"_path":"/guides/line-items","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Line Items","description":"Line Items are used to communicate the details of a purchase to a Patron.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":" are used to communicate the details of a purchase to a Patron."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"restrictions"},"children":[{"type":"text","value":"Restrictions"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The price of a Line Item MUST represent the amount that a Patron will pay for that Line Item, including tax and any discounts applied (e.g. price = product price * qty - discounts + tax)."},{"type":"element","tag":"code","props":{"code":"[\n  {\n    name: 'Cinema Tickets',\n    sku: '123456789',\n    qty: '2',\n    price: '3600', // 2 x $20 + $6 (15% tax) - $10 (discount)\n    tax: '15.0',\n    discount: '1000' # $10\n  }\n]\n","filename":"Example","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[\n  {\n    name: 'Cinema Tickets',\n    sku: '123456789',\n    qty: '2',\n    price: '3600', // 2 x $20 + $6 (15% tax) - $10 (discount)\n    tax: '15.0',\n    discount: '1000' # $10\n  }\n]\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The price for each Line Item MUST be provided in cents."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The total for all Line Item prices MUST sum to the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" amount."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The currency for each Line Item MUST be consistent with the Payment Request value."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The discount for each Line Item MUST be provided in cents and is tax exclusive."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A discount that applies to multiple line items may be represented as a separate line item with a negative amount."},{"type":"element","tag":"code","props":{"code":"[\n  {\n    name: 'Cinema Tickets',\n    sku: '123456789',\n    qty: '2',\n    price: '4600' // 2 x $20 + $6 (15% tax),\n    tax: '15.0'\n  },\n  {\n    name: 'Popcorn',\n    sku: '987654321',\n    qty: '1',\n    price: '1150', // $10 popcorn + $1.50 (15% tax)\n    tax: '15.0'\n  },\n  {\n    name: 'Combo Discount',\n    sku: '123456789',\n    qty: '1',\n    price: '-1500', // $15 (discount)\n    tax: '15.0'\n  }\n]\n","filename":"Example","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[\n  {\n    name: 'Cinema Tickets',\n    sku: '123456789',\n    qty: '2',\n    price: '4600' // 2 x $20 + $6 (15% tax),\n    tax: '15.0'\n  },\n  {\n    name: 'Popcorn',\n    sku: '987654321',\n    qty: '1',\n    price: '1150', // $10 popcorn + $1.50 (15% tax)\n    tax: '15.0'\n  },\n  {\n    name: 'Combo Discount',\n    sku: '123456789',\n    qty: '1',\n    price: '-1500', // $15 (discount)\n    tax: '15.0'\n  }\n]\n"}]}]}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#line-item","rel":["nofollow"]},"children":[{"type":"text","value":"Line Items"}]},{"type":"text","value":" are used to communicate the details of a purchase to a Patron."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"restrictions"},"children":[{"type":"text","value":"Restrictions"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The price of a Line Item MUST represent the amount that a Patron will pay for that Line Item, including tax and any discounts applied (e.g. price = product price * qty - discounts + tax)."},{"type":"element","tag":"code","props":{"code":"[\n  {\n    name: 'Cinema Tickets',\n    sku: '123456789',\n    qty: '2',\n    price: '3600', // 2 x $20 + $6 (15% tax) - $10 (discount)\n    tax: '15.0',\n    discount: '1000' # $10\n  }\n]\n","filename":"Example","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"  {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'Cinema"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"Tickets'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"sku"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"123456789"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"qty"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"price"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"3600"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-9832cb"},"children":[{"type":"text","value":"// 2 x $20 + $6 (15% tax) - $10 (discount)"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"tax"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"15.0"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"discount"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"1000"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"#"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"10"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"]"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The price for each Line Item MUST be provided in cents."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The total for all Line Item prices MUST sum to the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" amount."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The currency for each Line Item MUST be consistent with the Payment Request value."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The discount for each Line Item MUST be provided in cents and is tax exclusive."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"A discount that applies to multiple line items may be represented as a separate line item with a negative amount."},{"type":"element","tag":"code","props":{"code":"[\n  {\n    name: 'Cinema Tickets',\n    sku: '123456789',\n    qty: '2',\n    price: '4600' // 2 x $20 + $6 (15% tax),\n    tax: '15.0'\n  },\n  {\n    name: 'Popcorn',\n    sku: '987654321',\n    qty: '1',\n    price: '1150', // $10 popcorn + $1.50 (15% tax)\n    tax: '15.0'\n  },\n  {\n    name: 'Combo Discount',\n    sku: '123456789',\n    qty: '1',\n    price: '-1500', // $15 (discount)\n    tax: '15.0'\n  }\n]\n","filename":"Example","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"  {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'Cinema"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"Tickets'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"sku"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"123456789"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"qty"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"price"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"4600"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9832cb"},"children":[{"type":"text","value":"// 2 x $20 + $6 (15% tax),"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"tax:"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"15.0"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"  },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"  {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'Popcorn'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"sku"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"987654321"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"qty"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"price"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"1150"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-9832cb"},"children":[{"type":"text","value":"// $10 popcorn + $1.50 (15% tax)"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"tax"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"15.0"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"  },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"  {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'Combo"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"Discount'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"sku"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"123456789"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"qty"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"price"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"-1500"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-9832cb"},"children":[{"type":"text","value":"// $15 (discount)"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"tax"}]},{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"class":"ct-d4de82"},"children":[{"type":"text","value":"15.0"}]},{"type":"element","tag":"span","props":{"class":"ct-f92b31"},"children":[{"type":"text","value":"'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-377aba"},"children":[{"type":"text","value":"]"}]}]}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-9832cb{color:#6E7781}.ct-d4de82{color:#0550AE}.ct-f92b31{color:#82071E}.ct-377aba{color:#24292F}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"restrictions","depth":2,"text":"Restrictions"}]}},"_type":"markdown","_id":"content:guides:line-items.md","_source":"content","_file":"guides/line-items.md","_extension":"md"},{"_path":"/guides/merchant-integration-barcode-flow","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Barcode Flow for Merchants","description":"Connecting with Patrons using our Barcode Flow requires the Patron to present a Barcode and the merchant integration to scan it in order to create a Payment Request.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Connecting with Patrons using our Barcode Flow requires the Patron to present a Barcode and the merchant integration to scan it in order to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"create a Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"barcode-flow"},"children":[{"type":"text","value":"Barcode Flow"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The sequence diagram below indicates the expected flow of behaviour between the Patron, the Point of Sale (POS) and Centrapay."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    par\n        loop\n            POS->>Centrapay: Poll for Payment Confirmation\n        end\n\n        Patron->>Centrapay: Pay Payment Request\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over Patron: ✅ Display Successful Payment\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    par\n        loop\n            POS->>Centrapay: Poll for Payment Confirmation\n        end\n\n        Patron->>Centrapay: Pay Payment Request\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over Patron: ✅ Display Successful Payment\n"}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Patron presents a Barcode for the POS to scan."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creates a Centrapay Payment Request"}]},{"type":"text","value":" with the Barcode."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polls the Payment Request for"}]},{"type":"text","value":" Payment Confirmation."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"While the POS continues to poll, the Patron "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#pay-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"pays the Payment Request"}]},{"type":"text","value":" via their Centrapay integrated app."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/pay \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"assetType\": \"centrapay.nzd.main\",\n    \"assetId\": \"WRhAxxWpTKb5U7pXyxQjjY\"\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/pay \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"assetType\": \"centrapay.nzd.main\",\n    \"assetId\": \"WRhAxxWpTKb5U7pXyxQjjY\"\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"2\",\n  \"assetType\": \"centrapay.nzd.main\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"type\": \"payment\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"activityNumber\": \"2\",\n  \"assetType\": \"centrapay.nzd.main\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"type\": \"payment\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"When the Payment Request status is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"paid"}]},{"type":"text","value":", the POS stops polling and displays confirmation of the successful payment."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"quick-pay-flow"},"children":[{"type":"text","value":"Quick Pay Flow"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Quick Pay is used to immediately confirm the payment without requiring Patron approval."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Patron’s barcode must be linked to an asset type that allows Quick Pay in order to use this flow. See "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" for the list of asset types that support Quick Pay."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    loop\n        POS->>Centrapay: Poll for Payment Confirmation\n        note over Centrapay: Automatically Confirm the Payment\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over Patron: ✅ Display Successful Payment\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    loop\n        POS->>Centrapay: Poll for Payment Confirmation\n        note over Centrapay: Automatically Confirm the Payment\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over Patron: ✅ Display Successful Payment\n"}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Patron presents a Barcode for the POS to scan."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creates a Centrapay Payment Request"}]},{"type":"text","value":" with the Barcode."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polls the Payment Request for"}]},{"type":"text","value":" payment confirmation."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When Centrapay receives the first attempt to poll the Payment Request, it will automatically trigger payment. After payment is successful and the Payment Request status is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"paid"}]},{"type":"text","value":"; the POS stops polling and displays confirmation of the successful payment."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"checking-barcode-details"},"children":[{"type":"text","value":"Checking Barcode Details"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The POS can optionally "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/scanned-codes#decode-scanned-code","rel":["nofollow"]},"children":[{"type":"text","value":"decode a scanned barcode"}]},{"type":"text","value":" in order to get further details about a barcode before it creates a Payment Request. For example, the POS can use the barcode "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provider"}]},{"type":"text","value":" to apply any provider-specific discounts before creating the Payment Request."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Decode Barcode\n    Note over POS: Apply Provider Discounts\n\n    POS->>Centrapay: Create Payment Request with Barcode\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Decode Barcode\n    Note over POS: Apply Provider Discounts\n\n    POS->>Centrapay: Create Payment Request with Barcode\n"}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Patron presents a barcode for the POS to scan."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/scanned-codes#decode-scanned-code","rel":["nofollow"]},"children":[{"type":"text","value":"decodes the scanned barcode"}]},{"type":"text","value":" and applies any provider-related discounts."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/decode \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"code\": \"123456789\",\n    \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n    \"scannedBy\": \"merchant\"\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/decode \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"code\": \"123456789\",\n    \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n    \"scannedBy\": \"merchant\"\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"code\": \"123456789\",\n  \"displayName\": \"PayPal\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"provider\": \"paypal\",\n  \"scannedBy\": \"merchant\"\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"code\": \"123456789\",\n  \"displayName\": \"PayPal\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"provider\": \"paypal\",\n  \"scannedBy\": \"merchant\"\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creates a Payment Request"}]},{"type":"text","value":" with the barcode and continues with either the "},{"type":"element","tag":"a","props":{"href":"#barcode-flow"},"children":[{"type":"text","value":"Barcode Flow"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"#quick-pay-flow"},"children":[{"type":"text","value":"Quick Pay Flow"}]},{"type":"text","value":"."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Connecting with Patrons using our Barcode Flow requires the Patron to present a Barcode and the merchant integration to scan it in order to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"create a Payment Request"}]},{"type":"text","value":"."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"barcode-flow"},"children":[{"type":"text","value":"Barcode Flow"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The sequence diagram below indicates the expected flow of behaviour between the Patron, the Point of Sale (POS) and Centrapay."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    par\n        loop\n            POS->>Centrapay: Poll for Payment Confirmation\n        end\n\n        Patron->>Centrapay: Pay Payment Request\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over Patron: ✅ Display Successful Payment\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    par\n        loop\n            POS->>Centrapay: Poll for Payment Confirmation\n        end\n\n        Patron->>Centrapay: Pay Payment Request\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over Patron: ✅ Display Successful Payment"}]}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Patron presents a Barcode for the POS to scan."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creates a Centrapay Payment Request"}]},{"type":"text","value":" with the Barcode."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"barcode\": \"123456789\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"configId\": \"5ee168e8597be5002af7b454\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"value\": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"      \"amount\": \"10000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"      \"currency\": \"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"centrapay.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polls the Payment Request for"}]},{"type":"text","value":" Payment Confirmation."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"centrapay.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"While the POS continues to poll, the Patron "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#pay-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"pays the Payment Request"}]},{"type":"text","value":" via their Centrapay integrated app."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/pay \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"assetType\": \"centrapay.nzd.main\",\n    \"assetId\": \"WRhAxxWpTKb5U7pXyxQjjY\"\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/pay \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"assetType\": \"centrapay.nzd.main\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"assetId\": \"WRhAxxWpTKb5U7pXyxQjjY\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"2\",\n  \"assetType\": \"centrapay.nzd.main\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"type\": \"payment\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"activityNumber\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"centrapay.nzd.main\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"createdBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantAccountId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"C4QnjXvj8At6SMsEN4LRi9\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantConfigId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"paymentRequestCreatedBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"paymentRequestId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"payment\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"When the Payment Request status is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"paid"}]},{"type":"text","value":", the POS stops polling and displays confirmation of the successful payment."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"centrapay.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"paid\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"quick-pay-flow"},"children":[{"type":"text","value":"Quick Pay Flow"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Quick Pay is used to immediately confirm the payment without requiring Patron approval."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Patron’s barcode must be linked to an asset type that allows Quick Pay in order to use this flow. See "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" for the list of asset types that support Quick Pay."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    loop\n        POS->>Centrapay: Poll for Payment Confirmation\n        note over Centrapay: Automatically Confirm the Payment\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over Patron: ✅ Display Successful Payment\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Create Payment Request with Barcode\n\n    loop\n        POS->>Centrapay: Poll for Payment Confirmation\n        note over Centrapay: Automatically Confirm the Payment\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over Patron: ✅ Display Successful Payment"}]}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Patron presents a Barcode for the POS to scan."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creates a Centrapay Payment Request"}]},{"type":"text","value":" with the Barcode."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"barcode\": \"123456789\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"configId\": \"5ee168e8597be5002af7b454\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"value\": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"      \"amount\": \"10000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"      \"currency\": \"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"paypal.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polls the Payment Request for"}]},{"type":"text","value":" payment confirmation."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"paypal.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"When Centrapay receives the first attempt to poll the Payment Request, it will automatically trigger payment. After payment is successful and the Payment Request status is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"paid"}]},{"type":"text","value":"; the POS stops polling and displays confirmation of the successful payment."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"paid\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"paypal.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"paid\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"checking-barcode-details"},"children":[{"type":"text","value":"Checking Barcode Details"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The POS can optionally "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/scanned-codes#decode-scanned-code","rel":["nofollow"]},"children":[{"type":"text","value":"decode a scanned barcode"}]},{"type":"text","value":" in order to get further details about a barcode before it creates a Payment Request. For example, the POS can use the barcode "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provider"}]},{"type":"text","value":" to apply any provider-specific discounts before creating the Payment Request."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Decode Barcode\n    Note over POS: Apply Provider Discounts\n\n    POS->>Centrapay: Create Payment Request with Barcode\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Note over Patron: Present Barcode\n    Patron->>POS: Scan Barcode\n\n    POS->>Centrapay: Decode Barcode\n    Note over POS: Apply Provider Discounts\n\n    POS->>Centrapay: Create Payment Request with Barcode"}]}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Patron presents a barcode for the POS to scan."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/scanned-codes#decode-scanned-code","rel":["nofollow"]},"children":[{"type":"text","value":"decodes the scanned barcode"}]},{"type":"text","value":" and applies any provider-related discounts."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/decode \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"code\": \"123456789\",\n    \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n    \"scannedBy\": \"merchant\"\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/decode \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"code\": \"123456789\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"merchantConfigId\": \"5ee168e8597be5002af7b454\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"scannedBy\": \"merchant\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"code\": \"123456789\",\n  \"displayName\": \"PayPal\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"provider\": \"paypal\",\n  \"scannedBy\": \"merchant\"\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"code\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"displayName\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"PayPal\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantConfigId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"provider\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"paypal\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"scannedBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"merchant\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creates a Payment Request"}]},{"type":"text","value":" with the barcode and continues with either the "},{"type":"element","tag":"a","props":{"href":"#barcode-flow"},"children":[{"type":"text","value":"Barcode Flow"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"#quick-pay-flow"},"children":[{"type":"text","value":"Quick Pay Flow"}]},{"type":"text","value":"."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"barcode\": \"123456789\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"configId\": \"5ee168e8597be5002af7b454\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    \"value\": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"      \"amount\": \"10000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"      \"currency\": \"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"barcode\": \"123456789\",\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"patronCodeId\": \"V17FByEP9gm1shSG6a1Zzx\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"paypal.main\"\n    }\n  ],\n  \"purchaseOrderRef\": \"oF6kj1QlH5gK0y9rjRHFh2\",\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"barcode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"123456789\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"patronCodeId\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"V17FByEP9gm1shSG6a1Zzx\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"paypal.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"purchaseOrderRef\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"oF6kj1QlH5gK0y9rjRHFh2\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a3c5fa"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-0226f8"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ccb0f5"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-a3c5fa{color:#0550AE}.ct-0226f8{color:#0A3069}.ct-ccb0f5{color:#24292F}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"barcode-flow","depth":2,"text":"Barcode Flow"},{"id":"quick-pay-flow","depth":2,"text":"Quick Pay Flow"},{"id":"checking-barcode-details","depth":2,"text":"Checking Barcode Details"}]}},"_type":"markdown","_id":"content:guides:merchant-integration-barcode-flow.md","_source":"content","_file":"guides/merchant-integration-barcode-flow.md","_extension":"md"},{"_path":"/guides/merchant-integration-error-handling","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Merchant Integration Error Handling","description":"Below are our guidelines for dealing with inconsistencies in Payment Request statuses due to network issues or race conditions.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below are our guidelines for dealing with inconsistencies in "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" statuses due to network issues or race conditions."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"respect-payment-status"},"children":[{"type":"text","value":"Respect Payment Status"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use the Payment Request status as the source of truth when determining if a Payment Request is paid or expired. For example, if cancelling a Payment Request fails with a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"REQUEST_PAID"}]},{"type":"text","value":" error then the terminal should respond accordingly; either by showing the transaction as paid or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#void-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"initiating a void"}]},{"type":"text","value":" instead."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"void-unknown-status"},"children":[{"type":"text","value":"Void Unknown Status"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the status of a transaction cannot be determined to be successful after retrying, then the Payment Request should be voided. "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#void","rel":["nofollow"]},"children":[{"type":"text","value":"Voiding a Payment Request"}]},{"type":"text","value":" will cancel the request and trigger any refunds if necessary."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"configure-pos-timeout"},"children":[{"type":"text","value":"Configure POS Timeout"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Payment Requests have a configurable timeout which defaults to 2 minutes. Integrators should make sure that the payment terminal times out 5-10 seconds "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"after"}]},{"type":"text","value":" the Payment Request."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For example, if the Point of Sale (POS) has a 90-second payment timeout then the Payment Request could be created with an 85-second timeout to prevent the payment terminal from expiring at the same time as the Payment Request is paid."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"retry-unknown-errors"},"children":[{"type":"text","value":"Retry Unknown Errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When faced with an unknown error while checking the status of a Payment Request, POS integrations should retry at least once before voiding the transaction."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Retries should use the appropriate idempotency key where applicable."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"resolving-persistent-errors"},"children":[{"type":"text","value":"Resolving Persistent Errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For issues that cannot be resolved, please reach out to Centrapay Support at "},{"type":"element","tag":"a","props":{"href":"mailto:integrations@centrapay.com"},"children":[{"type":"text","value":"integrations@centrapay.com"}]},{"type":"text","value":"."}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below are our guidelines for dealing with inconsistencies in "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" statuses due to network issues or race conditions."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"respect-payment-status"},"children":[{"type":"text","value":"Respect Payment Status"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use the Payment Request status as the source of truth when determining if a Payment Request is paid or expired. For example, if cancelling a Payment Request fails with a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"REQUEST_PAID"}]},{"type":"text","value":" error then the terminal should respond accordingly; either by showing the transaction as paid or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#void-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"initiating a void"}]},{"type":"text","value":" instead."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"void-unknown-status"},"children":[{"type":"text","value":"Void Unknown Status"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the status of a transaction cannot be determined to be successful after retrying, then the Payment Request should be voided. "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#void","rel":["nofollow"]},"children":[{"type":"text","value":"Voiding a Payment Request"}]},{"type":"text","value":" will cancel the request and trigger any refunds if necessary."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"configure-pos-timeout"},"children":[{"type":"text","value":"Configure POS Timeout"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Payment Requests have a configurable timeout which defaults to 2 minutes. Integrators should make sure that the payment terminal times out 5-10 seconds "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"after"}]},{"type":"text","value":" the Payment Request."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For example, if the Point of Sale (POS) has a 90-second payment timeout then the Payment Request could be created with an 85-second timeout to prevent the payment terminal from expiring at the same time as the Payment Request is paid."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"retry-unknown-errors"},"children":[{"type":"text","value":"Retry Unknown Errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When faced with an unknown error while checking the status of a Payment Request, POS integrations should retry at least once before voiding the transaction."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Retries should use the appropriate idempotency key where applicable."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"resolving-persistent-errors"},"children":[{"type":"text","value":"Resolving Persistent Errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For issues that cannot be resolved, please reach out to Centrapay Support at "},{"type":"element","tag":"a","props":{"href":"mailto:integrations@centrapay.com"},"children":[{"type":"text","value":"integrations@centrapay.com"}]},{"type":"text","value":"."}]}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"respect-payment-status","depth":2,"text":"Respect Payment Status","children":[{"id":"void-unknown-status","depth":3,"text":"Void Unknown Status"}]},{"id":"configure-pos-timeout","depth":2,"text":"Configure POS Timeout"},{"id":"retry-unknown-errors","depth":2,"text":"Retry Unknown Errors"},{"id":"resolving-persistent-errors","depth":2,"text":"Resolving Persistent Errors"}]}},"_type":"markdown","_id":"content:guides:merchant-integration-error-handling.md","_source":"content","_file":"guides/merchant-integration-error-handling.md","_extension":"md"},{"_path":"/guides/merchant-integration-qr-code-flow","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"QR Code Flow for Merchants","description":"Connecting with Patrons using our QR Code Flow requires the merchant integration to create a Payment Request and present a QR Code for the Patron to scan.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Connecting with Patrons using our QR Code Flow requires the merchant integration to create a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" and present a QR Code for the Patron to scan."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The sequence diagram below indicates the expected flow of behaviour between the Patron, the Point of Sale (POS) and Centrapay."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Payment Request\n\n    note over POS: Present QR Code\n\n    P->>POS: Scan QR Code\n\n    par\n        loop\n            POS->>C: Poll for Payment Confirmation\n        end\n\n        P->>C: Pay Payment Request\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over P: ✅ Display Successful Payment\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Payment Request\n\n    note over POS: Present QR Code\n\n    P->>POS: Scan QR Code\n\n    par\n        loop\n            POS->>C: Poll for Payment Confirmation\n        end\n\n        P->>C: Pay Payment Request\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over P: ✅ Display Successful Payment\n"}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creates a Payment Request"}]},{"type":"text","value":" and presents a QR code to the Patron on a customer-facing display."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The QR code decodes to a URL of the form "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://service.centrapay.com/api/payment-requests/{paymentRequestId}/pay"}]}]}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Patron scans the QR code using a Centrapay-enabled app."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polls the Payment Request for"}]},{"type":"text","value":" Payment Confirmation."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"While the POS continues to poll, the Patron "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#pay-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"pays the Payment Request"}]},{"type":"text","value":" via their Centrapay integrated app. When the Payment Request status is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"paid"}]},{"type":"text","value":", the POS stops polling and displays confirmation of the successful payment."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/pay \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"assetType\": \"centrapay.nzd.main\",\n    \"assetId\": \"WRhAxxWpTKb5U7pXyxQjjY\"\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/pay \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"assetType\": \"centrapay.nzd.main\",\n    \"assetId\": \"WRhAxxWpTKb5U7pXyxQjjY\"\n  }'\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"2\",\n  \"assetType\": \"centrapay.nzd.main\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"shortCode\": \"CP-C7F-ZS5-015\",\n  \"type\": \"payment\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n  \"activityNumber\": \"2\",\n  \"assetType\": \"centrapay.nzd.main\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"shortCode\": \"CP-C7F-ZS5-015\",\n  \"type\": \"payment\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n"}]}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Connecting with Patrons using our QR Code Flow requires the merchant integration to create a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" and present a QR Code for the Patron to scan."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The sequence diagram below indicates the expected flow of behaviour between the Patron, the Point of Sale (POS) and Centrapay."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Payment Request\n\n    note over POS: Present QR Code\n\n    P->>POS: Scan QR Code\n\n    par\n        loop\n            POS->>C: Poll for Payment Confirmation\n        end\n\n        P->>C: Pay Payment Request\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over P: ✅ Display Successful Payment\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Payment Request\n\n    note over POS: Present QR Code\n\n    P->>POS: Scan QR Code\n\n    par\n        loop\n            POS->>C: Poll for Payment Confirmation\n        end\n\n        P->>C: Pay Payment Request\n    end\n\n    Note over POS: ✅ Display Successful Payment\n    Note over P: ✅ Display Successful Payment"}]}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creates a Payment Request"}]},{"type":"text","value":" and presents a QR code to the Patron on a customer-facing display."},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The QR code decodes to a URL of the form "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://service.centrapay.com/api/payment-requests/{paymentRequestId}/pay"}]}]}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"value\": {\n      \"amount\": \"10000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"    \"configId\": \"5ee168e8597be5002af7b454\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"    \"value\": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"      \"amount\": \"10000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"      \"currency\": \"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"centrapay.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The Patron scans the QR code using a Centrapay-enabled app."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"polls the Payment Request for"}]},{"type":"text","value":" Payment Confirmation."},{"type":"element","tag":"code","props":{"code":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\\n  -H \"Authorization: $jwt\"\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"curl https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\""}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"configId\": \"5ee168e8597be5002af7b454\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"expiresAt\": \"2021-06-08T04:06:27.426Z\",\n  \"expirySeconds\": 120,\n  \"id\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentOptions\": [\n    {\n      \"amount\": \"10000\",\n      \"assetType\": \"centrapay.nzd.main\"\n    }\n  ],\n  \"shortCode\": \"CP-C7F-ZS5\",\n  \"status\": \"new\",\n  \"updatedAt\": \"2021-06-08T04:04:27.426Z\",\n  \"url\": \"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"configId\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"expiresAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"2021-06-08T04:06:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"expirySeconds\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"120"}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"id\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"paymentOptions\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"    {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"10000\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"centrapay.nzd.main\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"CP-C7F-ZS5\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"status\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"new\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"updatedAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"url\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"https://app.centrapay.com/pay/MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"While the POS continues to poll, the Patron "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#pay-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"pays the Payment Request"}]},{"type":"text","value":" via their Centrapay integrated app. When the Payment Request status is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"paid"}]},{"type":"text","value":", the POS stops polling and displays confirmation of the successful payment."},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/pay \\\n  -H \"Authorization: $jwt\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"assetType\": \"centrapay.nzd.main\",\n    \"assetId\": \"WRhAxxWpTKb5U7pXyxQjjY\"\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests/MhocUmpxxmgdHjr7DgKoKw/pay \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"$jwt"}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"    \"assetType\": \"centrapay.nzd.main\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"    \"assetId\": \"WRhAxxWpTKb5U7pXyxQjjY\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\n  \"activityNumber\": \"2\",\n  \"assetType\": \"centrapay.nzd.main\",\n  \"createdAt\": \"2021-06-08T04:04:27.426Z\",\n  \"createdBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"merchantAccountId\": \"C4QnjXvj8At6SMsEN4LRi9\",\n  \"merchantConfigId\": \"5ee168e8597be5002af7b454\",\n  \"merchantId\": \"26d3Cp3rJmbMHnuNJmks2N\",\n  \"merchantName\": \"Centrapay Café\",\n  \"paymentRequestCreatedBy\": \"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\",\n  \"paymentRequestId\": \"MhocUmpxxmgdHjr7DgKoKw\",\n  \"shortCode\": \"CP-C7F-ZS5-015\",\n  \"type\": \"payment\",\n  \"value\": {\n    \"currency\": \"NZD\",\n    \"amount\": \"10000\"\n  }\n}\n","filename":"Response","language":"json"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"activityNumber\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"2\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"assetType\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"centrapay.nzd.main\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"createdAt\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"2021-06-08T04:04:27.426Z\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"createdBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"merchantAccountId\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"C4QnjXvj8At6SMsEN4LRi9\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"merchantConfigId\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"5ee168e8597be5002af7b454\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"merchantId\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"26d3Cp3rJmbMHnuNJmks2N\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"merchantName\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"Centrapay Café\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"paymentRequestCreatedBy\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"crn::user:0af834c8-1110-11ec-9072-3e22fb52e878\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"paymentRequestId\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"MhocUmpxxmgdHjr7DgKoKw\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"shortCode\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"CP-C7F-ZS5-015\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"payment\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"value\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"currency\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"NZD\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-685bf5"},"children":[{"type":"text","value":"\"amount\""}]},{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2888b6"},"children":[{"type":"text","value":"\"10000\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c991fa"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-685bf5{color:#0550AE}.ct-2888b6{color:#0A3069}.ct-c991fa{color:#24292F}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[]}},"_type":"markdown","_id":"content:guides:merchant-integration-qr-code-flow.md","_source":"content","_file":"guides/merchant-integration-qr-code-flow.md","_extension":"md"},{"_path":"/guides/patron-not-present","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Patron Not Present","description":"Centrapay’s Patron Not Present extension allows a merchant to complete a payment when the Patron is not physically present at the time of payment (e.g. phone-based orders).","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay’s Patron Not Present extension allows a merchant to complete a payment when the Patron is not physically present at the time of payment (e.g. phone-based orders)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can enable this extension by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"patronNotPresent"}]},{"type":"text","value":" flag set to true."}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"lineItems\": [\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"patronNotPresent\": true,\n    \"value\": {\n      \"amount\": \"6000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"lineItems\": [\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"patronNotPresent\": true,\n    \"value\": {\n      \"amount\": \"6000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n"}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay’s Patron Not Present extension allows a merchant to complete a payment when the Patron is not physically present at the time of payment (e.g. phone-based orders)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can enable this extension by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating a Payment Request"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"patronNotPresent"}]},{"type":"text","value":" flag set to true."}]},{"type":"element","tag":"code","props":{"code":"curl -X POST https://service.centrapay.com/api/payment-requests \\\n  -H \"X-Api-Key: $api_key\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"barcode\": \"123456789\",\n    \"configId\": \"5ee168e8597be5002af7b454\",\n    \"lineItems\": [\n      {\n        \"name\": \"Tool Belt\",\n        \"sku\": \"GH1234\",\n        \"qty\": \"1\",\n        \"price\": \"6000\",\n        \"tax\": \"15\",\n        \"discount\": \"600\"\n      }\n    ],\n    \"patronNotPresent\": true,\n    \"value\": {\n      \"amount\": \"6000\",\n      \"currency\": \"NZD\"\n    }\n  }'\n","filename":"Request","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5bb5ae"},"children":[{"type":"text","value":"curl -X POST https://service.centrapay.com/api/payment-requests \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5bb5ae"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"\"X-Api-Key: "}]},{"type":"element","tag":"span","props":{"class":"ct-5bb5ae"},"children":[{"type":"text","value":"$api_key"}]},{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-5bb5ae"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5bb5ae"},"children":[{"type":"text","value":"  -H "}]},{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"\"Content-Type: application/json\""}]},{"type":"element","tag":"span","props":{"class":"ct-5bb5ae"},"children":[{"type":"text","value":" \\"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5bb5ae"},"children":[{"type":"text","value":"  -d "}]},{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"'{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"    \"barcode\": \"123456789\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"    \"configId\": \"5ee168e8597be5002af7b454\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"    \"lineItems\": ["}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"      {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"        \"name\": \"Tool Belt\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"        \"sku\": \"GH1234\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"        \"qty\": \"1\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"        \"price\": \"6000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"        \"tax\": \"15\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"        \"discount\": \"600\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"    ],"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"    \"patronNotPresent\": true,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"    \"value\": {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"      \"amount\": \"6000\","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"      \"currency\": \"NZD\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0b5942"},"children":[{"type":"text","value":"  }'"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-0b5942{color:#0A3069}.ct-5bb5ae{color:#24292F}"}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[]}},"_type":"markdown","_id":"content:guides:patron-not-present.md","_source":"content","_file":"guides/patron-not-present.md","_extension":"md"},{"_path":"/guides/payment-conditions","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Payment Conditions","description":"Some Asset Types such as tokens or closed-loop cards may require conditional operator approval. Merchant integrations are required to support Payment Conditions for these asset types in order for them to be accepted for payment.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" such as tokens or closed-loop cards may require conditional operator approval. Merchant integrations are required to support "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-condition","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" for these asset types in order for them to be accepted for payment."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Examples of Payment Conditions include:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The merchant needs to confirm proof of identification for age-restricted purchases."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The merchant needs to confirm that a promotional item was purchased."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The patron needs to confirm the payment from their Centrapay integrated app."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"implementation"},"children":[{"type":"text","value":"Implementation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to support Payment Conditions, the merchant integration must extend Centrapay's payment protocol by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating the Payment Request"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"conditionsEnabled"}]},{"type":"text","value":" flag set to true."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The example flow below assumes that the merchant integration has first connected with the Patron when "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]},{"type":"text","value":" using the "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-qr-code-flow"},"children":[{"type":"text","value":"QR Code Flow for Merchants"}]},{"type":"text","value":" or the "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-barcode-flow"},"children":[{"type":"text","value":"Barcode Flow for Merchants"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron->>POS: Connect with Patron\n\n    POS->>Centrapay: Create Payment Request (with conditionsEnabled = true)\n\n    loop Poll for Payment Confirmation\n        POS->>Centrapay: Get Payment Request\n\n        alt Pending Condition Exists\n            note over POS: ❓ Prompt Merchant to Accept or Decline Condition\n            note over Patron: Inform Patron of Condition\n            POS->>Centrapay: Merchant Accepts Condition\n        else Payment Request status is paid\n            note over POS: Stop Polling for Confirmation\n        end\n    end\n\n    note over POS: ✅ Display Successful Payment\n    note over Patron: ✅ Display Successful Payment\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron->>POS: Connect with Patron\n\n    POS->>Centrapay: Create Payment Request (with conditionsEnabled = true)\n\n    loop Poll for Payment Confirmation\n        POS->>Centrapay: Get Payment Request\n\n        alt Pending Condition Exists\n            note over POS: ❓ Prompt Merchant to Accept or Decline Condition\n            note over Patron: Inform Patron of Condition\n            POS->>Centrapay: Merchant Accepts Condition\n        else Payment Request status is paid\n            note over POS: Stop Polling for Confirmation\n        end\n    end\n\n    note over POS: ✅ Display Successful Payment\n    note over Patron: ✅ Display Successful Payment\n"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When Payment Conditions are present on a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":", merchant integrations and consumer apps need to negotiate them with their respective parties using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"status"}]},{"type":"text","value":" of each condition."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Prompt"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Merchant integrations should prompt the terminal operator to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accept"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"decline"}]},{"type":"text","value":" any conditions that have status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"awaiting-merchant"}]},{"type":"text","value":"."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Consumer apps should inform the Patron to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accept"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"decline"}]},{"type":"text","value":" any conditions that have status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"awaiting-patron"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Inform"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Merchant integrations should inform the terminal operator of any conditions that have status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"awaiting-patron"}]},{"type":"text","value":" using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"message"}]},{"type":"text","value":" provided with the condition."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Consumer apps should inform the Patron of any conditions that have status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"awaiting-merchant"}]},{"type":"text","value":" using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"message"}]},{"type":"text","value":" provided with the condition."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Repeat"}]},{"type":"text","value":" the above steps when polling shows conditions have changed."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"additional-behaviours"},"children":[{"type":"text","value":"Additional Behaviours"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The payment request status must always be polled after "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accepting"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"declining"}]},{"type":"text","value":" a condition as these actions may trigger the additional behaviours below."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Conditions can be linked such that they are added or voided due to state changes on the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":". Note that accepting or declining a voided condition will fail."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"a","props":{"href":"/guides/patron-not-present"},"children":[{"type":"text","value":"Patron Not Present extension"}]},{"type":"text","value":" may prevent the presentation of conditions that are impossible to satisfy such as checking photo ID."}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" such as tokens or closed-loop cards may require conditional operator approval. Merchant integrations are required to support "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-condition","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" for these asset types in order for them to be accepted for payment."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Examples of Payment Conditions include:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The merchant needs to confirm proof of identification for age-restricted purchases."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The merchant needs to confirm that a promotional item was purchased."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The patron needs to confirm the payment from their Centrapay integrated app."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"implementation"},"children":[{"type":"text","value":"Implementation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to support Payment Conditions, the merchant integration must extend Centrapay's payment protocol by "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"creating the Payment Request"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"conditionsEnabled"}]},{"type":"text","value":" flag set to true."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The example flow below assumes that the merchant integration has first connected with the Patron when "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]},{"type":"text","value":" using the "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-qr-code-flow"},"children":[{"type":"text","value":"QR Code Flow for Merchants"}]},{"type":"text","value":" or the "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-barcode-flow"},"children":[{"type":"text","value":"Barcode Flow for Merchants"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron->>POS: Connect with Patron\n\n    POS->>Centrapay: Create Payment Request (with conditionsEnabled = true)\n\n    loop Poll for Payment Confirmation\n        POS->>Centrapay: Get Payment Request\n\n        alt Pending Condition Exists\n            note over POS: ❓ Prompt Merchant to Accept or Decline Condition\n            note over Patron: Inform Patron of Condition\n            POS->>Centrapay: Merchant Accepts Condition\n        else Payment Request status is paid\n            note over POS: Stop Polling for Confirmation\n        end\n    end\n\n    note over POS: ✅ Display Successful Payment\n    note over Patron: ✅ Display Successful Payment\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron->>POS: Connect with Patron\n\n    POS->>Centrapay: Create Payment Request (with conditionsEnabled = true)\n\n    loop Poll for Payment Confirmation\n        POS->>Centrapay: Get Payment Request\n\n        alt Pending Condition Exists\n            note over POS: ❓ Prompt Merchant to Accept or Decline Condition\n            note over Patron: Inform Patron of Condition\n            POS->>Centrapay: Merchant Accepts Condition\n        else Payment Request status is paid\n            note over POS: Stop Polling for Confirmation\n        end\n    end\n\n    note over POS: ✅ Display Successful Payment\n    note over Patron: ✅ Display Successful Payment"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When Payment Conditions are present on a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":", merchant integrations and consumer apps need to negotiate them with their respective parties using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"status"}]},{"type":"text","value":" of each condition."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Prompt"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Merchant integrations should prompt the terminal operator to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accept"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"decline"}]},{"type":"text","value":" any conditions that have status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"awaiting-merchant"}]},{"type":"text","value":"."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Consumer apps should inform the Patron to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accept"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"decline"}]},{"type":"text","value":" any conditions that have status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"awaiting-patron"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Inform"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Merchant integrations should inform the terminal operator of any conditions that have status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"awaiting-patron"}]},{"type":"text","value":" using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"message"}]},{"type":"text","value":" provided with the condition."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Consumer apps should inform the Patron of any conditions that have status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"awaiting-merchant"}]},{"type":"text","value":" using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"message"}]},{"type":"text","value":" provided with the condition."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Repeat"}]},{"type":"text","value":" the above steps when polling shows conditions have changed."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"additional-behaviours"},"children":[{"type":"text","value":"Additional Behaviours"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The payment request status must always be polled after "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#accept-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"accepting"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#decline-payment-condition-for-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"declining"}]},{"type":"text","value":" a condition as these actions may trigger the additional behaviours below."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Conditions can be linked such that they are added or voided due to state changes on the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":". Note that accepting or declining a voided condition will fail."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"a","props":{"href":"/guides/patron-not-present"},"children":[{"type":"text","value":"Patron Not Present extension"}]},{"type":"text","value":" may prevent the presentation of conditions that are impossible to satisfy such as checking photo ID."}]}]}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"implementation","depth":2,"text":"Implementation"},{"id":"additional-behaviours","depth":2,"text":"Additional Behaviours"}]}},"_type":"markdown","_id":"content:guides:payment-conditions.md","_source":"content","_file":"guides/payment-conditions.md","_extension":"md"},{"_path":"/guides/point-of-sale","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Point of Sale","description":"Integrating a point of sale (POS) terminal with Centrapay APIs allows merchants to accept payment via any Centrapay-enabled apps without installing additional POS hardware or software.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Integrating a point of sale (POS) terminal with Centrapay APIs allows merchants to accept payment via any Centrapay-enabled apps without installing additional POS hardware or software."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"core-requirements"},"children":[{"type":"text","value":"Core Requirements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay POS integrations must be able to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"create"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#void-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"void"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"refund"}]},{"type":"text","value":" Payment Requests on behalf of Merchants."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The POS authenticates against Centrapay APIs using a single “merchant terminal” API key."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]},{"type":"text","value":" MUST connect with the patron using either the "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-qr-code-flow"},"children":[{"type":"text","value":"QR Code Flow for Merchants"}]},{"type":"text","value":" or the "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-barcode-flow"},"children":[{"type":"text","value":"Barcode Flow for Merchants"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/guides/merchant-integration-error-handling","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant integration errors"}]},{"type":"text","value":" MUST be handled correctly."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/guides/initiating-refunds","rel":["nofollow"]},"children":[{"type":"text","value":"Initiating refunds"}]},{"type":"text","value":" MUST be performed using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shortCode"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" fields."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"At least one of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shortCode"}]},{"type":"text","value":" MUST be available to the patron (eg, on paper print-out)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Paid "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" MUST be made available for merchant "},{"type":"element","tag":"a","props":{"href":"/guides/transaction-reporting"},"children":[{"type":"text","value":"Transaction Reporting"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"optional-protocol-extensions"},"children":[{"type":"text","value":"Optional Protocol Extensions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our payment protocol supports several optional extensions. Please review the extensions below and determine which ones you need for your integration."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/line-items"},"children":[{"type":"text","value":"Line Items"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/requesting-pre-auth"},"children":[{"type":"text","value":"Requesting Pre Auth"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/patron-not-present"},"children":[{"type":"text","value":"Patron Not Present"}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"contact-us"},"children":[{"type":"text","value":"Contact Us"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Contact "},{"type":"element","tag":"a","props":{"href":"mailto:integrations@centrapay.com"},"children":[{"type":"text","value":"integrations@centrapay.com"}]},{"type":"text","value":" to get started with API keys."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you have confirmed your integration needs we will then provide you with a customised integration checklist for certification."}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Integrating a point of sale (POS) terminal with Centrapay APIs allows merchants to accept payment via any Centrapay-enabled apps without installing additional POS hardware or software."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"core-requirements"},"children":[{"type":"text","value":"Core Requirements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay POS integrations must be able to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"create"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#void-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"void"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#refund-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"refund"}]},{"type":"text","value":" Payment Requests on behalf of Merchants."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The POS authenticates against Centrapay APIs using a single “merchant terminal” API key."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]},{"type":"text","value":" MUST connect with the patron using either the "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-qr-code-flow"},"children":[{"type":"text","value":"QR Code Flow for Merchants"}]},{"type":"text","value":" or the "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-barcode-flow"},"children":[{"type":"text","value":"Barcode Flow for Merchants"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/guides/merchant-integration-error-handling","rel":["nofollow"]},"children":[{"type":"text","value":"Merchant integration errors"}]},{"type":"text","value":" MUST be handled correctly."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/guides/initiating-refunds","rel":["nofollow"]},"children":[{"type":"text","value":"Initiating refunds"}]},{"type":"text","value":" MUST be performed using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shortCode"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" fields."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"At least one of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shortCode"}]},{"type":"text","value":" MUST be available to the patron (eg, on paper print-out)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Paid "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" MUST be made available for merchant "},{"type":"element","tag":"a","props":{"href":"/guides/transaction-reporting"},"children":[{"type":"text","value":"Transaction Reporting"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"optional-protocol-extensions"},"children":[{"type":"text","value":"Optional Protocol Extensions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our payment protocol supports several optional extensions. Please review the extensions below and determine which ones you need for your integration."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/line-items"},"children":[{"type":"text","value":"Line Items"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/requesting-pre-auth"},"children":[{"type":"text","value":"Requesting Pre Auth"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/patron-not-present"},"children":[{"type":"text","value":"Patron Not Present"}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"contact-us"},"children":[{"type":"text","value":"Contact Us"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Contact "},{"type":"element","tag":"a","props":{"href":"mailto:integrations@centrapay.com"},"children":[{"type":"text","value":"integrations@centrapay.com"}]},{"type":"text","value":" to get started with API keys."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you have confirmed your integration needs we will then provide you with a customised integration checklist for certification."}]}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"core-requirements","depth":2,"text":"Core Requirements","children":[{"id":"optional-protocol-extensions","depth":3,"text":"Optional Protocol Extensions"}]},{"id":"contact-us","depth":2,"text":"Contact Us"}]}},"_type":"markdown","_id":"content:guides:point-of-sale.md","_source":"content","_file":"guides/point-of-sale.md","_extension":"md"},{"_path":"/guides/requesting-payment","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Requesting Payment","description":"Centrapay’s payment protocol requires a merchant integration to connect with the Patron in order to create a Payment Request; and poll it for payment confirmation.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay’s payment protocol requires a merchant integration to connect with the Patron in order to create a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":"; and poll it for payment confirmation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Additionally, merchant integrations can opt into protocol extensions when creating a Payment Request in order to unlock acceptance of a wider set of payment options."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"connecting-with-patrons"},"children":[{"type":"text","value":"Connecting With Patrons"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" object is a core part of Centrapay’s payment protocol. It represents the intention of a merchant to receive payment, defines the amount to be paid, and the acceptable "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" for payment."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"create a Payment Request"}]},{"type":"text","value":", a merchant integration must connect with the Patron. Centrapay supports 2 different options to connect with Patrons. We recommend that merchant integrations implement both options to support the complete set of apps within Centrapay’s ecosystem."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-qr-code-flow"},"children":[{"type":"text","value":"QR Code Flow for Merchants"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-barcode-flow"},"children":[{"type":"text","value":"Barcode Flow for Merchants"}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"required-fields"},"children":[{"type":"text","value":"Required Fields"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We require compliant integrations to provide the following optional fields when creating a Payment Request."}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"The merchant’s identifier for the transaction. Typically this is also printed on the paper receipt and required for "},{"type":"element","tag":"a","props":{"href":"/guides/initiating-refunds"},"children":[{"type":"text","value":"Initiating Refunds"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"terminalId"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"The logical identifier of the terminal. Useful for auditing and debugging."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"deviceId"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"The hardware identifier of the terminal. Useful for auditing and debugging."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"patronNotPresent"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"This flag indicates whether a Patron is physically present at the point of sale. Setting this flag can change the liability for some asset types."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"conditionsEnabled"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"The flag which indicates "},{"type":"element","tag":"a","props":{"href":"/guides/payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" are supported."}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"short-codes"},"children":[{"type":"text","value":"Short Codes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Payment Requests have a short code that is human- and OCR-friendly. Short codes are recycled every two years. When combined with the date or merchant id, short codes can unambiguously identify the correct Payment Request."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A short code can be displayed to a user instead of the Payment Request ID; e.g. on paper printouts."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Short codes can be used for "},{"type":"element","tag":"a","props":{"href":"/guides/initiating-refunds"},"children":[{"type":"text","value":"Initiating Refunds"}]},{"type":"text","value":"."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"polling-for-payment-confirmation"},"children":[{"type":"text","value":"Polling for Payment Confirmation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After connecting with the Patron, the POS must "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"poll the Payment Request status"}]},{"type":"text","value":" every second until the status has changed."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron->>POS: Connect with Patron\n    loop Poll every second until status changes\n        POS->>Centrapay: Get Payment Request Status\n    end\n\n    note over POS: ✅ Display Confirmation\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron->>POS: Connect with Patron\n    loop Poll every second until status changes\n        POS->>Centrapay: Get Payment Request Status\n    end\n\n    note over POS: ✅ Display Confirmation\n"}]}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Payment Request Status"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Integrator Behaviour"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Check for "},{"type":"element","tag":"a","props":{"href":"/guides/payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" then poll again for status change."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"paid"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Show Confirmation. Stop polling."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"expired"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Show payment timed-out message. Stop polling."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"cancelled"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Show cancellation reason. Stop polling."}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"protocol-extensions"},"children":[{"type":"text","value":"Protocol Extensions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our payment protocol supports several optional extensions. Please review the extensions below and determine which ones you need for your integration."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/line-items"},"children":[{"type":"text","value":"Line Items"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/requesting-pre-auth"},"children":[{"type":"text","value":"Requesting Pre Auth"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/patron-not-present"},"children":[{"type":"text","value":"Patron Not Present"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"handling-payment-errors"},"children":[{"type":"text","value":"Handling Payment Errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Merchant integrations should follow our guidelines in "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-error-handling"},"children":[{"type":"text","value":"Merchant Integration Error Handling"}]},{"type":"text","value":" when inconsistencies such as network issues or race conditions occur."}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay’s payment protocol requires a merchant integration to connect with the Patron in order to create a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":"; and poll it for payment confirmation."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Additionally, merchant integrations can opt into protocol extensions when creating a Payment Request in order to unlock acceptance of a wider set of payment options."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"connecting-with-patrons"},"children":[{"type":"text","value":"Connecting With Patrons"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" object is a core part of Centrapay’s payment protocol. It represents the intention of a merchant to receive payment, defines the amount to be paid, and the acceptable "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" for payment."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"create a Payment Request"}]},{"type":"text","value":", a merchant integration must connect with the Patron. Centrapay supports 2 different options to connect with Patrons. We recommend that merchant integrations implement both options to support the complete set of apps within Centrapay’s ecosystem."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-qr-code-flow"},"children":[{"type":"text","value":"QR Code Flow for Merchants"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-barcode-flow"},"children":[{"type":"text","value":"Barcode Flow for Merchants"}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"required-fields"},"children":[{"type":"text","value":"Required Fields"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We require compliant integrations to provide the following optional fields when creating a Payment Request."}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Name"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Description"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"externalRef"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"The merchant’s identifier for the transaction. Typically this is also printed on the paper receipt and required for "},{"type":"element","tag":"a","props":{"href":"/guides/initiating-refunds"},"children":[{"type":"text","value":"Initiating Refunds"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"terminalId"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"The logical identifier of the terminal. Useful for auditing and debugging."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"deviceId"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"The hardware identifier of the terminal. Useful for auditing and debugging."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"patronNotPresent"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"This flag indicates whether a Patron is physically present at the point of sale. Setting this flag can change the liability for some asset types."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"conditionsEnabled"}]}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"The flag which indicates "},{"type":"element","tag":"a","props":{"href":"/guides/payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" are supported."}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"short-codes"},"children":[{"type":"text","value":"Short Codes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Payment Requests have a short code that is human- and OCR-friendly. Short codes are recycled every two years. When combined with the date or merchant id, short codes can unambiguously identify the correct Payment Request."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A short code can be displayed to a user instead of the Payment Request ID; e.g. on paper printouts."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Short codes can be used for "},{"type":"element","tag":"a","props":{"href":"/guides/initiating-refunds"},"children":[{"type":"text","value":"Initiating Refunds"}]},{"type":"text","value":"."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"polling-for-payment-confirmation"},"children":[{"type":"text","value":"Polling for Payment Confirmation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After connecting with the Patron, the POS must "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#get-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"poll the Payment Request status"}]},{"type":"text","value":" every second until the status has changed."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron->>POS: Connect with Patron\n    loop Poll every second until status changes\n        POS->>Centrapay: Get Payment Request Status\n    end\n\n    note over POS: ✅ Display Confirmation\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron->>POS: Connect with Patron\n    loop Poll every second until status changes\n        POS->>Centrapay: Get Payment Request Status\n    end\n\n    note over POS: ✅ Display Confirmation"}]}]}]}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Payment Request Status"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Integrator Behaviour"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Check for "},{"type":"element","tag":"a","props":{"href":"/guides/payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]},{"type":"text","value":" then poll again for status change."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"paid"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Show Confirmation. Stop polling."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"expired"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Show payment timed-out message. Stop polling."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"cancelled"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"Show cancellation reason. Stop polling."}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"protocol-extensions"},"children":[{"type":"text","value":"Protocol Extensions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Our payment protocol supports several optional extensions. Please review the extensions below and determine which ones you need for your integration."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/line-items"},"children":[{"type":"text","value":"Line Items"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/payment-conditions"},"children":[{"type":"text","value":"Payment Conditions"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/requesting-pre-auth"},"children":[{"type":"text","value":"Requesting Pre Auth"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/patron-not-present"},"children":[{"type":"text","value":"Patron Not Present"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"handling-payment-errors"},"children":[{"type":"text","value":"Handling Payment Errors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Merchant integrations should follow our guidelines in "},{"type":"element","tag":"a","props":{"href":"/guides/merchant-integration-error-handling"},"children":[{"type":"text","value":"Merchant Integration Error Handling"}]},{"type":"text","value":" when inconsistencies such as network issues or race conditions occur."}]}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"connecting-with-patrons","depth":2,"text":"Connecting With Patrons","children":[{"id":"required-fields","depth":3,"text":"Required Fields"},{"id":"short-codes","depth":3,"text":"Short Codes"}]},{"id":"polling-for-payment-confirmation","depth":2,"text":"Polling for Payment Confirmation"},{"id":"protocol-extensions","depth":2,"text":"Protocol Extensions"},{"id":"handling-payment-errors","depth":2,"text":"Handling Payment Errors"}]}},"_type":"markdown","_id":"content:guides:requesting-payment.md","_source":"content","_file":"guides/requesting-payment.md","_extension":"md"},{"_path":"/guides/requesting-pre-auth","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Requesting Pre Auth","description":"Centrapay’s Pre Auth extension allows a patron to authorise payment up to a limit when the actual payment amount is not yet known.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay’s Pre Auth extension allows a patron to authorise payment up to a limit when the actual payment amount is not yet known."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"restrictions"},"children":[{"type":"text","value":"Restrictions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pre Auth payments are not supported in all cases."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Not all asset types support Pre Auth - Payment options for "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" that do not support Pre Auth will be excluded when a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" is created with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuth"}]},{"type":"text","value":" flag."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pre Auth is incompatible with Multi-Asset payments - Only one asset type can be authorised for a Pre Auth."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"pre-auth-flow"},"children":[{"type":"text","value":"Pre Auth Flow"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pre Auth payments go through an orthogonal payment flow compared to Centrapay’s standard payment flow."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    note over Patron, POS: Connect with Patron\n    POS->>Centrapay: Create Authorisation\n\n    note over POS: Poll for Payment Confirmation\n\n    note over POS: ✅ Display Successful Authorisation\n\n    note over POS, Centrapay: ⏱️ Some time later..\n\n    loop 0..Many (Up to Authorised Amount)\n        POS->>Centrapay: Make Confirmations Against Authorised Funds\n        note over POS: ✅ Display Successful Confirmation\n    end\n\n    POS->>Centrapay: Release Remaining Authorised Funds\n    note over POS: ✅ Display Successful Release\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    note over Patron, POS: Connect with Patron\n    POS->>Centrapay: Create Authorisation\n\n    note over POS: Poll for Payment Confirmation\n\n    note over POS: ✅ Display Successful Authorisation\n\n    note over POS, Centrapay: ⏱️ Some time later..\n\n    loop 0..Many (Up to Authorised Amount)\n        POS->>Centrapay: Make Confirmations Against Authorised Funds\n        note over POS: ✅ Display Successful Confirmation\n    end\n\n    POS->>Centrapay: Release Remaining Authorised Funds\n    note over POS: ✅ Display Successful Release\n"}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS places a hold on funds by creating an Authorisation."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS draws down on authorised funds by making Confirmations against the authorisation when the purchase is ready to be fulfilled."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS releases any remaining funds that have not been confirmed back to the Patron."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"authorise"},"children":[{"type":"text","value":"Authorise"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An authorisation is created when the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request is created"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuth"}]},{"type":"text","value":" flag while "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once the authorisation is successful, the Payment Request "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuthStatus"}]},{"type":"text","value":" is set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"authorized"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Payment Request with preAuth = true\n\n    loop Poll for Payment Confirmation\n        POS->>C: Get Payment Request Status\n\n        opt Payment Request Status is paid\n            Note over POS: Stop Polling\n        end\n    end\n\n    note over POS: ✅ Display Successful Authorisation\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Payment Request with preAuth = true\n\n    loop Poll for Payment Confirmation\n        POS->>C: Get Payment Request Status\n\n        opt Payment Request Status is paid\n            Note over POS: Stop Polling\n        end\n    end\n\n    note over POS: ✅ Display Successful Authorisation\n"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"confirm"},"children":[{"type":"text","value":"Confirm"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Merchants can draw down on authorised funds by making one or more "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#make-a-confirmation-against-a-pre-auth-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"confirmations"}]},{"type":"text","value":" against an authorised amount. Confirmations must be made with an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"idempotencyKey"}]},{"type":"text","value":" in order to prevent merchants from drawing down on authorised funds twice."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Confirmations against authorised funds have limits:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Authorisations must be followed up with a confirmation - otherwise, the authorisation will expire and the funds will be returned to the asset holder."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuthExpiry"}]},{"type":"text","value":" may be adjusted to match pre-determined expiry rules set by the asset provider."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Multiple confirmations can be performed against an authorisation but the total value cannot exceed the original authorised value."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Making confirmations is only allowed against authorisations that have had zero or more confirmations made against them."}]}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Authorisation\n\n    note over POS, C: ⏱️ Some time later..\n\n    loop 0..Many (Up to Authorised Amount)\n        POS->>C: Make Confirmations Against Authorised Funds\n        Note over POS: ✅ Display Successful Confirmation\n    end\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Authorisation\n\n    note over POS, C: ⏱️ Some time later..\n\n    loop 0..Many (Up to Authorised Amount)\n        POS->>C: Make Confirmations Against Authorised Funds\n        Note over POS: ✅ Display Successful Confirmation\n    end\n"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"release"},"children":[{"type":"text","value":"Release"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Authorised funds that have not been confirmed can optionally be "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#release-funds-held-for-a-pre-auth-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"released"}]},{"type":"text","value":" so that the asset holder is granted access to their remaining funds without needing to wait for the authorisation to expire."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once releasing any remaining authorised funds is successful, the Payment Request "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuthStatus"}]},{"type":"text","value":" is set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"released"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Releasing is only allowed against authorisations that have had zero or more confirmations made against them."}]}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    note over POS: All Confirmations Have Been Completed\n        POS->>C: Release Remaining Authorised Funds\n        Note over POS: ✅ Display Successful Confirmation\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    note over POS: All Confirmations Have Been Completed\n        POS->>C: Release Remaining Authorised Funds\n        Note over POS: ✅ Display Successful Confirmation\n"}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"expiry"},"children":[{"type":"text","value":"Expiry"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Authorisations automatically expire after 3 months. Any unreleased funds are subsequently released to the Patron."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"refund"},"children":[{"type":"text","value":"Refund"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/initiating-refunds"},"children":[{"type":"text","value":"Refunds"}]},{"type":"text","value":" can be made against authorisations, confirmations, released authorisations and expired authorisations."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds made against confirmations must include the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"confirmationIdempotencyKey"}]},{"type":"text","value":" field that is the same as the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"idempotencyKey"}]},{"type":"text","value":" used for original confirmation."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"void"},"children":[{"type":"text","value":"Void"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#void-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"Voiding a Payment Request"}]},{"type":"text","value":" will cancel a Payment Request and trigger any refunds necessary. This operation is useful if the POS needs to back out of a transaction due to a network error for example. Voiding can only be used up to 24 hours after the Payment Request was created."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Voiding is only allowed against Payment Requests awaiting authorisation and Payment Requests that have been successfully authorised."}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay’s Pre Auth extension allows a patron to authorise payment up to a limit when the actual payment amount is not yet known."}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"restrictions"},"children":[{"type":"text","value":"Restrictions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pre Auth payments are not supported in all cases."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Not all asset types support Pre Auth - Payment options for "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" that do not support Pre Auth will be excluded when a "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request"}]},{"type":"text","value":" is created with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuth"}]},{"type":"text","value":" flag."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pre Auth is incompatible with Multi-Asset payments - Only one asset type can be authorised for a Pre Auth."}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h2","props":{"id":"pre-auth-flow"},"children":[{"type":"text","value":"Pre Auth Flow"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Pre Auth payments go through an orthogonal payment flow compared to Centrapay’s standard payment flow."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See also: "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    note over Patron, POS: Connect with Patron\n    POS->>Centrapay: Create Authorisation\n\n    note over POS: Poll for Payment Confirmation\n\n    note over POS: ✅ Display Successful Authorisation\n\n    note over POS, Centrapay: ⏱️ Some time later..\n\n    loop 0..Many (Up to Authorised Amount)\n        POS->>Centrapay: Make Confirmations Against Authorised Funds\n        note over POS: ✅ Display Successful Confirmation\n    end\n\n    POS->>Centrapay: Release Remaining Authorised Funds\n    note over POS: ✅ Display Successful Release\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    note over Patron, POS: Connect with Patron\n    POS->>Centrapay: Create Authorisation\n\n    note over POS: Poll for Payment Confirmation\n\n    note over POS: ✅ Display Successful Authorisation\n\n    note over POS, Centrapay: ⏱️ Some time later..\n\n    loop 0..Many (Up to Authorised Amount)\n        POS->>Centrapay: Make Confirmations Against Authorised Funds\n        note over POS: ✅ Display Successful Confirmation\n    end\n\n    POS->>Centrapay: Release Remaining Authorised Funds\n    note over POS: ✅ Display Successful Release"}]}]}]}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS places a hold on funds by creating an Authorisation."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS draws down on authorised funds by making Confirmations against the authorisation when the purchase is ready to be fulfilled."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The POS releases any remaining funds that have not been confirmed back to the Patron."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"authorise"},"children":[{"type":"text","value":"Authorise"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An authorisation is created when the "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#create-a-payment-request","rel":["nofollow"]},"children":[{"type":"text","value":"Payment Request is created"}]},{"type":"text","value":" with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuth"}]},{"type":"text","value":" flag while "},{"type":"element","tag":"a","props":{"href":"/guides/requesting-payment"},"children":[{"type":"text","value":"Requesting Payment"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once the authorisation is successful, the Payment Request "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuthStatus"}]},{"type":"text","value":" is set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"authorized"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Payment Request with preAuth = true\n\n    loop Poll for Payment Confirmation\n        POS->>C: Get Payment Request Status\n\n        opt Payment Request Status is paid\n            Note over POS: Stop Polling\n        end\n    end\n\n    note over POS: ✅ Display Successful Authorisation\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Payment Request with preAuth = true\n\n    loop Poll for Payment Confirmation\n        POS->>C: Get Payment Request Status\n\n        opt Payment Request Status is paid\n            Note over POS: Stop Polling\n        end\n    end\n\n    note over POS: ✅ Display Successful Authorisation"}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"confirm"},"children":[{"type":"text","value":"Confirm"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Merchants can draw down on authorised funds by making one or more "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#make-a-confirmation-against-a-pre-auth-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"confirmations"}]},{"type":"text","value":" against an authorised amount. Confirmations must be made with an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"idempotencyKey"}]},{"type":"text","value":" in order to prevent merchants from drawing down on authorised funds twice."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Confirmations against authorised funds have limits:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Authorisations must be followed up with a confirmation - otherwise, the authorisation will expire and the funds will be returned to the asset holder."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuthExpiry"}]},{"type":"text","value":" may be adjusted to match pre-determined expiry rules set by the asset provider."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Multiple confirmations can be performed against an authorisation but the total value cannot exceed the original authorised value."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Making confirmations is only allowed against authorisations that have had zero or more confirmations made against them."}]}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Authorisation\n\n    note over POS, C: ⏱️ Some time later..\n\n    loop 0..Many (Up to Authorised Amount)\n        POS->>C: Make Confirmations Against Authorised Funds\n        Note over POS: ✅ Display Successful Confirmation\n    end\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS->>C: Create Authorisation\n\n    note over POS, C: ⏱️ Some time later..\n\n    loop 0..Many (Up to Authorised Amount)\n        POS->>C: Make Confirmations Against Authorised Funds\n        Note over POS: ✅ Display Successful Confirmation\n    end"}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"release"},"children":[{"type":"text","value":"Release"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Authorised funds that have not been confirmed can optionally be "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#release-funds-held-for-a-pre-auth-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"released"}]},{"type":"text","value":" so that the asset holder is granted access to their remaining funds without needing to wait for the authorisation to expire."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once releasing any remaining authorised funds is successful, the Payment Request "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"preAuthStatus"}]},{"type":"text","value":" is set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"released"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Releasing is only allowed against authorisations that have had zero or more confirmations made against them."}]}]},{"type":"element","tag":"code","props":{"code":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    note over POS: All Confirmations Have Been Completed\n        POS->>C: Release Remaining Authorised Funds\n        Note over POS: ✅ Display Successful Confirmation\n","language":"mermaid"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    note over POS: All Confirmations Have Been Completed\n        POS->>C: Release Remaining Authorised Funds\n        Note over POS: ✅ Display Successful Confirmation"}]}]}]}]}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"expiry"},"children":[{"type":"text","value":"Expiry"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Authorisations automatically expire after 3 months. Any unreleased funds are subsequently released to the Patron."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"refund"},"children":[{"type":"text","value":"Refund"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guides/initiating-refunds"},"children":[{"type":"text","value":"Refunds"}]},{"type":"text","value":" can be made against authorisations, confirmations, released authorisations and expired authorisations."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refunds made against confirmations must include the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"confirmationIdempotencyKey"}]},{"type":"text","value":" field that is the same as the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"idempotencyKey"}]},{"type":"text","value":" used for original confirmation."}]}]},{"type":"element","tag":"section","props":{},"children":[{"type":"element","tag":"h3","props":{"id":"void"},"children":[{"type":"text","value":"Void"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/payment-requests#void-a-payment-request-experimental","rel":["nofollow"]},"children":[{"type":"text","value":"Voiding a Payment Request"}]},{"type":"text","value":" will cancel a Payment Request and trigger any refunds necessary. This operation is useful if the POS needs to back out of a transaction due to a network error for example. Voiding can only be used up to 24 hours after the Payment Request was created."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Voiding is only allowed against Payment Requests awaiting authorisation and Payment Requests that have been successfully authorised."}]}]}]}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[{"id":"restrictions","depth":2,"text":"Restrictions"},{"id":"pre-auth-flow","depth":2,"text":"Pre Auth Flow","children":[{"id":"authorise","depth":3,"text":"Authorise"},{"id":"confirm","depth":3,"text":"Confirm"},{"id":"release","depth":3,"text":"Release"},{"id":"expiry","depth":3,"text":"Expiry"},{"id":"refund","depth":3,"text":"Refund"},{"id":"void","depth":3,"text":"Void"}]}]}},"_type":"markdown","_id":"content:guides:requesting-pre-auth.md","_source":"content","_file":"guides/requesting-pre-auth.md","_extension":"md"},{"_path":"/guides/transaction-reporting","_dir":"guides","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Transaction Reporting","description":"Centrapay allows merchants to give their Patrons choice over which digital assets to use for payment.","excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay allows merchants to give their Patrons choice over which digital assets to use for payment."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The settlement process to the merchant will differ depending on which "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" have been selected for payment by the patron."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Asset Types used for payment should be communicated to the user in any transaction reporting function on the merchant side."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Transaction reporting capabilities offered to the merchant that indicate Centrapay was used for payment MUST qualify the asset type used."}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Centrapay allows merchants to give their Patrons choice over which digital assets to use for payment."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The settlement process to the merchant will differ depending on which "},{"type":"element","tag":"a","props":{"href":"https://docs.centrapay.com/api/asset-types","rel":["nofollow"]},"children":[{"type":"text","value":"Asset Types"}]},{"type":"text","value":" have been selected for payment by the patron."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Asset Types used for payment should be communicated to the user in any transaction reporting function on the merchant side."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Transaction reporting capabilities offered to the merchant that indicate Centrapay was used for payment MUST qualify the asset type used."}]}]}],"toc":{"title":"","searchDepth":4,"depth":4,"links":[]}},"_type":"markdown","_id":"content:guides:transaction-reporting.md","_source":"content","_file":"guides/transaction-reporting.md","_extension":"md"}],"navigation":[{"title":"Guides","_path":"/guides","children":[{"title":"Farmlands POS Integration Guide","_path":"/guides/farmlands-pos-integration"},{"title":"Initiating Refunds","_path":"/guides/initiating-refunds"},{"title":"Line Items","_path":"/guides/line-items"},{"title":"Barcode Flow for Merchants","_path":"/guides/merchant-integration-barcode-flow"},{"title":"Merchant Integration Error Handling","_path":"/guides/merchant-integration-error-handling"},{"title":"QR Code Flow for Merchants","_path":"/guides/merchant-integration-qr-code-flow"},{"title":"Patron Not Present","_path":"/guides/patron-not-present"},{"title":"Payment Conditions","_path":"/guides/payment-conditions"},{"title":"Point of Sale","_path":"/guides/point-of-sale"},{"title":"Requesting Payment","_path":"/guides/requesting-payment"},{"title":"Requesting Pre Auth","_path":"/guides/requesting-pre-auth"},{"title":"Transaction Reporting","_path":"/guides/transaction-reporting"}]}]}