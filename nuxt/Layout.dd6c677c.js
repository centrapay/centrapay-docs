import L from"./Prose.199c4861.js";import{p as O,Z as E,W as j,j as D,k as V,L as A,o as e,b as n,u as t,a as s,e as d,t as m,i as I,w as k,r as H,$ as N,a0 as q,D as M,X as P,l as B,c as W,f as z}from"./entry.af9450e9.js";/* empty css                                               */const F={key:0,class:"flex items-center max-h-72 overflow-hidden"},R=["src"],T={class:"relative mx-auto desktop-gutters flex justify-center"},U={class:"min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 lg:max-w-none"},X={key:0,class:"mb-9 space-y-1"},Z={key:0,class:"type-overline text-brand-accent"},G={key:1,class:"font-display text-3xl tracking-tight text-slate-900"},J={class:"hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6"},K={key:0,"aria-labelledby":"on-this-page-title",class:"w-56"},Q=s("h2",{id:"on-this-page-title",class:"type-overline text-brand-accent"}," On this page ",-1),Y={class:"mt-4 text-sm"},S={key:0,class:"mt-2 pl-5 text-content-primary"},ae={__name:"Layout",async setup(ee){let o,u;const{path:p}=O(),b=p.endsWith("/")?p.slice(0,-1):p,g=([o,u]=E(()=>M().where({_path:b}).findOne()),o=await o,u(),o),C=g.img,x=g.title,f=([o,u]=E(()=>P()),o=await o,u(),o).find(a=>a.children.find(i=>i._path===b)),{toc:v}=j(),h=D("");let y=null;V(()=>{const a={threshold:0,rootMargin:"-20% 0px -80% 0px"};y=new IntersectionObserver(l=>{l.forEach(_=>{const r=_.target.firstElementChild.id;_.isIntersecting&&(h.value=r)})},a);const i=document.querySelectorAll("section");if(i.length){const l=i[0].firstElementChild.id;h.value=l}i.forEach(l=>{y.observe(l)})}),A(()=>{y.disconnect()});function w(a){h.value=a}return(a,i)=>{const l=L,_=z;return e(),n("div",null,[t(C)?(e(),n("div",F,[s("img",{src:t(C),"aria-hidden":"true",class:"object-cover m-0"},null,8,R)])):d("",!0),s("div",T,[s("div",U,[s("article",null,[t(x)||t(f)?(e(),n("header",X,[t(f)?(e(),n("p",Z,m(t(f).title),1)):d("",!0),t(x)?(e(),n("h1",G,m(t(x)),1)):d("",!0)])):d("",!0),I(l,null,{default:k(()=>[H(a.$slots,"default")]),_:3})])]),s("div",J,[t(v)&&t(v).links?(e(),n("nav",K,[Q,s("ol",Y,[(e(!0),n(N,null,q(t(v).links,r=>{var $;return e(),n("li",{key:r.id},[I(_,{href:`#${r.id}`,onClick:c=>w(r.id)},{default:k(()=>[s("h3",{class:B(["border-l p-squish-2 hover:text-content-primary hover:border-content-primary hover:border-l-2",h.value===r.id?"text-content-primary border-brand-accent border-l-2":"font-normal text-content-tertiary"])},m(r.text),3)]),_:2},1032,["href","onClick"]),(($=r.children)==null?void 0:$.length)>0?(e(),n("ol",S,[(e(!0),n(N,null,q(r.children,c=>(e(),W(_,{key:c.id,href:`#${c.id}`,onClick:ne=>w(c.id)},{default:k(()=>[s("li",{class:B(["border-l p-squish-2 hover:text-content-primary hover:border-content-primary hover:border-l-2",h.value===c.id?"text-content-primary border-brand-accent border-l-2":"text-content-tertiary font-normal"])},m(c.text),3)]),_:2},1032,["href","onClick"]))),128))])):d("",!0)])}),128))])])):d("",!0)])])])}}};export{ae as default};
