import B from"./Prose.243805bd.js";import{k as L,_ as V}from"./query.211db787.js";import{f as A,u as H,q as M,g as P}from"./entry.42ad62d7.js";import{ac as q,w as j,V as D,W as R,L as t,M as e,A as n,N as r,a1 as m,Q as u,Z as E,Y as k,a2 as W,O as I,P as O,_ as $,R as z}from"./runtime-core.esm-bundler.5aa44943.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./MessagesBubbleDouble.d6a2a418.js";import"./DisclosureArrowRight.a8fb9993.js";import"./CentrapayLogo.d6b87616.js";import"./NavigationMenu.e7b1a7e6.js";import"./CloseOutline.3dc775a2.js";const F={key:0,class:"flex items-center max-h-72 overflow-hidden"},Q=["src"],T={class:"relative mx-auto desktop-gutters flex justify-center"},U={class:"min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 xl:pt-16 lg:max-w-none"},Y={key:0,class:"mb-9 space-y-1"},Z={key:0,class:"type-overline text-brand-accent"},G={key:1,class:"font-display text-3xl tracking-tight text-slate-900"},J={class:"hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6 overflow-y-auto"},K={key:0,"aria-labelledby":"on-this-page-title",class:"w-56"},X=r("h2",{id:"on-this-page-title",class:"type-overline text-brand-accent"}," On this page ",-1),S={class:"mt-4 text-sm"},tt={key:0,class:"mt-2 pl-5 text-content-primary"},et={key:1,class:"w-56"},ut={__name:"Layout",async setup(nt){let s,p;const{path:x}=L(),b=x.endsWith("/")?x.slice(0,-1):x,w=([s,p]=q(()=>M().where({_path:b}).findOne()),s=await s,p(),s),_=w.img,f=w.title,y=([s,p]=q(()=>P()),s=await s,p(),s).find(a=>a.children.find(l=>l._path===b)),{toc:g}=A(),d=j("");let v=null;D(()=>{const a={threshold:0,rootMargin:"-20% 0px -80% 0px"};v=new IntersectionObserver(i=>{i.forEach(h=>{const o=h.target.firstElementChild.id;h.isIntersecting&&(d.value=o)})},a);const l=document.querySelectorAll("section");if(l.length){const i=l[0].firstElementChild.id;d.value=i}l.forEach(i=>{v.observe(i)})}),R(()=>{v.disconnect()});function C(a){d.value=a}return _&&H({meta:[{property:"og:image",content:_},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"},{name:"twitter:card",content:"summary_large_image"}]}),(a,l)=>{const i=B,h=V;return t(),e("div",null,[n(_)?(t(),e("div",F,[r("img",{src:n(_),"aria-hidden":"true",class:"object-cover m-0"},null,8,Q)])):m("",!0),r("div",T,[r("div",U,[r("article",null,[n(f)||n(y)?(t(),e("header",Y,[n(y)?(t(),e("p",Z,u(n(y).title),1)):m("",!0),n(f)?(t(),e("h1",G,u(n(f)),1)):m("",!0)])):m("",!0),E(i,null,{default:k(()=>[W(a.$slots,"default")]),_:3})])]),r("div",J,[n(g)&&n(g).links.length?(t(),e("nav",K,[X,r("ol",S,[(t(!0),e(I,null,O(n(g).links,o=>{var N;return t(),e("li",{key:o.id},[E(h,{href:`#${o.id}`,onClick:c=>C(o.id)},{default:k(()=>[r("h3",{class:$(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",d.value===o.id?"text-content-primary border-brand-accent":"font-normal text-content-tertiary"])},u(o.text),3)]),_:2},1032,["href","onClick"]),((N=o.children)==null?void 0:N.length)>0?(t(),e("ol",tt,[(t(!0),e(I,null,O(o.children,c=>(t(),z(h,{key:c.id,href:`#${c.id}`,onClick:rt=>C(c.id)},{default:k(()=>[r("li",{class:$(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",d.value===c.id?"text-content-primary border-brand-accent":"text-content-tertiary font-normal"])},u(c.text),3)]),_:2},1032,["href","onClick"]))),128))])):m("",!0)])}),128))])])):(t(),e("div",et))])])])}}};export{ut as default};
