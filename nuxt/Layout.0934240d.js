import O from"./Prose.44ef6768.js";import{q as j,$,X as H,j as L,k as M,M as V,v as A,o as e,b as t,u as n,a as o,e as _,t as u,i as q,w as k,r as D,a0 as I,a1 as N,l as B,c as P,E as z,Y as F,f as R}from"./entry.89f928d4.js";/* empty css                                               */const T={key:0,class:"flex items-center max-h-72 overflow-hidden"},U=["src"],W={class:"relative mx-auto desktop-gutters flex justify-center"},X={class:"min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 xl:pt-16 lg:max-w-none"},Y={key:0,class:"mb-9 space-y-1"},G={key:0,class:"type-overline text-brand-accent"},J={key:1,class:"font-display text-3xl tracking-tight text-slate-900"},K={class:"hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6 overflow-y-auto"},Q={key:0,"aria-labelledby":"on-this-page-title",class:"w-56"},Z=o("h2",{id:"on-this-page-title",class:"type-overline text-brand-accent"}," On this page ",-1),S={class:"mt-4 text-sm"},ee={key:0,class:"mt-2 pl-5 text-content-primary"},te={key:1,class:"w-56"},le={__name:"Layout",async setup(ne){let r,m;const{path:x}=j(),b=x.endsWith("/")?x.slice(0,-1):x,w=([r,m]=$(()=>z().where({_path:b}).findOne()),r=await r,m(),r),p=w.img,f=w.title,y=([r,m]=$(()=>F()),r=await r,m(),r).find(a=>a.children.find(l=>l._path===b)),{toc:v}=H(),d=L("");let g=null;M(()=>{const a={threshold:0,rootMargin:"-20% 0px -80% 0px"};g=new IntersectionObserver(i=>{i.forEach(h=>{const s=h.target.firstElementChild.id;h.isIntersecting&&(d.value=s)})},a);const l=document.querySelectorAll("section");if(l.length){const i=l[0].firstElementChild.id;d.value=i}l.forEach(i=>{g.observe(i)})}),V(()=>{g.disconnect()});function C(a){d.value=a}return p&&A({meta:[{property:"og:image",content:p},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"},{name:"twitter:card",content:"summary_large_image"}]}),(a,l)=>{const i=O,h=R;return e(),t("div",null,[n(p)?(e(),t("div",T,[o("img",{src:n(p),"aria-hidden":"true",class:"object-cover m-0"},null,8,U)])):_("",!0),o("div",W,[o("div",X,[o("article",null,[n(f)||n(y)?(e(),t("header",Y,[n(y)?(e(),t("p",G,u(n(y).title),1)):_("",!0),n(f)?(e(),t("h1",J,u(n(f)),1)):_("",!0)])):_("",!0),q(i,null,{default:k(()=>[D(a.$slots,"default")]),_:3})])]),o("div",K,[n(v)&&n(v).links.length?(e(),t("nav",Q,[Z,o("ol",S,[(e(!0),t(I,null,N(n(v).links,s=>{var E;return e(),t("li",{key:s.id},[q(h,{href:`#${s.id}`,onClick:c=>C(s.id)},{default:k(()=>[o("h3",{class:B(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",d.value===s.id?"text-content-primary border-brand-accent":"font-normal text-content-tertiary"])},u(s.text),3)]),_:2},1032,["href","onClick"]),((E=s.children)==null?void 0:E.length)>0?(e(),t("ol",ee,[(e(!0),t(I,null,N(s.children,c=>(e(),P(h,{key:c.id,href:`#${c.id}`,onClick:oe=>C(c.id)},{default:k(()=>[o("li",{class:B(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",d.value===c.id?"text-content-primary border-brand-accent":"text-content-tertiary font-normal"])},u(c.text),3)]),_:2},1032,["href","onClick"]))),128))])):_("",!0)])}),128))])])):(e(),t("div",te))])])])}}};export{le as default};
