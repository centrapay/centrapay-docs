import O from"./Prose.7fe926c2.js";import{q as j,$,X as L,j as M,k as V,M as A,o as e,b as t,u as n,a as o,e as _,t as m,i as q,w as k,r as D,a0 as I,a1 as N,l as B,c as H,E as P,Y as z,f as F}from"./entry.8f565add.js";/* empty css                                               */const R={key:0,class:"flex items-center max-h-72 overflow-hidden"},T=["src"],U={class:"relative mx-auto desktop-gutters flex justify-center"},W={class:"min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 xl:pt-16 lg:max-w-none"},X={key:0,class:"mb-9 space-y-1"},Y={key:0,class:"type-overline text-brand-accent"},G={key:1,class:"font-display text-3xl tracking-tight text-slate-900"},J={class:"hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6 overflow-y-auto"},K={key:0,"aria-labelledby":"on-this-page-title",class:"w-56"},Q=o("h2",{id:"on-this-page-title",class:"type-overline text-brand-accent"}," On this page ",-1),Z={class:"mt-4 text-sm"},S={key:0,class:"mt-2 pl-5 text-content-primary"},ee={key:1,class:"w-56"},ie={__name:"Layout",async setup(te){let r,u;const{path:p}=j(),g=p.endsWith("/")?p.slice(0,-1):p,b=([r,u]=$(()=>P().where({_path:g}).findOne()),r=await r,u(),r),w=b.img,x=b.title,f=([r,u]=$(()=>z()),r=await r,u(),r).find(a=>a.children.find(l=>l._path===g)),{toc:y}=L(),d=M("");let v=null;V(()=>{const a={threshold:0,rootMargin:"-20% 0px -80% 0px"};v=new IntersectionObserver(i=>{i.forEach(h=>{const s=h.target.firstElementChild.id;h.isIntersecting&&(d.value=s)})},a);const l=document.querySelectorAll("section");if(l.length){const i=l[0].firstElementChild.id;d.value=i}l.forEach(i=>{v.observe(i)})}),A(()=>{v.disconnect()});function C(a){d.value=a}return(a,l)=>{const i=O,h=F;return e(),t("div",null,[n(w)?(e(),t("div",R,[o("img",{src:n(w),"aria-hidden":"true",class:"object-cover m-0"},null,8,T)])):_("",!0),o("div",U,[o("div",W,[o("article",null,[n(x)||n(f)?(e(),t("header",X,[n(f)?(e(),t("p",Y,m(n(f).title),1)):_("",!0),n(x)?(e(),t("h1",G,m(n(x)),1)):_("",!0)])):_("",!0),q(i,null,{default:k(()=>[D(a.$slots,"default")]),_:3})])]),o("div",J,[n(y)&&n(y).links.length?(e(),t("nav",K,[Q,o("ol",Z,[(e(!0),t(I,null,N(n(y).links,s=>{var E;return e(),t("li",{key:s.id},[q(h,{href:`#${s.id}`,onClick:c=>C(s.id)},{default:k(()=>[o("h3",{class:B(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",d.value===s.id?"text-content-primary border-brand-accent":"font-normal text-content-tertiary"])},m(s.text),3)]),_:2},1032,["href","onClick"]),((E=s.children)==null?void 0:E.length)>0?(e(),t("ol",S,[(e(!0),t(I,null,N(s.children,c=>(e(),H(h,{key:c.id,href:`#${c.id}`,onClick:se=>C(c.id)},{default:k(()=>[o("li",{class:B(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",d.value===c.id?"text-content-primary border-brand-accent":"text-content-tertiary font-normal"])},m(c.text),3)]),_:2},1032,["href","onClick"]))),128))])):_("",!0)])}),128))])])):(e(),t("div",ee))])])])}}};export{ie as default};
