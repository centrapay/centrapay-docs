import O from"./Prose.87f889d4.js";import{l as V,Y as B,U as L,r as j,a as A,J as D,o as e,b as n,u as t,e as s,Z as d,t as m,f as E,w as b,h as H,$ as I,a0 as N,B as M,V as P,i as q,c as U,W}from"./entry.f4800a19.js";/* empty css                                               */const z={key:0,class:"flex items-center max-h-72 overflow-hidden"},F=["src"],J={class:"relative mx-auto desktop-gutters flex justify-center"},R={class:"min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 lg:max-w-none"},T={key:0,class:"mb-9 space-y-1"},Y={key:0,class:"type-overline text-brand-accent"},Z={key:1,class:"font-display text-3xl tracking-tight text-slate-900"},G={class:"hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6"},K={key:0,"aria-labelledby":"on-this-page-title",class:"w-56"},Q=s("h2",{id:"on-this-page-title",class:"type-overline text-brand-accent"}," On this page ",-1),X={class:"mt-4 text-sm"},S={key:0,class:"mt-2 pl-5 text-content-primary"},ae={__name:"Layout",async setup(ee){let o,u;const{path:p}=V(),g=p.endsWith("/")?p.slice(0,-1):p,k=([o,u]=B(()=>M().where({_path:g}).findOne()),o=await o,u(),o),C=k.img,x=k.title,f=([o,u]=B(()=>P()),o=await o,u(),o).find(a=>a.children.find(i=>i._path===g)),{toc:v}=L(),h=j("");let y=null;A(()=>{const a={threshold:0,rootMargin:"-20% 0px -80% 0px"};y=new IntersectionObserver(l=>{l.forEach(_=>{const r=_.target.firstElementChild.id;_.isIntersecting&&(h.value=r)})},a);const i=document.querySelectorAll("section");if(i.length){const l=i[0].firstElementChild.id;h.value=l}i.forEach(l=>{y.observe(l)})}),D(()=>{y.disconnect()});function w(a){h.value=a}return(a,i)=>{const l=O,_=W;return e(),n("div",null,[t(C)?(e(),n("div",z,[s("img",{src:t(C),"aria-hidden":"true",class:"object-cover m-0"},null,8,F)])):d("",!0),s("div",J,[s("div",R,[s("article",null,[t(x)||t(f)?(e(),n("header",T,[t(f)?(e(),n("p",Y,m(t(f).title),1)):d("",!0),t(x)?(e(),n("h1",Z,m(t(x)),1)):d("",!0)])):d("",!0),E(l,null,{default:b(()=>[H(a.$slots,"default")]),_:3})])]),s("div",G,[t(v)&&t(v).links?(e(),n("nav",K,[Q,s("ol",X,[(e(!0),n(I,null,N(t(v).links,r=>{var $;return e(),n("li",{key:r.id},[E(_,{href:`#${r.id}`,onClick:c=>w(r.id)},{default:b(()=>[s("h3",{class:q(["border-l p-squish-2 hover:text-content-primary hover:border-content-primary hover:border-l-2",h.value===r.id?"text-content-primary border-brand-accent border-l-2":"font-normal text-content-tertiary"])},m(r.text),3)]),_:2},1032,["href","onClick"]),(($=r.children)==null?void 0:$.length)>0?(e(),n("ol",S,[(e(!0),n(I,null,N(r.children,c=>(e(),U(_,{key:c.id,href:`#${c.id}`,onClick:ne=>w(c.id)},{default:b(()=>[s("li",{class:q(["border-l p-squish-2 hover:text-content-primary hover:border-content-primary hover:border-l-2",h.value===c.id?"text-content-primary border-brand-accent border-l-2":"text-content-tertiary font-normal"])},m(c.text),3)]),_:2},1032,["href","onClick"]))),128))])):d("",!0)])}),128))])])):d("",!0)])])])}}};export{ae as default};
