import O from"./Prose.ede99945.js";import{q as j,$,X as L,j as M,k as V,M as A,o as e,b as n,u as t,a as o,e as d,t as m,i as q,w as k,r as D,a0 as I,a1 as N,l as B,c as H,E as P,Y as z,f as F}from"./entry.0001d4ea.js";/* empty css                                               */const R={key:0,class:"flex items-center max-h-72 overflow-hidden"},T=["src"],U={class:"relative mx-auto desktop-gutters flex justify-center"},W={class:"min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 xl:pt-16 lg:max-w-none"},X={key:0,class:"mb-9 space-y-1"},Y={key:0,class:"type-overline text-brand-accent"},G={key:1,class:"font-display text-3xl tracking-tight text-slate-900"},J={class:"hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6 overflow-y-auto"},K={key:0,"aria-labelledby":"on-this-page-title",class:"w-56"},Q=o("h2",{id:"on-this-page-title",class:"type-overline text-brand-accent"}," On this page ",-1),Z={class:"mt-4 text-sm"},S={key:0,class:"mt-2 pl-5 text-content-primary"},ae={__name:"Layout",async setup(ee){let r,u;const{path:p}=j(),g=p.endsWith("/")?p.slice(0,-1):p,b=([r,u]=$(()=>P().where({_path:g}).findOne()),r=await r,u(),r),C=b.img,x=b.title,f=([r,u]=$(()=>z()),r=await r,u(),r).find(a=>a.children.find(l=>l._path===g)),{toc:y}=L(),h=M("");let v=null;V(()=>{const a={threshold:0,rootMargin:"-20% 0px -80% 0px"};v=new IntersectionObserver(i=>{i.forEach(_=>{const s=_.target.firstElementChild.id;_.isIntersecting&&(h.value=s)})},a);const l=document.querySelectorAll("section");if(l.length){const i=l[0].firstElementChild.id;h.value=i}l.forEach(i=>{v.observe(i)})}),A(()=>{v.disconnect()});function w(a){h.value=a}return(a,l)=>{const i=O,_=F;return e(),n("div",null,[t(C)?(e(),n("div",R,[o("img",{src:t(C),"aria-hidden":"true",class:"object-cover m-0"},null,8,T)])):d("",!0),o("div",U,[o("div",W,[o("article",null,[t(x)||t(f)?(e(),n("header",X,[t(f)?(e(),n("p",Y,m(t(f).title),1)):d("",!0),t(x)?(e(),n("h1",G,m(t(x)),1)):d("",!0)])):d("",!0),q(i,null,{default:k(()=>[D(a.$slots,"default")]),_:3})])]),o("div",J,[t(y)&&t(y).links?(e(),n("nav",K,[Q,o("ol",Z,[(e(!0),n(I,null,N(t(y).links,s=>{var E;return e(),n("li",{key:s.id},[q(_,{href:`#${s.id}`,onClick:c=>w(s.id)},{default:k(()=>[o("h3",{class:B(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",h.value===s.id?"text-content-primary border-brand-accent":"font-normal text-content-tertiary"])},m(s.text),3)]),_:2},1032,["href","onClick"]),((E=s.children)==null?void 0:E.length)>0?(e(),n("ol",S,[(e(!0),n(I,null,N(s.children,c=>(e(),H(_,{key:c.id,href:`#${c.id}`,onClick:ne=>w(c.id)},{default:k(()=>[o("li",{class:B(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",h.value===c.id?"text-content-primary border-brand-accent":"text-content-tertiary font-normal"])},m(c.text),3)]),_:2},1032,["href","onClick"]))),128))])):d("",!0)])}),128))])])):d("",!0)])])])}}};export{ae as default};
