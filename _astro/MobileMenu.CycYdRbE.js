import ve from"./CloseOutline.DHWNski1.js";import de from"./NavigationMenu.BMDw8hHW.js";import fe from"./Navigation.qVRNVZDK.js";import{T as be}from"./runtime-dom.esm-bundler.CZmpho2F.js";import{_ as me}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{q as Pe,N as ge,E as ye,w as Se,a as he,h as we,n as oe,f as R,u as V,i as W,b as J,P as N,c as F,d as I,T as U}from"./portal.BDR8dPo9.js";import{u as T,o,t as xe,A as Q,i as D,l as _e,N as le,a as K,b as C}from"./keyboard.ZNbZ-zy7.js";import{s as Ee}from"./Carat.Cm8TmWej.js";import{K as X,r as x,L as _,M as ae,N as Y,p as $,F as Z,o as ne,a as re,O as ee,f as q,e as z,w as G,b as H,g as A}from"./runtime-core.esm-bundler.CpkUArNa.js";var ke=(u=>(u[u.Open=0]="Open",u[u.Closed=1]="Closed",u))(ke||{});let ue=Symbol("PopoverContext");function te(u){let f=ee(ue,null);if(f===null){let v=new Error(`<${u} /> is missing a parent <${pe.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,te),v}return f}let Fe=Symbol("PopoverGroupContext");function se(){return ee(Fe,null)}let ie=Symbol("PopoverPanelContext");function Ie(){return ee(ie,null)}let pe=X({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(u,{slots:f,attrs:v,expose:d}){var h;let g=x(null);d({el:g,$el:g});let l=x(1),t=x(null),E=x(null),y=x(null),m=x(null),b=_(()=>W(g)),S=_(()=>{var e,n;if(!o(t)||!o(m))return!1;for(let j of document.querySelectorAll("body > *"))if(Number(j?.contains(o(t)))^Number(j?.contains(o(m))))return!0;let a=J(),p=a.indexOf(o(t)),w=(p+a.length-1)%a.length,k=(p+1)%a.length,L=a[w],ce=a[k];return!((e=o(m))!=null&&e.contains(L))&&!((n=o(m))!=null&&n.contains(ce))}),c={popoverState:l,buttonId:x(null),panelId:x(null),panel:m,button:t,isPortalled:S,beforePanelSentinel:E,afterPanelSentinel:y,togglePopover(){l.value=T(l.value,{0:1,1:0})},closePopover(){l.value!==1&&(l.value=1)},close(e){c.closePopover();let n=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?o(e):o(c.button):o(c.button);n?.focus()}};ae(ue,c),xe(_(()=>T(l.value,{0:K.Open,1:K.Closed})));let O={buttonId:c.buttonId,panelId:c.panelId,close(){c.closePopover()}},P=se(),B=P?.registerPopover,[M,s]=Pe(),i=ge({mainTreeNodeRef:P?.mainTreeNodeRef,portals:M,defaultContainers:[t,m]});function r(){var e,n,a,p;return(p=P?.isFocusWithinPopoverGroup())!=null?p:((e=b.value)==null?void 0:e.activeElement)&&(((n=o(t))==null?void 0:n.contains(b.value.activeElement))||((a=o(m))==null?void 0:a.contains(b.value.activeElement)))}return Y(()=>B?.(O)),ye((h=b.value)==null?void 0:h.defaultView,"focus",e=>{var n,a;e.target!==window&&e.target instanceof HTMLElement&&l.value===0&&(r()||t&&m&&(i.contains(e.target)||(n=o(c.beforePanelSentinel))!=null&&n.contains(e.target)||(a=o(c.afterPanelSentinel))!=null&&a.contains(e.target)||c.closePopover()))},!0),Se(i.resolveContainers,(e,n)=>{var a;c.closePopover(),he(n,we.Loose)||(e.preventDefault(),(a=o(t))==null||a.focus())},_(()=>l.value===0)),()=>{let e={open:l.value===0,close:c.close};return $(Z,[$(s,{},()=>Q({theirProps:{...u,...v},ourProps:{ref:g},slot:e,slots:f,attrs:v,name:"Popover"})),$(i.MainTreeNode)])}}}),$e=X({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(u,{attrs:f,slots:v,expose:d}){var h;let g=(h=u.id)!=null?h:`headlessui-popover-button-${D()}`,l=te("PopoverButton"),t=_(()=>W(l.button));d({el:l.button,$el:l.button}),ne(()=>{l.buttonId.value=g}),re(()=>{l.buttonId.value=null});let E=se(),y=E?.closeOthers,m=Ie(),b=_(()=>m===null?!1:m.value===l.panelId.value),S=x(null),c=`headlessui-focus-sentinel-${D()}`;b.value||Y(()=>{l.button.value=o(S)});let O=Ee(_(()=>({as:u.as,type:f.type})),S);function P(e){var n,a,p,w,k;if(b.value){if(l.popoverState.value===1)return;switch(e.key){case C.Space:case C.Enter:e.preventDefault(),(a=(n=e.target).click)==null||a.call(n),l.closePopover(),(p=o(l.button))==null||p.focus();break}}else switch(e.key){case C.Space:case C.Enter:e.preventDefault(),e.stopPropagation(),l.popoverState.value===1&&y?.(l.buttonId.value),l.togglePopover();break;case C.Escape:if(l.popoverState.value!==0)return y?.(l.buttonId.value);if(!o(l.button)||(w=t.value)!=null&&w.activeElement&&!((k=o(l.button))!=null&&k.contains(t.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),l.closePopover();break}}function B(e){b.value||e.key===C.Space&&e.preventDefault()}function M(e){var n,a;u.disabled||(b.value?(l.closePopover(),(n=o(l.button))==null||n.focus()):(e.preventDefault(),e.stopPropagation(),l.popoverState.value===1&&y?.(l.buttonId.value),l.togglePopover(),(a=o(l.button))==null||a.focus()))}function s(e){e.preventDefault(),e.stopPropagation()}let i=oe();function r(){let e=o(l.panel);if(!e)return;function n(){T(i.value,{[I.Forwards]:()=>N(e,F.First),[I.Backwards]:()=>N(e,F.Last)})===U.Error&&N(J().filter(a=>a.dataset.headlessuiFocusGuard!=="true"),T(i.value,{[I.Forwards]:F.Next,[I.Backwards]:F.Previous}),{relativeTo:o(l.button)})}n()}return()=>{let e=l.popoverState.value===0,n={open:e},{...a}=u,p=b.value?{ref:S,type:O.value,onKeydown:P,onClick:M}:{ref:S,id:g,type:O.value,"aria-expanded":l.popoverState.value===0,"aria-controls":o(l.panel)?l.panelId.value:void 0,disabled:u.disabled?!0:void 0,onKeydown:P,onKeyup:B,onClick:M,onMousedown:s};return $(Z,[Q({ourProps:p,theirProps:{...f,...a},slot:n,attrs:f,slots:v,name:"PopoverButton"}),e&&!b.value&&l.isPortalled.value&&$(R,{id:c,features:V.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:r})])}}}),Ce=X({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(u,{attrs:f,slots:v,expose:d}){var h;let g=(h=u.id)!=null?h:`headlessui-popover-panel-${D()}`,{focus:l}=u,t=te("PopoverPanel"),E=_(()=>W(t.panel)),y=`headlessui-focus-sentinel-before-${D()}`,m=`headlessui-focus-sentinel-after-${D()}`;d({el:t.panel,$el:t.panel}),ne(()=>{t.panelId.value=g}),re(()=>{t.panelId.value=null}),ae(ie,t.panelId),Y(()=>{var s,i;if(!l||t.popoverState.value!==0||!t.panel)return;let r=(s=E.value)==null?void 0:s.activeElement;(i=o(t.panel))!=null&&i.contains(r)||N(o(t.panel),F.First)});let b=_e(),S=_(()=>b!==null?(b.value&K.Open)===K.Open:t.popoverState.value===0);function c(s){var i,r;switch(s.key){case C.Escape:if(t.popoverState.value!==0||!o(t.panel)||E.value&&!((i=o(t.panel))!=null&&i.contains(E.value.activeElement)))return;s.preventDefault(),s.stopPropagation(),t.closePopover(),(r=o(t.button))==null||r.focus();break}}function O(s){var i,r,e,n,a;let p=s.relatedTarget;p&&o(t.panel)&&((i=o(t.panel))!=null&&i.contains(p)||(t.closePopover(),((e=(r=o(t.beforePanelSentinel))==null?void 0:r.contains)!=null&&e.call(r,p)||(a=(n=o(t.afterPanelSentinel))==null?void 0:n.contains)!=null&&a.call(n,p))&&p.focus({preventScroll:!0})))}let P=oe();function B(){let s=o(t.panel);if(!s)return;function i(){T(P.value,{[I.Forwards]:()=>{var r;N(s,F.First)===U.Error&&((r=o(t.afterPanelSentinel))==null||r.focus())},[I.Backwards]:()=>{var r;(r=o(t.button))==null||r.focus({preventScroll:!0})}})}i()}function M(){let s=o(t.panel);if(!s)return;function i(){T(P.value,{[I.Forwards]:()=>{let r=o(t.button),e=o(t.panel);if(!r)return;let n=J(),a=n.indexOf(r),p=n.slice(0,a+1),w=[...n.slice(a+1),...p];for(let k of w.slice())if(k.dataset.headlessuiFocusGuard==="true"||e!=null&&e.contains(k)){let L=w.indexOf(k);L!==-1&&w.splice(L,1)}N(w,F.First,{sorted:!1})},[I.Backwards]:()=>{var r;N(s,F.Previous)===U.Error&&((r=o(t.button))==null||r.focus())}})}i()}return()=>{let s={open:t.popoverState.value===0,close:t.close},{focus:i,...r}=u,e={ref:t.panel,id:g,onKeydown:c,onFocusout:l&&t.popoverState.value===0?O:void 0,tabIndex:-1};return Q({ourProps:e,theirProps:{...f,...r},attrs:f,slot:s,slots:{...v,default:(...n)=>{var a;return[$(Z,[S.value&&t.isPortalled.value&&$(R,{id:y,ref:t.beforePanelSentinel,features:V.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:B}),(a=v.default)==null?void 0:a.call(v,...n),S.value&&t.isPortalled.value&&$(R,{id:m,ref:t.afterPanelSentinel,features:V.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:M})])]}},features:le.RenderStrategy|le.Static,visible:S.value,name:"PopoverPanel"})}}});const Ne={__name:"MobileMenu",props:{path:{type:[String,void 0],required:!1,default:void 0},navigation:{type:Object,required:!0}},setup(u,{expose:f}){f();const d={props:u,CloseOutline:ve,NavigationMenu:de,Navigation:fe,get Popover(){return pe},get PopoverButton(){return $e},get PopoverPanel(){return Ce}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},Oe={class:"py-5"},Be={class:"mx-auto max-w-7xl px-6 lg:px-8"},Me={class:"relative max-h-[calc(100vh-64px)] w-full flex-1 overflow-y-scroll border-t bg-surface-primary pb-4 pt-2"};function Te(u,f,v,d,h,g){return z(),q(d.Popover,{class:"static isolate z-50 md:hidden"},{default:G(({open:l})=>[H("div",Oe,[H("div",Be,[A(d.PopoverButton,{class:"flex items-center ring-focus-ring focus:outline-none focus:ring-2 focus:ring-inset"},{default:G(()=>[l?(z(),q(d.CloseOutline,{key:1,class:"block size-6 text-content-tertiary","aria-hidden":"true"})):(z(),q(d.NavigationMenu,{key:0,class:"block size-6 text-content-tertiary","aria-hidden":"true"}))]),_:2},1024)])]),A(be,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-1"},{default:G(()=>[A(d.PopoverPanel,{class:"absolute inset-x-0 inset-y-16 -z-10"},{default:G(()=>[H("div",Me,[A(d.Navigation,{path:v.path,navigation:v.navigation},null,8,["path","navigation"])])]),_:1})]),_:1})]),_:1})}const Re=me(Ne,[["render",Te]]);export{Re as default};
