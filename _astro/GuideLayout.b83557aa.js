import{v as n}from"./runtime-dom.esm-bundler.5f475a2f.js";import w from"./Prose.6e3b3d6f.js";import{_ as k}from"./_plugin-vue_export-helper.c27b6911.js";import{r as x,o as v,a as g,c as h,w as i,b as t,t as p,d as C,e as S,F as q,f as I,g as m,h as N,n as y}from"./runtime-core.esm-bundler.39d26f06.js";const E={__name:"GuideLayout",props:{collectionName:{type:String,required:!0},headings:{type:Object,required:!0},title:{type:String,required:!0},img:{type:String,required:!0}},setup(c,{expose:u}){u();const s=c,e=x("");let o=null;v(()=>{const l={threshold:0,rootMargin:"-20% 0px -80% 0px"};o=new IntersectionObserver(a=>{a.forEach(f=>{const b=f.target.firstElementChild.id;f.isIntersecting&&(e.value=b)})},l);const d=document.querySelectorAll("section");if(d.length){const a=d[0].firstElementChild.id;e.value=a}d.forEach(a=>{o.observe(a)})}),g(()=>{o.disconnect()});function _(l){e.value=l}const r={props:s,visibleHeadingId:e,get observer(){return o},set observer(l){o=l},handleTocClick:_,ref:x,onMounted:v,onUnmounted:g,Prose:w};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},O={class:"flex items-center max-h-72 overflow-hidden"},j=["src"],B={class:"relative mx-auto desktop-gutters flex justify-center"},H={class:"min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 xl:pt-16 lg:max-w-none"},L={class:"mb-9 space-y-1"},P={class:"hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6 overflow-y-auto"},D={"aria-labelledby":"on-this-page-title",class:"w-56"},F=t("h2",{id:"on-this-page-title",class:"type-overline text-content-primary"}," On this page ",-1),G={class:"mt-4 text-sm"},M=["href","onClick"],T={class:"w-56"};function V(c,u,s,e,o,_){return m(),h("div",null,[i(t("div",O,[t("img",{src:e.props.img,"aria-hidden":"true",class:"object-cover m-0 w-full h-24 md:h-full"},null,8,j)],512),[[n,e.props.img]]),t("div",B,[t("div",H,[t("article",null,[i(t("header",L,[i(t("p",{class:"type-overline text-content-primary"},p(s.collectionName),513),[[n,s.collectionName]]),i(t("h1",{class:"font-display text-3xl tracking-tight text-slate-900"},p(e.props.title),513),[[n,e.props.title]])],512),[[n,e.props.title||s.collectionName]]),C(e.Prose,null,{default:S(()=>[N(c.$slots,"default")]),_:3})])]),t("div",P,[i(t("nav",D,[F,t("ol",G,[(m(!0),h(q,null,I(s.headings,r=>(m(),h("li",{key:r.slug,class:y(r.depth===3?"pl-5":"")},[t("a",{href:`#${r.slug}`,onClick:l=>e.handleTocClick(r.slug)},[t("h3",{class:y(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",[e.visibleHeadingId===r.slug?"text-content-primary border-brand-accent":"font-normal text-content-tertiary",r.depth===3?"pl-5":""]])},p(r.text),3)],8,M)],2))),128))])],512),[[n,e.props.headings&&e.props.headings.length]]),i(t("div",T,null,512),[[n,!e.props.headings?.length]])])])])}const K=k(E,[["render",V]]);export{K as default};
