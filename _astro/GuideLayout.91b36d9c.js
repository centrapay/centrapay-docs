import{_ as v}from"./_plugin-vue_export-helper.c27b6911.js";import{o as t,c as s,r as b,a as f,b as g,d as x,e as r,f as a,t as u,g as w,w as C,F as q,h as N,n as y}from"./runtime-core.esm-bundler.ce0e7430.js";const S={},j={class:"prose prose-slate max-w-none prose-headings:font-display prose-headings:font-normal prose-h2:scroll-mt-16 prose-h2:mt-8 prose-h2:pt-8 prose-h2:border-t prose-h3:scroll-mt-20 prose-lead:text-slate-500 prose-a:no-underline prose-a:text-content-primary hover:prose-a:no-underline prose-img:mb-8 prose-img:mx-auto prose-img:object-contain"};function E(c,p){return t(),s("div",j,[b(c.$slots,"default")])}const I=v(S,[["render",E]]),O={__name:"GuideLayout",props:{collectionName:{type:String,required:!0},headings:{type:Object,required:!0},title:{type:String,required:!0},img:{type:String,required:!0},fullWidth:{type:Boolean,required:!1}},setup(c,{expose:p}){p();const n=c,e=f("");let l=null;g(()=>{const i={threshold:0,rootMargin:"-20% 0px -80% 0px"};l=new IntersectionObserver(d=>{d.forEach(_=>{const k=_.target.firstElementChild.id;_.isIntersecting&&(e.value=k)})},i);const h=document.querySelectorAll("section");if(h.length){const d=h[0].firstElementChild.id;e.value=d}h.forEach(d=>{l.observe(d)})}),x(()=>{l.disconnect()});function m(i){e.value=i}const o={props:n,visibleHeadingId:e,get observer(){return l},set observer(i){l=i},handleTocClick:m,ref:f,onMounted:g,onUnmounted:x,Prose:I};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},B={key:0,class:"flex items-center max-h-72 overflow-hidden"},L=["src"],P={class:"relative mx-auto desktop-gutters flex justify-center"},V={class:"min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 xl:pt-16 lg:max-w-none"},F={key:0,class:"mb-9 space-y-1"},G={key:0,class:"type-overline text-content-primary"},H={key:1,class:"font-display text-3xl tracking-tight text-slate-900"},M={class:"hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6 overflow-y-auto"},T={key:0,"aria-labelledby":"on-this-page-title",class:"w-56"},W=r("h2",{id:"on-this-page-title",class:"type-overline text-content-primary"}," On this page ",-1),z={class:"mt-4 text-sm"},A=["href","onClick"],D={key:1,class:"w-56"};function U(c,p,n,e,l,m){return t(),s("div",null,[e.props.img?(t(),s("div",B,[r("img",{src:e.props.img,"aria-hidden":"true",class:"object-cover m-0 w-full h-24 md:h-full"},null,8,L)])):a("",!0),r("div",P,[r("div",V,[r("article",null,[e.props.title||n.collectionName?(t(),s("header",F,[n.collectionName?(t(),s("p",G,u(n.collectionName),1)):a("",!0),e.props.title?(t(),s("h1",H,u(e.props.title),1)):a("",!0)])):a("",!0),w(e.Prose,null,{default:C(()=>[b(c.$slots,"default")]),_:3})])]),r("div",M,[e.props.headings&&e.props.headings.length?(t(),s("nav",T,[W,r("ol",z,[(t(!0),s(q,null,N(n.headings,o=>(t(),s("li",{key:o.slug,class:y(o.depth===3?"pl-5":"")},[r("a",{href:`#${o.slug}`,onClick:i=>e.handleTocClick(o.slug)},[r("h3",{class:y(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",[o.depth===3?"pl-5":""]])},u(o.text),3)],8,A)],2))),128))])])):a("",!0),!e.props.headings?.length&&!e.props.fullWidth?(t(),s("div",D)):a("",!0)])])])}const Q=v(O,[["render",U]]);export{Q as default};
