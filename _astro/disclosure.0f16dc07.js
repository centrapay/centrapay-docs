import{V as x,k as I,L as D,K as S,a as b,b as L,G as $,J as k,H as E}from"./runtime-core.esm-bundler.df8e59f7.js";function m(e,o,...n){if(e in o){let t=o[e];return typeof t=="function"?t(...n):t}let l=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(o).map(t=>`"${t}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,m),l}var w=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(w||{}),R=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(R||{});function O({visible:e=!0,features:o=0,...n}){var l;if(e||o&2&&n.props.static)return h(n);if(o&1){let t=(l=n.props.unmount)==null||l?0:1;return m(t,{[0](){return null},[1](){return h({...n,props:{...n.props,hidden:!0,style:{display:"none"}}})}})}return h(n)}function h({props:e,attrs:o,slots:n,slot:l,name:t}){var r;let{as:c,...s}=U(e,["unmount","static"]),a=(r=n.default)==null?void 0:r.call(n,l);if(c==="template"){if(Object.keys(s).length>0||Object.keys(o).length>0){let[i,...p]=a??[];if(!K(i)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${t} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(s).concat(Object.keys(o)).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`));return x(i,s)}return Array.isArray(a)&&a.length===1?a[0]:a}return I(c,s,a)}function U(e,o=[]){let n=Object.assign({},e);for(let l of o)l in n&&delete n[l];return n}function K(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let M=0;function N(){return++M}function A(){return N()}var v=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(v||{});function d(e){return e==null||e.value==null?null:"$el"in e.value?e.value.$el:e.value}let B=Symbol("Context");var g=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(g||{});function z(){return P()!==null}function P(){return D(B,null)}function G(e){S(B,e)}function C(e,o){if(e)return e;let n=o??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function J(e,o){let n=b(C(e.value.type,e.value.as));return L(()=>{n.value=C(e.value.type,e.value.as)}),$(()=>{var l;n.value||!d(o)||d(o)instanceof HTMLButtonElement&&!((l=d(o))!=null&&l.hasAttribute("type"))&&(n.value="button")}),n}var V=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(V||{});let T=Symbol("DisclosureContext");function j(e){let o=D(T,null);if(o===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,j),n}return o}let H=Symbol("DisclosurePanelContext");function Y(){return D(H,null)}let F=k({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:o,attrs:n}){let l=`headlessui-disclosure-button-${A()}`,t=`headlessui-disclosure-panel-${A()}`,r=b(e.defaultOpen?0:1),c=b(null),s=b(null),a={buttonId:l,panelId:t,disclosureState:r,panel:c,button:s,toggleDisclosure(){r.value=m(r.value,{[0]:1,[1]:0})},closeDisclosure(){r.value!==1&&(r.value=1)},close(i){a.closeDisclosure();let p=(()=>i?i instanceof HTMLElement?i:i.value instanceof HTMLElement?d(i):d(a.button):d(a.button))();p?.focus()}};return S(T,a),G(E(()=>m(r.value,{[0]:g.Open,[1]:g.Closed}))),()=>{let{defaultOpen:i,...p}=e,f={open:r.value===0,close:a.close};return O({props:p,slot:f,slots:o,attrs:n,name:"Disclosure"})}}}),Q=k({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:o,slots:n,expose:l}){let t=j("DisclosureButton"),r=Y(),c=r===null?!1:r===t.panelId,s=b(null);l({el:s,$el:s}),c||$(()=>{t.button.value=s.value});let a=J(E(()=>({as:e.as,type:o.type})),s);function i(){var u;e.disabled||(c?(t.toggleDisclosure(),(u=d(t.button))==null||u.focus()):t.toggleDisclosure())}function p(u){var y;if(!e.disabled)if(c)switch(u.key){case v.Space:case v.Enter:u.preventDefault(),u.stopPropagation(),t.toggleDisclosure(),(y=d(t.button))==null||y.focus();break}else switch(u.key){case v.Space:case v.Enter:u.preventDefault(),u.stopPropagation(),t.toggleDisclosure();break}}function f(u){switch(u.key){case v.Space:u.preventDefault();break}}return()=>{let u={open:t.disclosureState.value===0},y=c?{ref:s,type:a.value,onClick:i,onKeydown:p}:{id:t.buttonId,ref:s,type:a.value,"aria-expanded":e.disabled?void 0:t.disclosureState.value===0,"aria-controls":d(t.panel)?t.panelId:void 0,disabled:e.disabled?!0:void 0,onClick:i,onKeydown:p,onKeyup:f};return O({props:{...e,...y},slot:u,attrs:o,slots:n,name:"DisclosureButton"})}}}),W=k({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:o,slots:n,expose:l}){let t=j("DisclosurePanel");l({el:t.panel,$el:t.panel}),S(H,t.panelId);let r=P(),c=E(()=>r!==null?r.value===g.Open:t.disclosureState.value===0);return()=>{let s={open:t.disclosureState.value===0,close:t.close},a={id:t.panelId,ref:t.panel};return O({props:{...e,...a},slot:s,attrs:o,slots:n,features:w.RenderStrategy|w.Static,visible:c.value,name:"DisclosurePanel"})}}});export{F as A,Q as G,W as J,U as R,A as a,G as c,z as f,R as h,O as k,g as l,w as m,v as o,P as p,d as t,m as u};
