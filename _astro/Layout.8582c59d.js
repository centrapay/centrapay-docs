import{_ as y}from"./_plugin-vue_export-helper.c27b6911.js";import{o as s,c as o,r as b,a as f,b as x,d as g,e as r,f as d,t as m,g as w,w as C,F as N,h as S,n as v}from"./runtime-core.esm-bundler.66a12463.js";const q={},I={class:"prose prose-slate max-w-none prose-headings:font-display prose-headings:font-normal prose-h2:scroll-mt-16 prose-h2:mt-8 prose-h2:pt-8 prose-h2:border-t prose-h3:scroll-mt-20 prose-lead:text-slate-500 prose-a:no-underline prose-a:text-content-primary hover:prose-a:no-underline prose-img:mb-8 prose-img:mx-auto prose-img:object-contain"};function j(i,p){return s(),o("div",I,[b(i.$slots,"default")])}const E=y(q,[["render",j]]),O={__name:"Layout",props:{collectionName:{type:String,required:!0},headings:{type:Object,required:!0},title:{type:String,required:!0},img:{type:String,required:!0}},setup(i,{expose:p}){p();const n=i,e=f("");let l=null;x(()=>{const a={threshold:0,rootMargin:"-20% 0px -80% 0px"};l=new IntersectionObserver(c=>{c.forEach(_=>{const k=_.target.firstElementChild.id;_.isIntersecting&&(e.value=k)})},a);const h=document.querySelectorAll("section");if(h.length){const c=h[0].firstElementChild.id;e.value=c}h.forEach(c=>{l.observe(c)})}),g(()=>{l.disconnect()});function u(a){e.value=a}const t={props:n,visibleHeadingId:e,get observer(){return l},set observer(a){l=a},handleTocClick:u,ref:f,onMounted:x,onUnmounted:g,Prose:E};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},B={key:0,class:"flex items-center max-h-72 overflow-hidden"},H=["src"],L={class:"relative mx-auto desktop-gutters flex justify-center"},P={class:"min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 xl:pt-16 lg:max-w-none"},V={key:0,class:"mb-9 space-y-1"},F={key:0,class:"type-overline text-brand-accent"},M={key:1,class:"font-display text-3xl tracking-tight text-slate-900"},T={class:"hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6 overflow-y-auto"},z={key:0,"aria-labelledby":"on-this-page-title",class:"w-56"},A=r("h2",{id:"on-this-page-title",class:"type-overline text-brand-accent"}," On this page ",-1),D={class:"mt-4 text-sm"},U=["href","onClick"],G={key:1,class:"w-56"};function J(i,p,n,e,l,u){return s(),o("div",null,[e.props.img?(s(),o("div",B,[r("img",{src:e.props.img,"aria-hidden":"true",class:"object-cover m-0 w-full h-24 md:h-full"},null,8,H)])):d("",!0),r("div",L,[r("div",P,[r("article",null,[e.props.title||n.collectionName?(s(),o("header",V,[n.collectionName?(s(),o("p",F,m(n.collectionName),1)):d("",!0),e.props.title?(s(),o("h1",M,m(e.props.title),1)):d("",!0)])):d("",!0),w(e.Prose,null,{default:C(()=>[b(i.$slots,"default")]),_:3})])]),r("div",T,[e.props.headings&&e.props.headings.length?(s(),o("nav",z,[A,r("ol",D,[(s(!0),o(N,null,S(n.headings,t=>(s(),o("li",{key:t.slug,class:v(t.depth===3?"pl-5":"")},[r("a",{href:`#${t.slug}`,onClick:a=>e.handleTocClick(t.slug)},[r("h3",{class:v(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",[e.visibleHeadingId===t.slug?"text-content-primary border-brand-accent":"font-normal text-content-tertiary",t.depth===3?"pl-5":""]])},m(t.text),3)],8,U)],2))),128))])])):(s(),o("div",G))])])])}const R=y(O,[["render",J]]);export{R as default};
