import de from"./CloseOutline.CaBkL8zG.js";import fe from"./NavigationMenu.waVZO-Xq.js";import be from"./PageLinks.BbgBLSio.js";import me from"./PrimarySidebarDisclosure.wzE80BQV.js";import{T as Pe}from"./runtime-dom.esm-bundler.BQmkrFsj.js";import{_ as ge}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{i as J,E as Q,q as ye,N as he,a as Se,w as _e,b as we,h as xe,n as ae,f as V,u as U,P as C,c as F,d as I,T as W}from"./portal.BqGa43i-.js";import{o as n,u as D,t as ke,i as q,A as X,a as G,l as Ee,N as le,b as B}from"./keyboard.BG4baptL.js";import{s as Fe}from"./Carat.DeesfxVa.js";import{K as Y,r as h,L as x,M as oe,N as Z,p as O,F as H,o as re,a as ue,O as ee,f as j,w as K,e as $,b as L,g as R,c as ne,d as Ie}from"./runtime-core.esm-bundler.CxcoXPSn.js";var Oe=(u=>(u[u.Open=0]="Open",u[u.Closed=1]="Closed",u))(Oe||{});let se=Symbol("PopoverContext");function te(u){let f=ee(se,null);if(f===null){let c=new Error(`<${u} /> is missing a parent <${ce.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,te),c}return f}let $e=Symbol("PopoverGroupContext");function ie(){return ee($e,null)}let pe=Symbol("PopoverPanelContext");function Be(){return ee(pe,null)}let ce=Y({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(u,{slots:f,attrs:c,expose:v}){var g;let m=h(null);v({el:m,$el:m});let l=h(1),t=h(null),k=h(null),S=h(null),P=h(null),b=x(()=>J(m)),_=x(()=>{var e,o;if(!n(t)||!n(P))return!1;for(let A of document.querySelectorAll("body > *"))if(Number(A?.contains(n(t)))^Number(A?.contains(n(P))))return!0;let a=Q(),p=a.indexOf(n(t)),w=(p+a.length-1)%a.length,E=(p+1)%a.length,z=a[w],ve=a[E];return!((e=n(P))!=null&&e.contains(z))&&!((o=n(P))!=null&&o.contains(ve))}),d={popoverState:l,buttonId:h(null),panelId:h(null),panel:P,button:t,isPortalled:_,beforePanelSentinel:k,afterPanelSentinel:S,togglePopover(){l.value=D(l.value,{0:1,1:0})},closePopover(){l.value!==1&&(l.value=1)},close(e){d.closePopover();let o=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?n(e):n(d.button):n(d.button);o?.focus()}};oe(se,d),ke(x(()=>D(l.value,{0:q.Open,1:q.Closed})));let M={buttonId:d.buttonId,panelId:d.panelId,close(){d.closePopover()}},y=ie(),N=y?.registerPopover,[T,s]=ye(),i=he({mainTreeNodeRef:y?.mainTreeNodeRef,portals:T,defaultContainers:[t,P]});function r(){var e,o,a,p;return(p=y?.isFocusWithinPopoverGroup())!=null?p:((e=b.value)==null?void 0:e.activeElement)&&(((o=n(t))==null?void 0:o.contains(b.value.activeElement))||((a=n(P))==null?void 0:a.contains(b.value.activeElement)))}return Z(()=>N?.(M)),Se((g=b.value)==null?void 0:g.defaultView,"focus",e=>{var o,a;e.target!==window&&e.target instanceof HTMLElement&&l.value===0&&(r()||t&&P&&(i.contains(e.target)||(o=n(d.beforePanelSentinel))!=null&&o.contains(e.target)||(a=n(d.afterPanelSentinel))!=null&&a.contains(e.target)||d.closePopover()))},!0),_e(i.resolveContainers,(e,o)=>{var a;d.closePopover(),we(o,xe.Loose)||(e.preventDefault(),(a=n(t))==null||a.focus())},x(()=>l.value===0)),()=>{let e={open:l.value===0,close:d.close};return O(H,[O(s,{},()=>X({theirProps:{...u,...c},ourProps:{ref:m},slot:e,slots:f,attrs:c,name:"Popover"})),O(i.MainTreeNode)])}}}),Ce=Y({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(u,{attrs:f,slots:c,expose:v}){var g;let m=(g=u.id)!=null?g:`headlessui-popover-button-${G()}`,l=te("PopoverButton"),t=x(()=>J(l.button));v({el:l.button,$el:l.button}),re(()=>{l.buttonId.value=m}),ue(()=>{l.buttonId.value=null});let k=ie(),S=k?.closeOthers,P=Be(),b=x(()=>P===null?!1:P.value===l.panelId.value),_=h(null),d=`headlessui-focus-sentinel-${G()}`;b.value||Z(()=>{l.button.value=n(_)});let M=Fe(x(()=>({as:u.as,type:f.type})),_);function y(e){var o,a,p,w,E;if(b.value){if(l.popoverState.value===1)return;switch(e.key){case B.Space:case B.Enter:e.preventDefault(),(a=(o=e.target).click)==null||a.call(o),l.closePopover(),(p=n(l.button))==null||p.focus();break}}else switch(e.key){case B.Space:case B.Enter:e.preventDefault(),e.stopPropagation(),l.popoverState.value===1&&S?.(l.buttonId.value),l.togglePopover();break;case B.Escape:if(l.popoverState.value!==0)return S?.(l.buttonId.value);if(!n(l.button)||(w=t.value)!=null&&w.activeElement&&!((E=n(l.button))!=null&&E.contains(t.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),l.closePopover();break}}function N(e){b.value||e.key===B.Space&&e.preventDefault()}function T(e){var o,a;u.disabled||(b.value?(l.closePopover(),(o=n(l.button))==null||o.focus()):(e.preventDefault(),e.stopPropagation(),l.popoverState.value===1&&S?.(l.buttonId.value),l.togglePopover(),(a=n(l.button))==null||a.focus()))}function s(e){e.preventDefault(),e.stopPropagation()}let i=ae();function r(){let e=n(l.panel);if(!e)return;function o(){D(i.value,{[I.Forwards]:()=>C(e,F.First),[I.Backwards]:()=>C(e,F.Last)})===W.Error&&C(Q().filter(a=>a.dataset.headlessuiFocusGuard!=="true"),D(i.value,{[I.Forwards]:F.Next,[I.Backwards]:F.Previous}),{relativeTo:n(l.button)})}o()}return()=>{let e=l.popoverState.value===0,o={open:e},{...a}=u,p=b.value?{ref:_,type:M.value,onKeydown:y,onClick:T}:{ref:_,id:m,type:M.value,"aria-expanded":l.popoverState.value===0,"aria-controls":n(l.panel)?l.panelId.value:void 0,disabled:u.disabled?!0:void 0,onKeydown:y,onKeyup:N,onClick:T,onMousedown:s};return O(H,[X({ourProps:p,theirProps:{...f,...a},slot:o,attrs:f,slots:c,name:"PopoverButton"}),e&&!b.value&&l.isPortalled.value&&O(V,{id:d,features:U.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:r})])}}}),Me=Y({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(u,{attrs:f,slots:c,expose:v}){var g;let m=(g=u.id)!=null?g:`headlessui-popover-panel-${G()}`,{focus:l}=u,t=te("PopoverPanel"),k=x(()=>J(t.panel)),S=`headlessui-focus-sentinel-before-${G()}`,P=`headlessui-focus-sentinel-after-${G()}`;v({el:t.panel,$el:t.panel}),re(()=>{t.panelId.value=m}),ue(()=>{t.panelId.value=null}),oe(pe,t.panelId),Z(()=>{var s,i;if(!l||t.popoverState.value!==0||!t.panel)return;let r=(s=k.value)==null?void 0:s.activeElement;(i=n(t.panel))!=null&&i.contains(r)||C(n(t.panel),F.First)});let b=Ee(),_=x(()=>b!==null?(b.value&q.Open)===q.Open:t.popoverState.value===0);function d(s){var i,r;switch(s.key){case B.Escape:if(t.popoverState.value!==0||!n(t.panel)||k.value&&!((i=n(t.panel))!=null&&i.contains(k.value.activeElement)))return;s.preventDefault(),s.stopPropagation(),t.closePopover(),(r=n(t.button))==null||r.focus();break}}function M(s){var i,r,e,o,a;let p=s.relatedTarget;p&&n(t.panel)&&((i=n(t.panel))!=null&&i.contains(p)||(t.closePopover(),((e=(r=n(t.beforePanelSentinel))==null?void 0:r.contains)!=null&&e.call(r,p)||(a=(o=n(t.afterPanelSentinel))==null?void 0:o.contains)!=null&&a.call(o,p))&&p.focus({preventScroll:!0})))}let y=ae();function N(){let s=n(t.panel);if(!s)return;function i(){D(y.value,{[I.Forwards]:()=>{var r;C(s,F.First)===W.Error&&((r=n(t.afterPanelSentinel))==null||r.focus())},[I.Backwards]:()=>{var r;(r=n(t.button))==null||r.focus({preventScroll:!0})}})}i()}function T(){let s=n(t.panel);if(!s)return;function i(){D(y.value,{[I.Forwards]:()=>{let r=n(t.button),e=n(t.panel);if(!r)return;let o=Q(),a=o.indexOf(r),p=o.slice(0,a+1),w=[...o.slice(a+1),...p];for(let E of w.slice())if(E.dataset.headlessuiFocusGuard==="true"||e!=null&&e.contains(E)){let z=w.indexOf(E);z!==-1&&w.splice(z,1)}C(w,F.First,{sorted:!1})},[I.Backwards]:()=>{var r;C(s,F.Previous)===W.Error&&((r=n(t.button))==null||r.focus())}})}i()}return()=>{let s={open:t.popoverState.value===0,close:t.close},{focus:i,...r}=u,e={ref:t.panel,id:m,onKeydown:d,onFocusout:l&&t.popoverState.value===0?M:void 0,tabIndex:-1};return X({ourProps:e,theirProps:{...f,...r},attrs:f,slot:s,slots:{...c,default:(...o)=>{var a;return[O(H,[_.value&&t.isPortalled.value&&O(V,{id:S,ref:t.beforePanelSentinel,features:U.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:N}),(a=c.default)==null?void 0:a.call(c,...o),_.value&&t.isPortalled.value&&O(V,{id:P,ref:t.afterPanelSentinel,features:U.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:T})])]}},features:le.RenderStrategy|le.Static,visible:_.value,name:"PopoverPanel"})}}});const Ne={__name:"MobileMenu",props:{path:{type:[String,void 0],required:!1,default:void 0},navigation:{type:Object,required:!0}},setup(u,{expose:f}){f();const c=u;let v=h(!1);const g={props:c,get mainMenuOpen(){return v},set mainMenuOpen(m){v=m},CloseOutline:de,NavigationMenu:fe,PageLinks:be,PrimarySidebarDisclosure:me,get Popover(){return ce},get PopoverButton(){return Ce},get PopoverPanel(){return Me},ref:h};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},Te={class:"py-5"},Le={class:"mx-auto max-w-7xl px-6 lg:px-8"},De={class:"relative size-auto bg-surface-primary"},je={class:"flex min-h-full w-full flex-1 overflow-y-scroll py-2"},Ge={class:"w-full space-y-1 px-4","aria-label":"Sidebar"},ze={role:"menubar"};function Ae(u,f,c,v,g,m){return $(),j(v.Popover,{class:"static isolate z-50 md:hidden"},{default:K(({open:l})=>[L("div",Te,[L("div",Le,[R(v.PopoverButton,{class:"flex items-center ring-focus-ring focus:outline-none focus:ring-2 focus:ring-inset"},{default:K(()=>[l?($(),j(v.CloseOutline,{key:1,class:"block size-6 text-content-tertiary","aria-hidden":"true"})):($(),j(v.NavigationMenu,{key:0,class:"block size-6 text-content-tertiary","aria-hidden":"true"}))]),_:2},1024)])]),R(Pe,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-1"},{default:K(()=>[R(v.PopoverPanel,{class:"absolute inset-x-0 inset-y-16 -z-10"},{default:K(()=>[L("div",De,[L("div",je,[L("nav",Ge,[L("ul",ze,[($(!0),ne(H,null,Ie(c.navigation.items,t=>($(),ne("div",{key:t.title},[t.children?.length?($(),j(v.PrimarySidebarDisclosure,{key:0,"navigation-item":t,path:c.path},null,8,["navigation-item","path"])):($(),j(v.PageLinks,{key:1,"navigation-item":t,path:c.path,level:1},null,8,["navigation-item","path"]))]))),128))])])])])]),_:1})]),_:1})]),_:1})}const Ye=ge(Ne,[["render",Ae]]);export{Ye as default};
