import{D as x,k as I,m as D,p as S,a as b,b as R,w as $,g as k,h as O}from"./runtime-core.esm-bundler.79184cfe.js";function m(e,o,...t){if(e in o){let n=o[e];return typeof n=="function"?n(...t):n}let l=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(o).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,m),l}var w=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(w||{}),L=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(L||{});function E({visible:e=!0,features:o=0,...t}){var l;if(e||o&2&&t.props.static)return h(t);if(o&1){let n=(l=t.props.unmount)==null||l?0:1;return m(n,{[0](){return null},[1](){return h({...t,props:{...t.props,hidden:!0,style:{display:"none"}}})}})}return h(t)}function h({props:e,attrs:o,slots:t,slot:l,name:n}){var r;let{as:c,...s}=U(e,["unmount","static"]),a=(r=t.default)==null?void 0:r.call(t,l);if(c==="template"){if(Object.keys(s).length>0||Object.keys(o).length>0){let[i,...p]=a??[];if(!M(i)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${n} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(s).concat(Object.keys(o)).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`));return x(i,s)}return Array.isArray(a)&&a.length===1?a[0]:a}return I(c,s,a)}function z(e){let o=Object.assign({},e);for(let t in o)o[t]===void 0&&delete o[t];return o}function U(e,o=[]){let t=Object.assign({},e);for(let l of o)l in t&&delete t[l];return t}function M(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let K=0;function N(){return++K}function A(){return N()}var v=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(v||{});function d(e){return e==null||e.value==null?null:"$el"in e.value?e.value.$el:e.value}let B=Symbol("Context");var g=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(g||{});function F(){return P()!==null}function P(){return D(B,null)}function G(e){S(B,e)}function C(e,o){if(e)return e;let t=o??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function J(e,o){let t=b(C(e.value.type,e.value.as));return R(()=>{t.value=C(e.value.type,e.value.as)}),$(()=>{var l;t.value||!d(o)||d(o)instanceof HTMLButtonElement&&!((l=d(o))!=null&&l.hasAttribute("type"))&&(t.value="button")}),t}var V=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(V||{});let T=Symbol("DisclosureContext");function j(e){let o=D(T,null);if(o===null){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,j),t}return o}let H=Symbol("DisclosurePanelContext");function Y(){return D(H,null)}let Q=k({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:o,attrs:t}){let l=`headlessui-disclosure-button-${A()}`,n=`headlessui-disclosure-panel-${A()}`,r=b(e.defaultOpen?0:1),c=b(null),s=b(null),a={buttonId:l,panelId:n,disclosureState:r,panel:c,button:s,toggleDisclosure(){r.value=m(r.value,{[0]:1,[1]:0})},closeDisclosure(){r.value!==1&&(r.value=1)},close(i){a.closeDisclosure();let p=(()=>i?i instanceof HTMLElement?i:i.value instanceof HTMLElement?d(i):d(a.button):d(a.button))();p?.focus()}};return S(T,a),G(O(()=>m(r.value,{[0]:g.Open,[1]:g.Closed}))),()=>{let{defaultOpen:i,...p}=e,f={open:r.value===0,close:a.close};return E({props:p,slot:f,slots:o,attrs:t,name:"Disclosure"})}}}),W=k({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:o,slots:t,expose:l}){let n=j("DisclosureButton"),r=Y(),c=r===null?!1:r===n.panelId,s=b(null);l({el:s,$el:s}),c||$(()=>{n.button.value=s.value});let a=J(O(()=>({as:e.as,type:o.type})),s);function i(){var u;e.disabled||(c?(n.toggleDisclosure(),(u=d(n.button))==null||u.focus()):n.toggleDisclosure())}function p(u){var y;if(!e.disabled)if(c)switch(u.key){case v.Space:case v.Enter:u.preventDefault(),u.stopPropagation(),n.toggleDisclosure(),(y=d(n.button))==null||y.focus();break}else switch(u.key){case v.Space:case v.Enter:u.preventDefault(),u.stopPropagation(),n.toggleDisclosure();break}}function f(u){switch(u.key){case v.Space:u.preventDefault();break}}return()=>{let u={open:n.disclosureState.value===0},y=c?{ref:s,type:a.value,onClick:i,onKeydown:p}:{id:n.buttonId,ref:s,type:a.value,"aria-expanded":e.disabled?void 0:n.disclosureState.value===0,"aria-controls":d(n.panel)?n.panelId:void 0,disabled:e.disabled?!0:void 0,onClick:i,onKeydown:p,onKeyup:f};return E({props:{...e,...y},slot:u,attrs:o,slots:t,name:"DisclosureButton"})}}}),X=k({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:o,slots:t,expose:l}){let n=j("DisclosurePanel");l({el:n.panel,$el:n.panel}),S(H,n.panelId);let r=P(),c=O(()=>r!==null?r.value===g.Open:n.disclosureState.value===0);return()=>{let s={open:n.disclosureState.value===0,close:n.close},a={id:n.panelId,ref:n.panel};return E({props:{...e,...a},slot:s,attrs:o,slots:t,features:w.RenderStrategy|w.Static,visible:c.value,name:"DisclosurePanel"})}}});export{Q as A,W as G,X as J,z as O,U as R,A as a,J as b,G as c,F as f,L as h,E as k,g as l,w as m,v as o,P as p,d as t,m as u};
