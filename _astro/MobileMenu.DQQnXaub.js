import de from"./CloseOutline.CaBkL8zG.js";import fe from"./NavigationMenu.waVZO-Xq.js";import be from"./PageLinks.BbgBLSio.js";import me from"./PrimarySidebarDisclosure.wzE80BQV.js";import{T as Pe}from"./runtime-dom.esm-bundler.BQmkrFsj.js";import{_ as ge}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{i as J,E as Q,q as ye,N as he,a as Se,w as we,b as xe,h as _e,n as oe,f as V,u as U,P as O,c as F,d as I,T as W}from"./portal.BqGa43i-.js";import{o as a,u as L,t as ke,i as z,A as X,a as G,l as Ee,N as le,b as C}from"./keyboard.BG4baptL.js";import{s as Fe}from"./Carat.DeesfxVa.js";import{K as Y,r as x,L as _,M as ne,N as Z,p as $,F as H,o as re,a as ue,O as ee,f as D,w as q,e as B,b as j,g as R,c as ae,d as Ie}from"./runtime-core.esm-bundler.CxcoXPSn.js";var $e=(u=>(u[u.Open=0]="Open",u[u.Closed=1]="Closed",u))($e||{});let se=Symbol("PopoverContext");function te(u){let f=ee(se,null);if(f===null){let c=new Error(`<${u} /> is missing a parent <${ce.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(c,te),c}return f}let Be=Symbol("PopoverGroupContext");function ie(){return ee(Be,null)}let pe=Symbol("PopoverPanelContext");function Ce(){return ee(pe,null)}let ce=Y({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(u,{slots:f,attrs:c,expose:v}){var S;let g=x(null);v({el:g,$el:g});let l=x(1),t=x(null),k=x(null),y=x(null),m=x(null),b=_(()=>J(g)),h=_(()=>{var e,n;if(!a(t)||!a(m))return!1;for(let K of document.querySelectorAll("body > *"))if(Number(K?.contains(a(t)))^Number(K?.contains(a(m))))return!0;let o=Q(),p=o.indexOf(a(t)),w=(p+o.length-1)%o.length,E=(p+1)%o.length,A=o[w],ve=o[E];return!((e=a(m))!=null&&e.contains(A))&&!((n=a(m))!=null&&n.contains(ve))}),d={popoverState:l,buttonId:x(null),panelId:x(null),panel:m,button:t,isPortalled:h,beforePanelSentinel:k,afterPanelSentinel:y,togglePopover(){l.value=L(l.value,{0:1,1:0})},closePopover(){l.value!==1&&(l.value=1)},close(e){d.closePopover();let n=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?a(e):a(d.button):a(d.button);n?.focus()}};ne(se,d),ke(_(()=>L(l.value,{0:z.Open,1:z.Closed})));let N={buttonId:d.buttonId,panelId:d.panelId,close(){d.closePopover()}},P=ie(),M=P?.registerPopover,[T,s]=ye(),i=he({mainTreeNodeRef:P?.mainTreeNodeRef,portals:T,defaultContainers:[t,m]});function r(){var e,n,o,p;return(p=P?.isFocusWithinPopoverGroup())!=null?p:((e=b.value)==null?void 0:e.activeElement)&&(((n=a(t))==null?void 0:n.contains(b.value.activeElement))||((o=a(m))==null?void 0:o.contains(b.value.activeElement)))}return Z(()=>M?.(N)),Se((S=b.value)==null?void 0:S.defaultView,"focus",e=>{var n,o;e.target!==window&&e.target instanceof HTMLElement&&l.value===0&&(r()||t&&m&&(i.contains(e.target)||(n=a(d.beforePanelSentinel))!=null&&n.contains(e.target)||(o=a(d.afterPanelSentinel))!=null&&o.contains(e.target)||d.closePopover()))},!0),we(i.resolveContainers,(e,n)=>{var o;d.closePopover(),xe(n,_e.Loose)||(e.preventDefault(),(o=a(t))==null||o.focus())},_(()=>l.value===0)),()=>{let e={open:l.value===0,close:d.close};return $(H,[$(s,{},()=>X({theirProps:{...u,...c},ourProps:{ref:g},slot:e,slots:f,attrs:c,name:"Popover"})),$(i.MainTreeNode)])}}}),Oe=Y({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(u,{attrs:f,slots:c,expose:v}){var S;let g=(S=u.id)!=null?S:`headlessui-popover-button-${G()}`,l=te("PopoverButton"),t=_(()=>J(l.button));v({el:l.button,$el:l.button}),re(()=>{l.buttonId.value=g}),ue(()=>{l.buttonId.value=null});let k=ie(),y=k?.closeOthers,m=Ce(),b=_(()=>m===null?!1:m.value===l.panelId.value),h=x(null),d=`headlessui-focus-sentinel-${G()}`;b.value||Z(()=>{l.button.value=a(h)});let N=Fe(_(()=>({as:u.as,type:f.type})),h);function P(e){var n,o,p,w,E;if(b.value){if(l.popoverState.value===1)return;switch(e.key){case C.Space:case C.Enter:e.preventDefault(),(o=(n=e.target).click)==null||o.call(n),l.closePopover(),(p=a(l.button))==null||p.focus();break}}else switch(e.key){case C.Space:case C.Enter:e.preventDefault(),e.stopPropagation(),l.popoverState.value===1&&y?.(l.buttonId.value),l.togglePopover();break;case C.Escape:if(l.popoverState.value!==0)return y?.(l.buttonId.value);if(!a(l.button)||(w=t.value)!=null&&w.activeElement&&!((E=a(l.button))!=null&&E.contains(t.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),l.closePopover();break}}function M(e){b.value||e.key===C.Space&&e.preventDefault()}function T(e){var n,o;u.disabled||(b.value?(l.closePopover(),(n=a(l.button))==null||n.focus()):(e.preventDefault(),e.stopPropagation(),l.popoverState.value===1&&y?.(l.buttonId.value),l.togglePopover(),(o=a(l.button))==null||o.focus()))}function s(e){e.preventDefault(),e.stopPropagation()}let i=oe();function r(){let e=a(l.panel);if(!e)return;function n(){L(i.value,{[I.Forwards]:()=>O(e,F.First),[I.Backwards]:()=>O(e,F.Last)})===W.Error&&O(Q().filter(o=>o.dataset.headlessuiFocusGuard!=="true"),L(i.value,{[I.Forwards]:F.Next,[I.Backwards]:F.Previous}),{relativeTo:a(l.button)})}n()}return()=>{let e=l.popoverState.value===0,n={open:e},{...o}=u,p=b.value?{ref:h,type:N.value,onKeydown:P,onClick:T}:{ref:h,id:g,type:N.value,"aria-expanded":l.popoverState.value===0,"aria-controls":a(l.panel)?l.panelId.value:void 0,disabled:u.disabled?!0:void 0,onKeydown:P,onKeyup:M,onClick:T,onMousedown:s};return $(H,[X({ourProps:p,theirProps:{...f,...o},slot:n,attrs:f,slots:c,name:"PopoverButton"}),e&&!b.value&&l.isPortalled.value&&$(V,{id:d,features:U.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:r})])}}}),Ne=Y({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(u,{attrs:f,slots:c,expose:v}){var S;let g=(S=u.id)!=null?S:`headlessui-popover-panel-${G()}`,{focus:l}=u,t=te("PopoverPanel"),k=_(()=>J(t.panel)),y=`headlessui-focus-sentinel-before-${G()}`,m=`headlessui-focus-sentinel-after-${G()}`;v({el:t.panel,$el:t.panel}),re(()=>{t.panelId.value=g}),ue(()=>{t.panelId.value=null}),ne(pe,t.panelId),Z(()=>{var s,i;if(!l||t.popoverState.value!==0||!t.panel)return;let r=(s=k.value)==null?void 0:s.activeElement;(i=a(t.panel))!=null&&i.contains(r)||O(a(t.panel),F.First)});let b=Ee(),h=_(()=>b!==null?(b.value&z.Open)===z.Open:t.popoverState.value===0);function d(s){var i,r;switch(s.key){case C.Escape:if(t.popoverState.value!==0||!a(t.panel)||k.value&&!((i=a(t.panel))!=null&&i.contains(k.value.activeElement)))return;s.preventDefault(),s.stopPropagation(),t.closePopover(),(r=a(t.button))==null||r.focus();break}}function N(s){var i,r,e,n,o;let p=s.relatedTarget;p&&a(t.panel)&&((i=a(t.panel))!=null&&i.contains(p)||(t.closePopover(),((e=(r=a(t.beforePanelSentinel))==null?void 0:r.contains)!=null&&e.call(r,p)||(o=(n=a(t.afterPanelSentinel))==null?void 0:n.contains)!=null&&o.call(n,p))&&p.focus({preventScroll:!0})))}let P=oe();function M(){let s=a(t.panel);if(!s)return;function i(){L(P.value,{[I.Forwards]:()=>{var r;O(s,F.First)===W.Error&&((r=a(t.afterPanelSentinel))==null||r.focus())},[I.Backwards]:()=>{var r;(r=a(t.button))==null||r.focus({preventScroll:!0})}})}i()}function T(){let s=a(t.panel);if(!s)return;function i(){L(P.value,{[I.Forwards]:()=>{let r=a(t.button),e=a(t.panel);if(!r)return;let n=Q(),o=n.indexOf(r),p=n.slice(0,o+1),w=[...n.slice(o+1),...p];for(let E of w.slice())if(E.dataset.headlessuiFocusGuard==="true"||e!=null&&e.contains(E)){let A=w.indexOf(E);A!==-1&&w.splice(A,1)}O(w,F.First,{sorted:!1})},[I.Backwards]:()=>{var r;O(s,F.Previous)===W.Error&&((r=a(t.button))==null||r.focus())}})}i()}return()=>{let s={open:t.popoverState.value===0,close:t.close},{focus:i,...r}=u,e={ref:t.panel,id:g,onKeydown:d,onFocusout:l&&t.popoverState.value===0?N:void 0,tabIndex:-1};return X({ourProps:e,theirProps:{...f,...r},attrs:f,slot:s,slots:{...c,default:(...n)=>{var o;return[$(H,[h.value&&t.isPortalled.value&&$(V,{id:y,ref:t.beforePanelSentinel,features:U.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:M}),(o=c.default)==null?void 0:o.call(c,...n),h.value&&t.isPortalled.value&&$(V,{id:m,ref:t.afterPanelSentinel,features:U.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:T})])]}},features:le.RenderStrategy|le.Static,visible:h.value,name:"PopoverPanel"})}}});const Me={__name:"MobileMenu",props:{path:{type:[String,void 0],required:!1,default:void 0},navigation:{type:Object,required:!0}},setup(u,{expose:f}){f();const v={props:u,CloseOutline:de,NavigationMenu:fe,PageLinks:be,PrimarySidebarDisclosure:me,get Popover(){return ce},get PopoverButton(){return Oe},get PopoverPanel(){return Ne}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},Te={class:"py-5"},Le={class:"mx-auto max-w-7xl px-6 lg:px-8"},De={class:"relative max-h-[calc(100vh-64px)] w-full flex-1 overflow-y-scroll border-t bg-surface-primary pb-4 pt-2"},je={class:"w-full space-y-1 px-4","aria-label":"Sidebar"},Ge={role:"menubar"};function Ae(u,f,c,v,S,g){return B(),D(v.Popover,{class:"static isolate z-50 md:hidden"},{default:q(({open:l})=>[j("div",Te,[j("div",Le,[R(v.PopoverButton,{class:"flex items-center ring-focus-ring focus:outline-none focus:ring-2 focus:ring-inset"},{default:q(()=>[l?(B(),D(v.CloseOutline,{key:1,class:"block size-6 text-content-tertiary","aria-hidden":"true"})):(B(),D(v.NavigationMenu,{key:0,class:"block size-6 text-content-tertiary","aria-hidden":"true"}))]),_:2},1024)])]),R(Pe,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-1"},{default:q(()=>[R(v.PopoverPanel,{class:"absolute inset-x-0 inset-y-16 -z-10"},{default:q(()=>[j("div",De,[j("nav",je,[j("ul",Ge,[(B(!0),ae(H,null,Ie(c.navigation.items,t=>(B(),ae("div",{key:t.title},[t.children?.length?(B(),D(v.PrimarySidebarDisclosure,{key:0,"navigation-item":t,path:c.path},null,8,["navigation-item","path"])):(B(),D(v.PageLinks,{key:1,"navigation-item":t,path:c.path,level:1},null,8,["navigation-item","path"]))]))),128))])])])]),_:1})]),_:1})]),_:1})}const Xe=ge(Me,[["render",Ae]]);export{Xe as default};
