import at from"./Search.BeoM1jXD.js";import{_ as ut}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{N as z,R as Te,T as At,U as re,V as tt,W as Pt,r as G,a as Me,K as we,L as Oe,X as Dt,Y as ue,M as ct,o as he,p as ze,F as ye,O as dt,Z as ht,Q as Ft,e as ie,f as Ee,w as ce,g as de,b as X,c as ve,_ as ke,d as nt,n as jt,t as Le}from"./runtime-core.esm-bundler.D4JyxfK_.js";import{o as We,i as ft,w as Bt,f as Vt,u as Nt,O as $t,t as it,n as Lt,S as qt,h as Wt,Y as Kt,G as Ut}from"./transition.CEZjL-cR.js";import{u as me,o as W,t as Gt,a as Ae,E as Ht,A as De,T as Ke,i as Ue,N as Pe,l as Jt,b as se}from"./keyboard.TDvS5eME.js";function pe(o,f,i){let s=i.initialDeps??[],l;return()=>{var d,h,u,x;let w;i.key&&((d=i.debug)!=null&&d.call(i))&&(w=Date.now());const S=o();if(!(S.length!==s.length||S.some((U,q)=>s[q]!==U)))return l;s=S;let B;if(i.key&&((h=i.debug)!=null&&h.call(i))&&(B=Date.now()),l=f(...S),i.key&&((u=i.debug)!=null&&u.call(i))){const U=Math.round((Date.now()-w)*100)/100,q=Math.round((Date.now()-B)*100)/100,H=q/16,M=(J,T)=>{for(J=String(J);J.length<T;)J=" "+J;return J};console.info(`%c⏱ ${M(q,5)} /${M(U,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*H,120))}deg 100% 31%);`,i?.key)}return(x=i?.onChange)==null||x.call(i,l),l}}function qe(o,f){if(o===void 0)throw new Error("Unexpected undefined");return o}const Yt=(o,f)=>Math.abs(o-f)<1,Xt=(o,f,i)=>{let s;return function(...l){o.clearTimeout(s),s=o.setTimeout(()=>f.apply(this,l),i)}},Zt=o=>o,Qt=o=>{const f=Math.max(o.startIndex-o.overscan,0),i=Math.min(o.endIndex+o.overscan,o.count-1),s=[];for(let l=f;l<=i;l++)s.push(l);return s},en=(o,f)=>{const i=o.scrollElement;if(!i)return;const s=o.targetWindow;if(!s)return;const l=h=>{const{width:u,height:x}=h;f({width:Math.round(u),height:Math.round(x)})};if(l(i.getBoundingClientRect()),!s.ResizeObserver)return()=>{};const d=new s.ResizeObserver(h=>{const u=h[0];if(u?.borderBoxSize){const x=u.borderBoxSize[0];if(x){l({width:x.inlineSize,height:x.blockSize});return}}l(i.getBoundingClientRect())});return d.observe(i,{box:"border-box"}),()=>{d.unobserve(i)}},lt={passive:!0},tn=typeof window>"u"?!0:"onscrollend"in window,nn=(o,f)=>{const i=o.scrollElement;if(!i)return;const s=o.targetWindow;if(!s)return;let l=0;const d=tn?()=>{}:Xt(s,()=>{f(l,!1)},o.options.isScrollingResetDelay),h=w=>()=>{const{horizontal:S,isRtl:E}=o.options;l=S?i.scrollLeft*(E&&-1||1):i.scrollTop,d(),f(l,w)},u=h(!0),x=h(!1);return x(),i.addEventListener("scroll",u,lt),i.addEventListener("scrollend",x,lt),()=>{i.removeEventListener("scroll",u),i.removeEventListener("scrollend",x)}},ln=(o,f,i)=>{if(f?.borderBoxSize){const s=f.borderBoxSize[0];if(s)return Math.round(s[i.options.horizontal?"inlineSize":"blockSize"])}return Math.round(o.getBoundingClientRect()[i.options.horizontal?"width":"height"])},on=(o,{adjustments:f=0,behavior:i},s)=>{var l,d;const h=o+f;(d=(l=s.scrollElement)==null?void 0:l.scrollTo)==null||d.call(l,{[s.options.horizontal?"left":"top"]:h,behavior:i})};class sn{constructor(f){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let i=null;const s=()=>i||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:i=new this.targetWindow.ResizeObserver(l=>{l.forEach(d=>{this._measureElement(d.target,d)})}));return{disconnect:()=>{var l;(l=s())==null||l.disconnect(),i=null},observe:l=>{var d;return(d=s())==null?void 0:d.observe(l,{box:"border-box"})},unobserve:l=>{var d;return(d=s())==null?void 0:d.unobserve(l)}}})(),this.range=null,this.setOptions=i=>{Object.entries(i).forEach(([s,l])=>{typeof l>"u"&&delete i[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Zt,rangeExtractor:Qt,onChange:()=>{},measureElement:ln,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...i}},this.notify=i=>{var s,l;(l=(s=this.options).onChange)==null||l.call(s,this,i)},this.maybeNotify=pe(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),i=>{this.notify(i)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(i=>i()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var i;const s=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==s){if(this.cleanup(),!s){this.maybeNotify();return}this.scrollElement=s,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((i=this.scrollElement)==null?void 0:i.window)??null,this.elementsCache.forEach(l=>{this.observer.observe(l)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,l=>{this.scrollRect=l,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(l,d)=>{this.scrollAdjustments=0,this.scrollDirection=d?this.getScrollOffset()<l?"forward":"backward":null,this.scrollOffset=l,this.isScrolling=d,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(i,s)=>{const l=new Map,d=new Map;for(let h=s-1;h>=0;h--){const u=i[h];if(l.has(u.lane))continue;const x=d.get(u.lane);if(x==null||u.end>x.end?d.set(u.lane,u):u.end<x.end&&l.set(u.lane,!0),l.size===this.options.lanes)break}return d.size===this.options.lanes?Array.from(d.values()).sort((h,u)=>h.end===u.end?h.index-u.index:h.end-u.end)[0]:void 0},this.getMeasurementOptions=pe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(i,s,l,d,h)=>(this.pendingMeasuredCacheIndexes=[],{count:i,paddingStart:s,scrollMargin:l,getItemKey:d,enabled:h}),{key:!1}),this.getMeasurements=pe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:i,paddingStart:s,scrollMargin:l,getItemKey:d,enabled:h},u)=>{if(!h)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(S=>{this.itemSizeCache.set(S.key,S.size)}));const x=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const w=this.measurementsCache.slice(0,x);for(let S=x;S<i;S++){const E=d(S),B=this.options.lanes===1?w[S-1]:this.getFurthestMeasurement(w,S),U=B?B.end+this.options.gap:s+l,q=u.get(E),H=typeof q=="number"?q:this.options.estimateSize(S),M=U+H,J=B?B.lane:S%this.options.lanes;w[S]={index:S,start:U,size:H,end:M,key:E,lane:J}}return this.measurementsCache=w,w},{key:!1,debug:()=>this.options.debug}),this.calculateRange=pe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(i,s,l)=>this.range=i.length>0&&s>0?rn({measurements:i,outerSize:s,scrollOffset:l}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=pe(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(i,s,l,d)=>s===null?[]:i({startIndex:s.startIndex,endIndex:s.endIndex,overscan:l,count:d}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=i=>{const s=this.options.indexAttribute,l=i.getAttribute(s);return l?parseInt(l,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(i,s)=>{const l=this.indexFromElement(i),d=this.measurementsCache[l];if(!d)return;const h=d.key,u=this.elementsCache.get(h);u!==i&&(u&&this.observer.unobserve(u),this.observer.observe(i),this.elementsCache.set(h,i)),i.isConnected&&this.resizeItem(l,this.options.measureElement(i,s,this))},this.resizeItem=(i,s)=>{const l=this.measurementsCache[i];if(!l)return;const d=this.itemSizeCache.get(l.key)??l.size,h=s-d;h!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(l,h,this):l.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=h,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(l.index),this.itemSizeCache=new Map(this.itemSizeCache.set(l.key,s)),this.notify(!1))},this.measureElement=i=>{if(!i){this.elementsCache.forEach((s,l)=>{s.isConnected||(this.observer.unobserve(s),this.elementsCache.delete(l))});return}this._measureElement(i,void 0)},this.getVirtualItems=pe(()=>[this.getIndexes(),this.getMeasurements()],(i,s)=>{const l=[];for(let d=0,h=i.length;d<h;d++){const u=i[d],x=s[u];l.push(x)}return l},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=i=>{const s=this.getMeasurements();if(s.length!==0)return qe(s[pt(0,s.length-1,l=>qe(s[l]).start,i)])},this.getOffsetForAlignment=(i,s)=>{const l=this.getSize(),d=this.getScrollOffset();s==="auto"&&(i<=d?s="start":i>=d+l?s="end":s="start"),s==="start"?i=i:s==="end"?i=i-l:s==="center"&&(i=i-l/2);const h=this.options.horizontal?"scrollWidth":"scrollHeight",x=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[h]:this.scrollElement[h]:0)-l;return Math.max(Math.min(x,i),0)},this.getOffsetForIndex=(i,s="auto")=>{i=Math.max(0,Math.min(i,this.options.count-1));const l=this.measurementsCache[i];if(!l)return;const d=this.getSize(),h=this.getScrollOffset();if(s==="auto")if(l.end>=h+d-this.options.scrollPaddingEnd)s="end";else if(l.start<=h+this.options.scrollPaddingStart)s="start";else return[h,s];const u=s==="end"?l.end+this.options.scrollPaddingEnd:l.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(u,s),s]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(i,{align:s="start",behavior:l}={})=>{this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(i,s),{adjustments:void 0,behavior:l})},this.scrollToIndex=(i,{align:s="auto",behavior:l}={})=>{i=Math.max(0,Math.min(i,this.options.count-1)),this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const d=this.getOffsetForIndex(i,s);if(!d)return;const[h,u]=d;this._scrollToOffset(h,{adjustments:void 0,behavior:l}),l!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(i))){const[w]=qe(this.getOffsetForIndex(i,u));Yt(w,this.getScrollOffset())||this.scrollToIndex(i,{align:u,behavior:l})}else this.scrollToIndex(i,{align:u,behavior:l})}))},this.scrollBy=(i,{behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+i,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var i;const s=this.getMeasurements();let l;return s.length===0?l=this.options.paddingStart:l=this.options.lanes===1?((i=s[s.length-1])==null?void 0:i.end)??0:Math.max(...s.slice(-this.options.lanes).map(d=>d.end)),Math.max(l-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(i,{adjustments:s,behavior:l})=>{this.options.scrollToFn(i,{behavior:l,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(f)}}const pt=(o,f,i,s)=>{for(;o<=f;){const l=(o+f)/2|0,d=i(l);if(d<s)o=l+1;else if(d>s)f=l-1;else return l}return o>0?o-1:0};function rn({measurements:o,outerSize:f,scrollOffset:i}){const s=o.length-1,d=pt(0,s,u=>o[u].start,i);let h=d;for(;h<s&&o[h].end<i+f;)h++;return{startIndex:d,endIndex:h}}function an(o){const f=new sn(Te(o)),i=At(f),s=f._didMount();return re(()=>Te(o).getScrollElement(),l=>{l&&f._willUpdate()},{immediate:!0}),re(()=>Te(o),l=>{f.setOptions({...l,onChange:(d,h)=>{var u;tt(i),(u=l.onChange)==null||u.call(l,d,h)}}),f._willUpdate(),tt(i)},{immediate:!0}),Pt(s),i}function un(o){return an(z(()=>({observeElementRect:en,observeElementOffset:nn,scrollToFn:on,...Te(o)})))}function cn(o,f,i){let s=G(i?.value),l=z(()=>o.value!==void 0);return[z(()=>l.value?o.value:s.value),function(d){return l.value||(s.value=d),f?.(d)}]}function dn(){let o=We();return Me(()=>o.dispose()),o}function hn(){let o=dn();return f=>{o.dispose(),o.nextFrame(f)}}function ot(o){return[o.screenX,o.screenY]}function fn(){let o=G([-1,-1]);return{wasMoved(f){let i=ot(f);return o.value[0]===i[0]&&o.value[1]===i[1]?!1:(o.value=i,!0)},update(f){o.value=ot(f)}}}function pn({container:o,accept:f,walk:i,enabled:s}){we(()=>{let l=o.value;if(!l||s!==void 0&&!s.value)return;let d=ft(o);if(!d)return;let h=Object.assign(x=>f(x),{acceptNode:f}),u=d.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,h,!1);for(;u.nextNode();)i(u.currentNode)})}var vt=(o=>(o[o.Left=0]="Left",o[o.Right=2]="Right",o))(vt||{});function vn(o){throw new Error("Unexpected object: "+o)}var Z=(o=>(o[o.First=0]="First",o[o.Previous=1]="Previous",o[o.Next=2]="Next",o[o.Last=3]="Last",o[o.Specific=4]="Specific",o[o.Nothing=5]="Nothing",o))(Z||{});function st(o,f){let i=f.resolveItems();if(i.length<=0)return null;let s=f.resolveActiveIndex(),l=s??-1;switch(o.focus){case 0:{for(let d=0;d<i.length;++d)if(!f.resolveDisabled(i[d],d,i))return d;return s}case 1:{l===-1&&(l=i.length);for(let d=l-1;d>=0;--d)if(!f.resolveDisabled(i[d],d,i))return d;return s}case 2:{for(let d=l+1;d<i.length;++d)if(!f.resolveDisabled(i[d],d,i))return d;return s}case 3:{for(let d=i.length-1;d>=0;--d)if(!f.resolveDisabled(i[d],d,i))return d;return s}case 4:{for(let d=0;d<i.length;++d)if(f.resolveId(i[d],d,i)===o.id)return d;return s}case 5:return null;default:vn(o)}}function mt(o={},f=null,i=[]){for(let[s,l]of Object.entries(o))xt(i,gt(f,s),l);return i}function gt(o,f){return o?o+"["+f+"]":f}function xt(o,f,i){if(Array.isArray(i))for(let[s,l]of i.entries())xt(o,gt(f,s.toString()),l);else i instanceof Date?o.push([f,i.toISOString()]):typeof i=="boolean"?o.push([f,i?"1":"0"]):typeof i=="string"?o.push([f,i]):typeof i=="number"?o.push([f,`${i}`]):i==null?o.push([f,""]):mt(i,f,o)}var mn={};function gn(o,f){return o===f}var xn=(o=>(o[o.Open=0]="Open",o[o.Closed=1]="Closed",o))(xn||{}),bn=(o=>(o[o.Single=0]="Single",o[o.Multi=1]="Multi",o))(bn||{}),yn=(o=>(o[o.Pointer=0]="Pointer",o[o.Focus=1]="Focus",o[o.Other=2]="Other",o))(yn||{});let bt=Symbol("ComboboxContext");function Se(o){let f=dt(bt,null);if(f===null){let i=new Error(`<${o} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Se),i}return f}let yt=Symbol("VirtualContext"),wn=Oe({name:"VirtualProvider",setup(o,{slots:f}){let i=Se("VirtualProvider"),s=z(()=>{let u=W(i.optionsRef);if(!u)return{start:0,end:0};let x=window.getComputedStyle(u);return{start:parseFloat(x.paddingBlockStart||x.paddingTop),end:parseFloat(x.paddingBlockEnd||x.paddingBottom)}}),l=un(z(()=>({scrollPaddingStart:s.value.start,scrollPaddingEnd:s.value.end,count:i.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return W(i.optionsRef)},overscan:12}))),d=z(()=>{var u;return(u=i.virtual.value)==null?void 0:u.options}),h=G(0);return re([d],()=>{h.value+=1}),ct(yt,i.virtual.value?l:null),()=>[ze("div",{style:{position:"relative",width:"100%",height:`${l.value.getTotalSize()}px`},ref:u=>{if(u){if(typeof process<"u"&&mn.JEST_WORKER_ID!==void 0||i.activationTrigger.value===0)return;i.activeOptionIndex.value!==null&&i.virtual.value.options.length>i.activeOptionIndex.value&&l.value.scrollToIndex(i.activeOptionIndex.value)}}},l.value.getVirtualItems().map(u=>Ft(f.default({option:i.virtual.value.options[u.index],open:i.comboboxState.value===0})[0],{key:`${h.value}-${u.index}`,"data-index":u.index,"aria-setsize":i.virtual.value.options.length,"aria-posinset":u.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${u.start}px)`,overflowAnchor:"none"}})))]}}),On=Oe({name:"Combobox",emits:{"update:modelValue":o=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(o,{slots:f,attrs:i,emit:s}){let l=G(1),d=G(null),h=G(null),u=G(null),x=G(null),w=G({static:!1,hold:!1}),S=G([]),E=G(null),B=G(2),U=G(!1);function q(m=O=>O){let O=E.value!==null?S.value[E.value]:null,_=m(S.value.slice()),k=_.length>0&&_[0].dataRef.order.value!==null?_.sort(($,Y)=>$.dataRef.order.value-Y.dataRef.order.value):$t(_,$=>W($.dataRef.domRef)),P=O?k.indexOf(O):null;return P===-1&&(P=null),{options:k,activeOptionIndex:P}}let H=z(()=>o.multiple?1:0),M=z(()=>o.nullable),[J,T]=cn(z(()=>o.modelValue),m=>s("update:modelValue",m),z(()=>o.defaultValue)),L=z(()=>J.value===void 0?me(H.value,{1:[],0:void 0}):J.value),Q=null,y=null;function V(m){return me(H.value,{0(){return T?.(m)},1:()=>{let O=ue(b.value.value).slice(),_=ue(m),k=O.findIndex(P=>b.compare(_,ue(P)));return k===-1?O.push(_):O.splice(k,1),T?.(O)}})}let F=z(()=>{});re([F],([m],[O])=>{if(b.virtual.value&&m&&O&&E.value!==null){let _=m.indexOf(O[E.value]);_!==-1?E.value=_:E.value=null}});let b={comboboxState:l,value:L,mode:H,compare(m,O){if(typeof o.by=="string"){let _=o.by;return m?.[_]===O?.[_]}return o.by===null?gn(m,O):o.by(m,O)},calculateIndex(m){return b.virtual.value?o.by===null?b.virtual.value.options.indexOf(m):b.virtual.value.options.findIndex(O=>b.compare(O,m)):S.value.findIndex(O=>b.compare(O.dataRef.value,m))},defaultValue:z(()=>o.defaultValue),nullable:M,immediate:z(()=>!1),virtual:z(()=>null),inputRef:h,labelRef:d,buttonRef:u,optionsRef:x,disabled:z(()=>o.disabled),options:S,change(m){T(m)},activeOptionIndex:z(()=>{if(U.value&&E.value===null&&(b.virtual.value?b.virtual.value.options.length>0:S.value.length>0)){if(b.virtual.value){let O=b.virtual.value.options.findIndex(_=>{var k;return!((k=b.virtual.value)!=null&&k.disabled(_))});if(O!==-1)return O}let m=S.value.findIndex(O=>!O.dataRef.disabled);if(m!==-1)return m}return E.value}),activationTrigger:B,optionsPropsRef:w,closeCombobox(){U.value=!1,!o.disabled&&l.value!==1&&(l.value=1,E.value=null)},openCombobox(){if(U.value=!0,!o.disabled&&l.value!==0){if(b.value.value){let m=b.calculateIndex(b.value.value);m!==-1&&(E.value=m)}l.value=0}},setActivationTrigger(m){B.value=m},goToOption(m,O,_){U.value=!1,Q!==null&&cancelAnimationFrame(Q),Q=requestAnimationFrame(()=>{if(o.disabled||x.value&&!w.value.static&&l.value===1)return;if(b.virtual.value){E.value=m===Z.Specific?O:st({focus:m},{resolveItems:()=>b.virtual.value.options,resolveActiveIndex:()=>{var $,Y;return(Y=($=b.activeOptionIndex.value)!=null?$:b.virtual.value.options.findIndex(le=>{var ae;return!((ae=b.virtual.value)!=null&&ae.disabled(le))}))!=null?Y:null},resolveDisabled:$=>b.virtual.value.disabled($),resolveId(){throw new Error("Function not implemented.")}}),B.value=_??2;return}let k=q();if(k.activeOptionIndex===null){let $=k.options.findIndex(Y=>!Y.dataRef.disabled);$!==-1&&(k.activeOptionIndex=$)}let P=m===Z.Specific?O:st({focus:m},{resolveItems:()=>k.options,resolveActiveIndex:()=>k.activeOptionIndex,resolveId:$=>$.id,resolveDisabled:$=>$.dataRef.disabled});E.value=P,B.value=_??2,S.value=k.options})},selectOption(m){let O=S.value.find(k=>k.id===m);if(!O)return;let{dataRef:_}=O;V(_.value)},selectActiveOption(){if(b.activeOptionIndex.value!==null){if(b.virtual.value)V(b.virtual.value.options[b.activeOptionIndex.value]);else{let{dataRef:m}=S.value[b.activeOptionIndex.value];V(m.value)}b.goToOption(Z.Specific,b.activeOptionIndex.value)}},registerOption(m,O){let _=Dt({id:m,dataRef:O});if(b.virtual.value){S.value.push(_);return}y&&cancelAnimationFrame(y);let k=q(P=>(P.push(_),P));E.value===null&&b.isSelected(O.value.value)&&(k.activeOptionIndex=k.options.indexOf(_)),S.value=k.options,E.value=k.activeOptionIndex,B.value=2,k.options.some(P=>!W(P.dataRef.domRef))&&(y=requestAnimationFrame(()=>{let P=q();S.value=P.options,E.value=P.activeOptionIndex}))},unregisterOption(m,O){if(Q!==null&&cancelAnimationFrame(Q),O&&(U.value=!0),b.virtual.value){S.value=S.value.filter(k=>k.id!==m);return}let _=q(k=>{let P=k.findIndex($=>$.id===m);return P!==-1&&k.splice(P,1),k});S.value=_.options,E.value=_.activeOptionIndex,B.value=2},isSelected(m){return me(H.value,{0:()=>b.compare(ue(b.value.value),ue(m)),1:()=>ue(b.value.value).some(O=>b.compare(ue(O),ue(m)))})},isActive(m){return E.value===b.calculateIndex(m)}};Bt([h,u,x],()=>b.closeCombobox(),z(()=>l.value===0)),ct(bt,b),Gt(z(()=>me(l.value,{0:Ae.Open,1:Ae.Closed})));let N=z(()=>{var m;return(m=W(h))==null?void 0:m.closest("form")});return he(()=>{re([N],()=>{if(!N.value||o.defaultValue===void 0)return;function m(){b.change(o.defaultValue)}return N.value.addEventListener("reset",m),()=>{var O;(O=N.value)==null||O.removeEventListener("reset",m)}},{immediate:!0})}),()=>{var m,O,_;let{name:k,disabled:P,form:$,...Y}=o,le={open:l.value===0,disabled:P,activeIndex:b.activeOptionIndex.value,activeOption:b.activeOptionIndex.value===null?null:b.virtual.value?b.virtual.value.options[(m=b.activeOptionIndex.value)!=null?m:0]:(_=(O=b.options.value[b.activeOptionIndex.value])==null?void 0:O.dataRef.value)!=null?_:null,value:L.value};return ze(ye,[...k!=null&&L.value!=null?mt({[k]:L.value}).map(([ae,Ie])=>ze(Vt,Ht({features:Nt.Hidden,key:ae,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:$,disabled:P,name:ae,value:Ie}))):[],De({theirProps:{...i,...Ke(Y,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:le,slots:f,attrs:i,name:"Combobox"})])}}}),Sn=Oe({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:o=>!0},setup(o,{emit:f,attrs:i,slots:s,expose:l}){var d;let h=(d=o.id)!=null?d:`headlessui-combobox-input-${Ue()}`,u=Se("ComboboxInput"),x=z(()=>ft(W(u.inputRef))),w={value:!1};l({el:u.inputRef,$el:u.inputRef});function S(){u.change(null);let y=W(u.optionsRef);y&&(y.scrollTop=0),u.goToOption(Z.Nothing)}let E=z(()=>{var y;let V=u.value.value;return W(u.inputRef)?typeof o.displayValue<"u"&&V!==void 0?(y=o.displayValue(V))!=null?y:"":typeof V=="string"?V:"":""});he(()=>{re([E,u.comboboxState,x],([y,V],[F,b])=>{if(w.value)return;let N=W(u.inputRef);N&&((b===0&&V===1||y!==F)&&(N.value=y),requestAnimationFrame(()=>{var m;if(w.value||!N||((m=x.value)==null?void 0:m.activeElement)!==N)return;let{selectionStart:O,selectionEnd:_}=N;Math.abs((_??0)-(O??0))===0&&O===0&&N.setSelectionRange(N.value.length,N.value.length)}))},{immediate:!0}),re([u.comboboxState],([y],[V])=>{if(y===0&&V===1){if(w.value)return;let F=W(u.inputRef);if(!F)return;let b=F.value,{selectionStart:N,selectionEnd:m,selectionDirection:O}=F;F.value="",F.value=b,O!==null?F.setSelectionRange(N,m,O):F.setSelectionRange(N,m)}})});let B=G(!1);function U(){B.value=!0}function q(){We().nextFrame(()=>{B.value=!1})}let H=hn();function M(y){switch(w.value=!0,H(()=>{w.value=!1}),y.key){case se.Enter:if(w.value=!1,u.comboboxState.value!==0||B.value)return;if(y.preventDefault(),y.stopPropagation(),u.activeOptionIndex.value===null){u.closeCombobox();return}u.selectActiveOption(),u.mode.value===0&&u.closeCombobox();break;case se.ArrowDown:return w.value=!1,y.preventDefault(),y.stopPropagation(),me(u.comboboxState.value,{0:()=>u.goToOption(Z.Next),1:()=>u.openCombobox()});case se.ArrowUp:return w.value=!1,y.preventDefault(),y.stopPropagation(),me(u.comboboxState.value,{0:()=>u.goToOption(Z.Previous),1:()=>{u.openCombobox(),ht(()=>{u.value.value||u.goToOption(Z.Last)})}});case se.Home:if(y.shiftKey)break;return w.value=!1,y.preventDefault(),y.stopPropagation(),u.goToOption(Z.First);case se.PageUp:return w.value=!1,y.preventDefault(),y.stopPropagation(),u.goToOption(Z.First);case se.End:if(y.shiftKey)break;return w.value=!1,y.preventDefault(),y.stopPropagation(),u.goToOption(Z.Last);case se.PageDown:return w.value=!1,y.preventDefault(),y.stopPropagation(),u.goToOption(Z.Last);case se.Escape:if(w.value=!1,u.comboboxState.value!==0)return;y.preventDefault(),u.optionsRef.value&&!u.optionsPropsRef.value.static&&y.stopPropagation(),u.nullable.value&&u.mode.value===0&&u.value.value===null&&S(),u.closeCombobox();break;case se.Tab:if(w.value=!1,u.comboboxState.value!==0)return;u.mode.value===0&&u.activationTrigger.value!==1&&u.selectActiveOption(),u.closeCombobox();break}}function J(y){f("change",y),u.nullable.value&&u.mode.value===0&&y.target.value===""&&S(),u.openCombobox()}function T(y){var V,F,b;let N=(V=y.relatedTarget)!=null?V:it.find(m=>m!==y.currentTarget);if(w.value=!1,!((F=W(u.optionsRef))!=null&&F.contains(N))&&!((b=W(u.buttonRef))!=null&&b.contains(N))&&u.comboboxState.value===0)return y.preventDefault(),u.mode.value===0&&(u.nullable.value&&u.value.value===null?S():u.activationTrigger.value!==1&&u.selectActiveOption()),u.closeCombobox()}function L(y){var V,F,b;let N=(V=y.relatedTarget)!=null?V:it.find(m=>m!==y.currentTarget);(F=W(u.buttonRef))!=null&&F.contains(N)||(b=W(u.optionsRef))!=null&&b.contains(N)||u.disabled.value||u.immediate.value&&u.comboboxState.value!==0&&(u.openCombobox(),We().nextFrame(()=>{u.setActivationTrigger(1)}))}let Q=z(()=>{var y,V,F,b;return(b=(F=(V=o.defaultValue)!=null?V:u.defaultValue.value!==void 0?(y=o.displayValue)==null?void 0:y.call(o,u.defaultValue.value):null)!=null?F:u.defaultValue.value)!=null?b:""});return()=>{var y,V,F,b,N,m,O;let _={open:u.comboboxState.value===0},{displayValue:k,onChange:P,...$}=o,Y={"aria-controls":(y=u.optionsRef.value)==null?void 0:y.id,"aria-expanded":u.comboboxState.value===0,"aria-activedescendant":u.activeOptionIndex.value===null?void 0:u.virtual.value?(V=u.options.value.find(le=>!u.virtual.value.disabled(le.dataRef.value)&&u.compare(le.dataRef.value,u.virtual.value.options[u.activeOptionIndex.value])))==null?void 0:V.id:(F=u.options.value[u.activeOptionIndex.value])==null?void 0:F.id,"aria-labelledby":(m=(b=W(u.labelRef))==null?void 0:b.id)!=null?m:(N=W(u.buttonRef))==null?void 0:N.id,"aria-autocomplete":"list",id:h,onCompositionstart:U,onCompositionend:q,onKeydown:M,onInput:J,onFocus:L,onBlur:T,role:"combobox",type:(O=i.type)!=null?O:"text",tabIndex:0,ref:u.inputRef,defaultValue:Q.value,disabled:u.disabled.value===!0?!0:void 0};return De({ourProps:Y,theirProps:$,slot:_,attrs:i,slots:s,features:Pe.RenderStrategy|Pe.Static,name:"ComboboxInput"})}}}),In=Oe({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(o,{attrs:f,slots:i,expose:s}){let l=Se("ComboboxOptions"),d=`headlessui-combobox-options-${Ue()}`;s({el:l.optionsRef,$el:l.optionsRef}),we(()=>{l.optionsPropsRef.value.static=o.static}),we(()=>{l.optionsPropsRef.value.hold=o.hold});let h=Jt(),u=z(()=>h!==null?(h.value&Ae.Open)===Ae.Open:l.comboboxState.value===0);pn({container:z(()=>W(l.optionsRef)),enabled:z(()=>l.comboboxState.value===0),accept(w){return w.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:w.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(w){w.setAttribute("role","none")}});function x(w){w.preventDefault()}return()=>{var w,S,E;let B={open:l.comboboxState.value===0},U={"aria-labelledby":(E=(w=W(l.labelRef))==null?void 0:w.id)!=null?E:(S=W(l.buttonRef))==null?void 0:S.id,id:d,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0,onMousedown:x},q=Ke(o,["hold"]);return De({ourProps:U,theirProps:q,slot:B,attrs:f,slots:l.virtual.value&&l.comboboxState.value===0?{...i,default:()=>[ze(wn,{},i.default)]}:i,features:Pe.RenderStrategy|Pe.Static,visible:u.value,name:"ComboboxOptions"})}}}),Cn=Oe({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(o,{slots:f,attrs:i,expose:s}){let l=Se("ComboboxOption"),d=`headlessui-combobox-option-${Ue()}`,h=G(null),u=z(()=>o.disabled);s({el:h,$el:h});let x=z(()=>{var T;return l.virtual.value?l.activeOptionIndex.value===l.calculateIndex(o.value):l.activeOptionIndex.value===null?!1:((T=l.options.value[l.activeOptionIndex.value])==null?void 0:T.id)===d}),w=z(()=>l.isSelected(o.value)),S=dt(yt,null),E=z(()=>({disabled:o.disabled,value:o.value,domRef:h,order:z(()=>o.order)}));he(()=>l.registerOption(d,E)),Me(()=>l.unregisterOption(d,x.value)),we(()=>{let T=W(h);T&&S?.value.measureElement(T)}),we(()=>{l.comboboxState.value===0&&x.value&&(l.virtual.value||l.activationTrigger.value!==0&&ht(()=>{var T,L;return(L=(T=W(h))==null?void 0:T.scrollIntoView)==null?void 0:L.call(T,{block:"nearest"})}))});function B(T){T.preventDefault(),T.button===vt.Left&&(u.value||(l.selectOption(d),Lt()||requestAnimationFrame(()=>{var L;return(L=W(l.inputRef))==null?void 0:L.focus({preventScroll:!0})}),l.mode.value===0&&l.closeCombobox()))}function U(){var T;if(o.disabled||(T=l.virtual.value)!=null&&T.disabled(o.value))return l.goToOption(Z.Nothing);let L=l.calculateIndex(o.value);l.goToOption(Z.Specific,L)}let q=fn();function H(T){q.update(T)}function M(T){var L;if(!q.wasMoved(T)||o.disabled||(L=l.virtual.value)!=null&&L.disabled(o.value)||x.value)return;let Q=l.calculateIndex(o.value);l.goToOption(Z.Specific,Q,0)}function J(T){var L;q.wasMoved(T)&&(o.disabled||(L=l.virtual.value)!=null&&L.disabled(o.value)||x.value&&(l.optionsPropsRef.value.hold||l.goToOption(Z.Nothing)))}return()=>{let{disabled:T}=o,L={active:x.value,selected:w.value,disabled:T},Q={id:d,ref:h,role:"option",tabIndex:T===!0?void 0:-1,"aria-disabled":T===!0?!0:void 0,"aria-selected":w.value,disabled:void 0,onMousedown:B,onFocus:U,onPointerenter:H,onMouseenter:H,onPointermove:M,onMousemove:M,onPointerleave:J,onMouseleave:J},y=Ke(o,["order","value"]);return De({ourProps:Q,theirProps:y,slot:L,attrs:i,slots:f,name:"ComboboxOption"})}}});var _n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rn(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Tn(o){if(o.__esModule)return o;var f=o.default;if(typeof f=="function"){var i=function s(){return this instanceof s?Reflect.construct(f,arguments,this.constructor):f.apply(this,arguments)};i.prototype=f.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(o).forEach(function(s){var l=Object.getOwnPropertyDescriptor(o,s);Object.defineProperty(i,s,l.get?l:{enumerable:!0,get:function(){return o[s]}})}),i}var Ge={exports:{}};const En={},kn=Object.freeze(Object.defineProperty({__proto__:null,default:En},Symbol.toStringTag,{value:"Module"})),Mn=Tn(kn);Ge.exports;(function(o){(function f(i){try{o&&(i=o)}catch{}i._factory=f;var s;function l(e){return typeof e<"u"?e:!0}function d(e){const t=Array(e);for(let n=0;n<e;n++)t[n]=h();return t}function h(){return Object.create(null)}function u(e,t){return t.length-e.length}function x(e){return typeof e=="string"}function w(e){return typeof e=="object"}function S(e){return typeof e=="function"}function E(e,t){var n=B;if(e&&(t&&(e=H(e,t)),this.H&&(e=H(e,this.H)),this.J&&1<e.length&&(e=H(e,this.J)),n||n==="")){if(t=e.split(n),this.filter){e=this.filter,n=t.length;const r=[];for(let a=0,c=0;a<n;a++){const v=t[a];v&&!e[v]&&(r[c++]=v)}e=r}else e=t;return e}return e}const B=/[\p{Z}\p{S}\p{P}\p{C}]+/u,U=/[\u0300-\u036f]/g;function q(e,t){const n=Object.keys(e),r=n.length,a=[];let c="",v=0;for(let p=0,g,C;p<r;p++)g=n[p],(C=e[g])?(a[v++]=M(t?"(?!\\b)"+g+"(\\b|_)":g),a[v++]=C):c+=(c?"|":"")+g;return c&&(a[v++]=M(t?"(?!\\b)("+c+")(\\b|_)":"("+c+")"),a[v]=""),a}function H(e,t){for(let n=0,r=t.length;n<r&&(e=e.replace(t[n],t[n+1]),e);n+=2);return e}function M(e){return new RegExp(e,"g")}function J(e){let t="",n="";for(let r=0,a=e.length,c;r<a;r++)(c=e[r])!==n&&(t+=n=c);return t}var T={encode:L,F:!1,G:""};function L(e){return E.call(this,(""+e).toLowerCase(),!1)}const Q={},y={};function V(e){F(e,"add"),F(e,"append"),F(e,"search"),F(e,"update"),F(e,"remove")}function F(e,t){e[t+"Async"]=function(){const n=this,r=arguments;var a=r[r.length-1];let c;return S(a)&&(c=a,delete r[r.length-1]),a=new Promise(function(v){setTimeout(function(){n.async=!0;const p=n[t].apply(n,r);n.async=!1,v(p)})}),c?(a.then(c),this):a}}function b(e,t,n,r){const a=e.length;let c=[],v,p,g=0;r&&(r=[]);for(let C=a-1;0<=C;C--){const R=e[C],K=R.length,D=h();let j=!v;for(let I=0;I<K;I++){const A=R[I],ne=A.length;if(ne)for(let oe=0,te,ee;oe<ne;oe++)if(ee=A[oe],v){if(v[ee]){if(!C){if(n)n--;else if(c[g++]=ee,g===t)return c}(C||r)&&(D[ee]=1),j=!0}if(r&&(te=(p[ee]||0)+1,p[ee]=te,te<a)){const be=r[te-2]||(r[te-2]=[]);be[be.length]=ee}}else D[ee]=1}if(r)v||(p=D);else if(!j)return[];v=D}if(r)for(let C=r.length-1,R,K;0<=C;C--){R=r[C],K=R.length;for(let D=0,j;D<K;D++)if(j=R[D],!v[j]){if(n)n--;else if(c[g++]=j,g===t)return c;v[j]=1}}return c}function N(e,t){const n=h(),r=h(),a=[];for(let c=0;c<e.length;c++)n[e[c]]=1;for(let c=0,v;c<t.length;c++){v=t[c];for(let p=0,g;p<v.length;p++)g=v[p],n[g]&&!r[g]&&(r[g]=1,a[a.length]=g)}return a}function m(e){this.l=e!==!0&&e,this.cache=h(),this.h=[]}function O(e,t,n){w(e)&&(e=e.query);let r=this.cache.get(e);return r||(r=this.search(e,t,n),this.cache.set(e,r)),r}m.prototype.set=function(e,t){if(!this.cache[e]){var n=this.h.length;for(n===this.l?delete this.cache[this.h[n-1]]:n++,--n;0<n;n--)this.h[n]=this.h[n-1];this.h[0]=e}this.cache[e]=t},m.prototype.get=function(e){const t=this.cache[e];if(this.l&&t&&(e=this.h.indexOf(e))){const n=this.h[e-1];this.h[e-1]=this.h[e],this.h[e]=n}return t};const _={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function k(e,t,n,r,a,c,v,p){setTimeout(function(){const g=e(n?n+"."+r:r,JSON.stringify(v));g&&g.then?g.then(function(){t.export(e,t,n,a,c+1,p)}):t.export(e,t,n,a,c+1,p)})}function P(e,t){if(!(this instanceof P))return new P(e);var n;if(e){x(e)?e=_[e]:(n=e.preset)&&(e=Object.assign({},n[n],e)),n=e.charset;var r=e.lang;x(n)&&(n.indexOf(":")===-1&&(n+=":default"),n=y[n]),x(r)&&(r=Q[r])}else e={};let a,c,v=e.context||{};if(this.encode=e.encode||n&&n.encode||L,this.register=t||h(),this.D=a=e.resolution||9,this.G=t=n&&n.G||e.tokenize||"strict",this.depth=t==="strict"&&v.depth,this.l=l(v.bidirectional),this.s=c=l(e.optimize),this.m=l(e.fastupdate),this.B=e.minlength||1,this.C=e.boost,this.map=c?d(a):h(),this.A=a=v.resolution||1,this.h=c?d(a):h(),this.F=n&&n.F||e.rtl,this.H=(t=e.matcher||r&&r.H)&&q(t,!1),this.J=(t=e.stemmer||r&&r.J)&&q(t,!0),n=t=e.filter||r&&r.filter){n=t,r=h();for(let p=0,g=n.length;p<g;p++)r[n[p]]=1;n=r}this.filter=n,this.cache=(t=e.cache)&&new m(t)}s=P.prototype,s.append=function(e,t){return this.add(e,t,!0)},s.add=function(e,t,n,r){if(t&&(e||e===0)){if(!r&&!n&&this.register[e])return this.update(e,t);if(t=this.encode(t),r=t.length){const C=h(),R=h(),K=this.depth,D=this.D;for(let j=0;j<r;j++){let I=t[this.F?r-1-j:j];var a=I.length;if(I&&a>=this.B&&(K||!R[I])){var c=$(D,r,j),v="";switch(this.G){case"full":if(2<a){for(c=0;c<a;c++)for(var p=a;p>c;p--)if(p-c>=this.B){var g=$(D,r,j,a,c);v=I.substring(c,p),Y(this,R,v,g,e,n)}break}case"reverse":if(1<a){for(p=a-1;0<p;p--)v=I[p]+v,v.length>=this.B&&Y(this,R,v,$(D,r,j,a,p),e,n);v=""}case"forward":if(1<a){for(p=0;p<a;p++)v+=I[p],v.length>=this.B&&Y(this,R,v,c,e,n);break}default:if(this.C&&(c=Math.min(c/this.C(t,I,j)|0,D-1)),Y(this,R,I,c,e,n),K&&1<r&&j<r-1){for(a=h(),v=this.A,c=I,p=Math.min(K+1,r-j),a[c]=1,g=1;g<p;g++)if((I=t[this.F?r-1-j-g:j+g])&&I.length>=this.B&&!a[I]){a[I]=1;const A=this.l&&I>c;Y(this,C,A?c:I,$(v+(r/2>v?0:1),r,j,p-1,g-1),e,n,A?I:c)}}}}}this.m||(this.register[e]=1)}}return this};function $(e,t,n,r,a){return n&&1<e?t+(r||0)<=e?n+(a||0):(e-1)/(t+(r||0))*(n+(a||0))+1|0:0}function Y(e,t,n,r,a,c,v){let p=v?e.h:e.map;(!t[n]||v&&!t[n][v])&&(e.s&&(p=p[r]),v?(t=t[n]||(t[n]=h()),t[v]=1,p=p[v]||(p[v]=h())):t[n]=1,p=p[n]||(p[n]=[]),e.s||(p=p[r]||(p[r]=[])),c&&p.includes(a)||(p[p.length]=a,e.m&&(e=e.register[a]||(e.register[a]=[]),e[e.length]=p)))}s.search=function(e,t,n){n||(!t&&w(e)?(n=e,e=n.query):w(t)&&(n=t));let r=[],a,c,v=0;if(n){e=n.query||e,t=n.limit,v=n.offset||0;var p=n.context;c=n.suggest}if(e&&(e=this.encode(""+e),a=e.length,1<a)){n=h();var g=[];for(let R=0,K=0,D;R<a;R++)if((D=e[R])&&D.length>=this.B&&!n[D])if(this.s||c||this.map[D])g[K++]=D,n[D]=1;else return r;e=g,a=e.length}if(!a)return r;t||(t=100),p=this.depth&&1<a&&p!==!1,n=0;let C;p?(C=e[0],n=1):1<a&&e.sort(u);for(let R,K;n<a;n++){if(K=e[n],p?(R=le(this,r,c,t,v,a===2,K,C),c&&R===!1&&r.length||(C=K)):R=le(this,r,c,t,v,a===1,K),R)return R;if(c&&n===a-1){if(g=r.length,!g){if(p){p=0,n=-1;continue}return r}if(g===1)return ae(r[0],t,v)}}return b(r,t,v,c)};function le(e,t,n,r,a,c,v,p){let g=[],C=p?e.h:e.map;if(e.s||(C=Ie(C,v,p,e.l)),C){let R=0;const K=Math.min(C.length,p?e.A:e.D);for(let D=0,j=0,I,A;D<K&&!((I=C[D])&&(e.s&&(I=Ie(I,v,p,e.l)),a&&I&&c&&(A=I.length,A<=a?(a-=A,I=null):(I=I.slice(a),a=0)),I&&(g[R++]=I,c&&(j+=I.length,j>=r))));D++);if(R){if(c)return ae(g,r,0);t[t.length]=g;return}}return!n&&g}function ae(e,t,n){return e=e.length===1?e[0]:[].concat.apply([],e),n||e.length>t?e.slice(n,n+t):e}function Ie(e,t,n,r){return n?(r=r&&t>n,e=(e=e[r?t:n])&&e[r?n:t]):e=e[t],e}s.contain=function(e){return!!this.register[e]},s.update=function(e,t){return this.remove(e).add(e,t)},s.remove=function(e,t){const n=this.register[e];if(n){if(this.m)for(let r=0,a;r<n.length;r++)a=n[r],a.splice(a.indexOf(e),1);else Ce(this.map,e,this.D,this.s),this.depth&&Ce(this.h,e,this.A,this.s);if(t||delete this.register[e],this.cache){t=this.cache;for(let r=0,a,c;r<t.h.length;r++)c=t.h[r],a=t.cache[c],a.includes(e)&&(t.h.splice(r--,1),delete t.cache[c])}}return this};function Ce(e,t,n,r,a){let c=0;if(e.constructor===Array)if(a)t=e.indexOf(t),t!==-1?1<e.length&&(e.splice(t,1),c++):c++;else{a=Math.min(e.length,n);for(let v=0,p;v<a;v++)(p=e[v])&&(c=Ce(p,t,n,r,a),r||c||delete e[v])}else for(let v in e)(c=Ce(e[v],t,n,r,a))||delete e[v];return c}s.searchCache=O,s.export=function(e,t,n,r,a,c){let v=!0;typeof c>"u"&&(v=new Promise(C=>{c=C}));let p,g;switch(a||(a=0)){case 0:if(p="reg",this.m){g=h();for(let C in this.register)g[C]=1}else g=this.register;break;case 1:p="cfg",g={doc:0,opt:this.s?1:0};break;case 2:p="map",g=this.map;break;case 3:p="ctx",g=this.h;break;default:typeof n>"u"&&c&&c();return}return k(e,t||this,n,p,r,a,g,c),v},s.import=function(e,t){if(t)switch(x(t)&&(t=JSON.parse(t)),e){case"cfg":this.s=!!t.opt;break;case"reg":this.m=!1,this.register=t;break;case"map":this.map=t;break;case"ctx":this.h=t}},V(P.prototype);function wt(e){e=e.data;var t=i._index;const n=e.args;var r=e.task;switch(r){case"init":r=e.options||{},e=e.factory,t=r.encode,r.cache=!1,t&&t.indexOf("function")===0&&(r.encode=Function("return "+t)()),e?(Function("return "+e)()(i),i._index=new i.FlexSearch.Index(r),delete i.FlexSearch):i._index=new P(r);break;default:e=e.id,t=t[r].apply(t,n),postMessage(r==="search"?{id:e,msg:t}:{id:e})}}let He=0;function fe(e){if(!(this instanceof fe))return new fe(e);var t;e?S(t=e.encode)&&(e.encode=t.toString()):e={},(t=(i||window)._factory)&&(t=t.toString());const n=typeof window>"u"&&i.exports,r=this;this.o=Ot(t,n,e.worker),this.h=h(),this.o&&(n?this.o.on("message",function(a){r.h[a.id](a.msg),delete r.h[a.id]}):this.o.onmessage=function(a){a=a.data,r.h[a.id](a.msg),delete r.h[a.id]},this.o.postMessage({task:"init",factory:t,options:e}))}ge("add"),ge("append"),ge("search"),ge("update"),ge("remove");function ge(e){fe.prototype[e]=fe.prototype[e+"Async"]=function(){const t=this,n=[].slice.call(arguments);var r=n[n.length-1];let a;return S(r)&&(a=r,n.splice(n.length-1,1)),r=new Promise(function(c){setTimeout(function(){t.h[++He]=c,t.o.postMessage({task:e,id:He,args:n})})}),a?(r.then(a),this):r}}function Ot(e,t,n){let r;try{r=t?new Mn.Worker(__dirname+"/node/node.js"):e?new Worker(URL.createObjectURL(new Blob(["onmessage="+wt.toString()],{type:"text/javascript"}))):new Worker(x(n)?n:"worker/worker.js",{type:"module"})}catch{}return r}function xe(e){if(!(this instanceof xe))return new xe(e);var t=e.document||e.doc||e,n;this.K=[],this.h=[],this.A=[],this.register=h(),this.key=(n=t.key||t.id)&&_e(n,this.A)||"id",this.m=l(e.fastupdate),this.C=(n=t.store)&&n!==!0&&[],this.store=n&&h(),this.I=(n=t.tag)&&_e(n,this.A),this.l=n&&h(),this.cache=(n=e.cache)&&new m(n),e.cache=!1,this.o=e.worker,this.async=!1,n=h();let r=t.index||t.field||t;x(r)&&(r=[r]);for(let a=0,c,v;a<r.length;a++)c=r[a],x(c)||(v=c,c=c.field),v=w(v)?Object.assign({},e,v):e,this.o&&(n[c]=new fe(v),n[c].o||(this.o=!1)),this.o||(n[c]=new P(v,this.register)),this.K[a]=_e(c,this.A),this.h[a]=c;if(this.C)for(e=t.store,x(e)&&(e=[e]),t=0;t<e.length;t++)this.C[t]=_e(e[t],this.A);this.index=n}function _e(e,t){const n=e.split(":");let r=0;for(let a=0;a<n.length;a++)e=n[a],0<=e.indexOf("[]")&&(e=e.substring(0,e.length-2))&&(t[r]=!0),e&&(n[r++]=e);return r<n.length&&(n.length=r),1<r?n:n[0]}function Fe(e,t){if(x(t))e=e[t];else for(let n=0;e&&n<t.length;n++)e=e[t[n]];return e}function je(e,t,n,r,a){if(e=e[a],r===n.length-1)t[a]=e;else if(e)if(e.constructor===Array)for(t=t[a]=Array(e.length),a=0;a<e.length;a++)je(e,t,n,r,a);else t=t[a]||(t[a]=h()),a=n[++r],je(e,t,n,r,a)}function Be(e,t,n,r,a,c,v,p){if(e=e[v])if(r===t.length-1){if(e.constructor===Array){if(n[r]){for(t=0;t<e.length;t++)a.add(c,e[t],!0,!0);return}e=e.join(" ")}a.add(c,e,p,!0)}else if(e.constructor===Array)for(v=0;v<e.length;v++)Be(e,t,n,r,a,c,v,p);else v=t[++r],Be(e,t,n,r,a,c,v,p)}s=xe.prototype,s.add=function(e,t,n){if(w(e)&&(t=e,e=Fe(t,this.key)),t&&(e||e===0)){if(!n&&this.register[e])return this.update(e,t);for(let r=0,a,c;r<this.h.length;r++)c=this.h[r],a=this.K[r],x(a)&&(a=[a]),Be(t,a,this.A,0,this.index[c],e,a[0],n);if(this.I){let r=Fe(t,this.I),a=h();x(r)&&(r=[r]);for(let c=0,v,p;c<r.length;c++)if(v=r[c],!a[v]&&(a[v]=1,p=this.l[v]||(this.l[v]=[]),!n||!p.includes(e))&&(p[p.length]=e,this.m)){const g=this.register[e]||(this.register[e]=[]);g[g.length]=p}}if(this.store&&(!n||!this.store[e])){let r;if(this.C){r=h();for(let a=0,c;a<this.C.length;a++)c=this.C[a],x(c)?r[c]=t[c]:je(t,r,c,0,c[0])}this.store[e]=r||t}}return this},s.append=function(e,t){return this.add(e,t,!0)},s.update=function(e,t){return this.remove(e).add(e,t)},s.remove=function(e){if(w(e)&&(e=Fe(e,this.key)),this.register[e]){for(var t=0;t<this.h.length&&(this.index[this.h[t]].remove(e,!this.o),!this.m);t++);if(this.I&&!this.m)for(let n in this.l){t=this.l[n];const r=t.indexOf(e);r!==-1&&(1<t.length?t.splice(r,1):delete this.l[n])}this.store&&delete this.store[e],delete this.register[e]}return this},s.search=function(e,t,n,r){n||(!t&&w(e)?(n=e,e=""):w(t)&&(n=t,t=0));let a=[],c=[],v,p,g,C,R,K,D=0;if(n)if(n.constructor===Array)g=n,n=null;else{if(e=n.query||e,g=(v=n.pluck)||n.index||n.field,C=n.tag,p=this.store&&n.enrich,R=n.bool==="and",t=n.limit||t||100,K=n.offset||0,C&&(x(C)&&(C=[C]),!e)){for(let I=0,A;I<C.length;I++)(A=St.call(this,C[I],t,K,p))&&(a[a.length]=A,D++);return D?a:[]}x(g)&&(g=[g])}g||(g=this.h),R=R&&(1<g.length||C&&1<C.length);const j=!r&&(this.o||this.async)&&[];for(let I=0,A,ne,oe;I<g.length;I++){let te;if(ne=g[I],x(ne)||(te=ne,ne=te.field,e=te.query||e,t=te.limit||t,p=te.enrich||p),j)j[I]=this.index[ne].searchAsync(e,t,te||n);else{if(r?A=r[I]:A=this.index[ne].search(e,t,te||n),oe=A&&A.length,C&&oe){const ee=[];let be=0;R&&(ee[0]=[A]);for(let $e=0,et,Re;$e<C.length;$e++)et=C[$e],(oe=(Re=this.l[et])&&Re.length)&&(be++,ee[ee.length]=R?[Re]:Re);be&&(A=R?b(ee,t||100,K||0):N(A,ee),oe=A.length)}if(oe)c[D]=ne,a[D++]=A;else if(R)return[]}}if(j){const I=this;return new Promise(function(A){Promise.all(j).then(function(ne){A(I.search(e,t,n,ne))})})}if(!D)return[];if(v&&(!p||!this.store))return a[0];for(let I=0,A;I<c.length;I++){if(A=a[I],A.length&&p&&(A=Je.call(this,A)),v)return A;a[I]={field:c[I],result:A}}return a};function St(e,t,n,r){let a=this.l[e],c=a&&a.length-n;if(c&&0<c)return(c>t||n)&&(a=a.slice(n,n+t)),r&&(a=Je.call(this,a)),{tag:e,result:a}}function Je(e){const t=Array(e.length);for(let n=0,r;n<e.length;n++)r=e[n],t[n]={id:r,doc:this.store[r]};return t}s.contain=function(e){return!!this.register[e]},s.get=function(e){return this.store[e]},s.set=function(e,t){return this.store[e]=t,this},s.searchCache=O,s.export=function(e,t,n,r,a,c){let v;if(typeof c>"u"&&(v=new Promise(p=>{c=p})),a||(a=0),r||(r=0),r<this.h.length){const p=this.h[r],g=this.index[p];t=this,setTimeout(function(){g.export(e,t,a?p:"",r,a++,c)||(r++,a=1,t.export(e,t,p,r,a,c))})}else{let p,g;switch(a){case 1:p="tag",g=this.l,n=null;break;case 2:p="store",g=this.store,n=null;break;default:c();return}k(e,this,n,p,r,a,g,c)}return v},s.import=function(e,t){if(t)switch(x(t)&&(t=JSON.parse(t)),e){case"tag":this.l=t;break;case"reg":this.m=!1,this.register=t;for(let r=0,a;r<this.h.length;r++)a=this.index[this.h[r]],a.register=t,a.m=!1;break;case"store":this.store=t;break;default:e=e.split(".");const n=e[0];e=e[1],n&&e&&this.index[n].import(e,t)}},V(xe.prototype);var It={encode:Ye,F:!1,G:""};const Ct=[M("[àáâãäå]"),"a",M("[èéêë]"),"e",M("[ìíîï]"),"i",M("[òóôõöő]"),"o",M("[ùúûüű]"),"u",M("[ýŷÿ]"),"y",M("ñ"),"n",M("[çc]"),"k",M("ß"),"s",M(" & ")," and "];function Ye(e){var t=e=""+e;return t.normalize&&(t=t.normalize("NFD").replace(U,"")),E.call(this,t.toLowerCase(),!e.normalize&&Ct)}var _t={encode:Ze,F:!1,G:"strict"};const Rt=/[^a-z0-9]+/,Xe={b:"p",v:"f",w:"f",z:"s",x:"s",ß:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Ze(e){e=Ye.call(this,e).join(" ");const t=[];if(e){const n=e.split(Rt),r=n.length;for(let a=0,c,v=0;a<r;a++)if((e=n[a])&&(!this.filter||!this.filter[e])){c=e[0];let p=Xe[c]||c,g=p;for(let C=1;C<e.length;C++){c=e[C];const R=Xe[c]||c;R&&R!==g&&(p+=R,g=R)}t[v++]=p}}return t}var Tt={encode:Qe,F:!1,G:""};const Et=[M("ae"),"a",M("oe"),"o",M("sh"),"s",M("th"),"t",M("ph"),"f",M("pf"),"f",M("(?![aeo])h(?![aeo])"),"",M("(?!^[aeo])h(?!^[aeo])"),""];function Qe(e,t){return e&&(e=Ze.call(this,e).join(" "),2<e.length&&(e=H(e,Et)),t||(1<e.length&&(e=J(e)),e&&(e=e.split(" ")))),e||[]}var kt={encode:zt,F:!1,G:""};const Mt=M("(?!\\b)[aeo]");function zt(e){return e&&(e=Qe.call(this,e,!0),1<e.length&&(e=e.replace(Mt,"")),1<e.length&&(e=J(e)),e&&(e=e.split(" "))),e||[]}y["latin:default"]=T,y["latin:simple"]=It,y["latin:balance"]=_t,y["latin:advanced"]=Tt,y["latin:extra"]=kt;const Ve={Index:P,Document:xe,Worker:fe,registerCharset:function(e,t){y[e]=t},registerLanguage:function(e,t){Q[e]=t}};let Ne;(Ne=i.define)&&Ne.amd?Ne([],function(){return Ve}):i.exports?i.exports=Ve:i.FlexSearch=Ve})(_n)})(Ge);var zn=Ge.exports;const rt=Rn(zn),An={__name:"CommandPalette",props:{isOpen:Boolean},emits:["close"],setup(o,{expose:f,emit:i}){f();let s={};const l=new rt.Document({tokenize:"full",document:{id:"id",index:["title","description","href"]}}),d=G(""),h=G(void 0),u=i,x=z(()=>{if(d.value==="")return[];const S=l.search(d.value);return Array.from(new Set(S.map(B=>B.result).flat())).map(B=>s[B])});he(async()=>{s=await(await fetch("/index-data.json")).json(),Object.entries(s).forEach(([S,E])=>l.add({id:S,...E}))}),re(h,()=>{h.value&&(u("close"),window.location.href=h.value.href)});const w={get data(){return s},set data(S){s=S},index:l,query:d,selected:h,emit:u,results:x,ref:G,watch:re,computed:z,onMounted:he,get TransitionRoot(){return qt},get TransitionChild(){return Wt},get Dialog(){return Kt},get DialogPanel(){return Ut},get Combobox(){return On},get ComboboxInput(){return Sn},get ComboboxOptions(){return In},get ComboboxOption(){return Cn},Search:at,get flexsearch(){return rt}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}},Pn={class:"fixed inset-0 overflow-y-auto backdrop-blur-sm"},Dn={class:"relative mt-1 w-full"},Fn={class:"flex w-full cursor-default items-center space-x-2 overflow-hidden rounded-lg bg-white text-left text-sm shadow-md p-squish-2 focus:outline-none"},jn={for:"query-input"},Bn={key:0,class:"relative cursor-default select-none px-4 py-2"},Vn=["href"],Nn={class:"w-full truncate"},$n={class:"block truncate font-medium text-content-secondary"},Ln={class:"block truncate text-content-tertiary"},qn={class:"mt-2 truncate text-content-tertiary"},Wn={class:"capitalize"},Kn={key:0};function Un(o,f,i,s,l,d){return ie(),Ee(s.TransitionRoot,{appear:"",show:!0,as:"template"},{default:ce(()=>[de(s.Dialog,{as:"div",class:"relative z-10",onClose:f[3]||(f[3]=h=>o.$emit("close"))},{default:ce(()=>[de(s.TransitionChild,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ce(()=>f[4]||(f[4]=[X("div",{class:"fixed inset-0 bg-black/50"},null,-1)])),_:1}),X("div",Pn,[de(s.DialogPanel,{class:"mx-auto mt-[10vh] flex max-w-3xl justify-center p-4"},{default:ce(()=>[de(s.Combobox,{modelValue:s.selected,"onUpdate:modelValue":f[2]||(f[2]=h=>s.selected=h)},{default:ce(()=>[X("div",Dn,[X("form",Fn,[X("label",jn,[de(s.Search,{class:"left-4 w-6"})]),de(s.ComboboxInput,{id:"query-input",class:"w-full border-none text-sm leading-5 text-gray-900 outline-none",placeholder:"Search...",onChange:f[0]||(f[0]=h=>s.query=h.target.value)})]),de(s.TransitionRoot,{leave:"transition ease-in duration-100","leave-from":"opacity-100","leave-to":"opacity-0",onAfterLeave:f[1]||(f[1]=h=>s.query="")},{default:ce(()=>[s.query!==""?(ie(),Ee(s.ComboboxOptions,{key:0,class:"absolute mt-1 max-h-[65vh] w-full overflow-auto rounded-md bg-white py-1 text-sm shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:ce(()=>[s.results.length===0?(ie(),ve("div",Bn," Nothing found. ")):ke("",!0),(ie(!0),ve(ye,null,nt(s.results,(h,u)=>(ie(),Ee(s.ComboboxOption,{key:u,as:"template",value:h},{default:ce(({active:x})=>[X("li",{class:jt(["relative cursor-default select-none px-4 py-2",{"bg-surface-secondary":x}])},[X("a",{class:"flex items-center space-x-4",href:h.href},[X("div",Nn,[X("span",$n,Le(h.title),1),X("p",Ln,Le(h.description),1),X("div",qn,[(ie(!0),ve(ye,null,nt(h.path,(w,S)=>(ie(),ve(ye,null,[X("span",Wn,Le(w),1),S<h.path.length-1?(ie(),ve("span",Kn," / ")):ke("",!0)],64))),256))])])],8,Vn)],2)]),_:2},1032,["value"]))),128))]),_:1})):ke("",!0)]),_:1})])]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})}const Gn=ut(An,[["render",Un]]),Hn={__name:"SiteSearch",setup(o,{expose:f}){f();const i=G(!1);he(()=>window.addEventListener("keydown",s)),Me(()=>window.removeEventListener("keydown",s));function s(x){x.key==="/"&&(h(),x.preventDefault())}function l(){i.value=!0}function d(){i.value=!1}function h(){i.value=!i.value}const u={isOpen:i,onKeyDown:s,openCommandPalette:l,closeCommandPalette:d,toggleCommandPalette:h,ref:G,onMounted:he,onUnmounted:Me,SearchLogo:at,CommandPalette:Gn};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}};function Jn(o,f,i,s,l,d){return ie(),ve(ye,null,[X("button",{class:"flex h-10 items-center space-x-3 overflow-hidden rounded-none border-gray-300 bg-white p-0 text-left ring-0 focus:outline-none focus:ring-0 md:mr-4 md:w-80 md:rounded-lg md:border md:px-4 md:pr-0 md:shadow-sm",onClick:s.openCommandPalette},[de(s.SearchLogo,{class:"size-6 md:size-4"}),f[0]||(f[0]=X("span",{class:"hidden flex-auto text-gray-500 md:flex"},"Search",-1)),f[1]||(f[1]=X("kbd",{class:"hidden aspect-square h-full items-center justify-center bg-gray-50 font-sans text-sm font-medium leading-5 text-gray-700 md:flex"},[X("abbr",{title:"Command",class:"no-underline"},"/ ")],-1))]),s.isOpen?(ie(),Ee(s.CommandPalette,{key:0,onClose:s.closeCommandPalette})):ke("",!0)],64)}const ti=ut(Hn,[["render",Jn]]);export{ti as default};
