import{v as l}from"./runtime-dom.esm-bundler.e85a66ca.js";import{_ as b}from"./_plugin-vue_export-helper.c27b6911.js";import{o as d,c as p,r as w,a as x,b as g,d as v,w as i,e as t,t as u,f as C,g as S,F as q,h as I,n as y}from"./runtime-core.esm-bundler.df8e59f7.js";const N={},j={class:"prose prose-slate max-w-none prose-headings:font-display prose-headings:font-normal prose-h2:scroll-mt-16 prose-h2:mt-8 prose-h2:pt-8 prose-h2:border-t prose-h3:scroll-mt-20 prose-lead:text-slate-500 prose-a:no-underline prose-a:text-content-primary hover:prose-a:no-underline prose-img:mb-8 prose-img:mx-auto prose-img:object-contain"};function E(a,h){return d(),p("div",j,[w(a.$slots,"default")])}const O=b(N,[["render",E]]),B={__name:"GuideLayout",props:{collectionName:{type:String,required:!0},headings:{type:Object,required:!0},title:{type:String,required:!0},img:{type:String,required:!0},fullWidth:{type:Boolean,required:!1}},setup(a,{expose:h}){h();const r=a,e=x("");let s=null;g(()=>{const n={threshold:0,rootMargin:"-20% 0px -80% 0px"};s=new IntersectionObserver(c=>{c.forEach(f=>{const k=f.target.firstElementChild.id;f.isIntersecting&&(e.value=k)})},n);const m=document.querySelectorAll("section");if(m.length){const c=m[0].firstElementChild.id;e.value=c}m.forEach(c=>{s.observe(c)})}),v(()=>{s.disconnect()});function _(n){e.value=n}const o={props:r,visibleHeadingId:e,get observer(){return s},set observer(n){s=n},handleTocClick:_,ref:x,onMounted:g,onUnmounted:v,Prose:O};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}},H={class:"flex items-center max-h-72 overflow-hidden"},L=["src"],P={class:"relative mx-auto desktop-gutters flex justify-center"},D={class:"min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 xl:pt-16 lg:max-w-none"},F={class:"mb-9 space-y-1"},G={class:"hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6 overflow-y-auto"},M={"aria-labelledby":"on-this-page-title",class:"w-56"},T=t("h2",{id:"on-this-page-title",class:"type-overline text-content-primary"}," On this page ",-1),V={class:"mt-4 text-sm"},W=["href","onClick"],z={class:"w-56"};function A(a,h,r,e,s,_){return d(),p("div",null,[i(t("div",H,[t("img",{src:e.props.img,"aria-hidden":"true",class:"object-cover m-0 w-full h-24 md:h-full"},null,8,L)],512),[[l,e.props.img]]),t("div",P,[t("div",D,[t("article",null,[i(t("header",F,[i(t("p",{class:"type-overline text-content-primary"},u(r.collectionName),513),[[l,r.collectionName]]),i(t("h1",{class:"font-display text-3xl tracking-tight text-slate-900"},u(e.props.title),513),[[l,e.props.title]])],512),[[l,e.props.title||r.collectionName]]),C(e.Prose,null,{default:S(()=>[w(a.$slots,"default")]),_:3})])]),t("div",G,[i(t("nav",M,[T,t("ol",V,[(d(!0),p(q,null,I(r.headings,o=>(d(),p("li",{key:o.slug,class:y(o.depth===3?"pl-5":"")},[t("a",{href:`#${o.slug}`,onClick:n=>e.handleTocClick(o.slug)},[t("h3",{class:y(["border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary",[e.visibleHeadingId===o.slug?"text-content-primary border-brand-accent":"font-normal text-content-tertiary",o.depth===3?"pl-5":""]])},u(o.text),3)],8,W)],2))),128))])],512),[[l,e.props.headings&&e.props.headings.length]]),i(t("div",z,null,512),[[l,!e.props.headings?.length&&!e.props.fullWidth]])])])])}const Q=b(B,[["render",A]]);export{Q as default};
