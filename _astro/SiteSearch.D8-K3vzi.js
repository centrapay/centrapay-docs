import at from"./Search.BeoM1jXD.js";import{a as At,c as Dt,g as Pt}from"./_commonjsHelpers.BosuxZz1.js";import{_ as ut}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{N as z,R as Te,T as Ft,U as re,V as tt,W as Bt,r as G,a as Me,K as we,L as Oe,X as Vt,Y as ue,M as ct,o as he,p as ze,F as ye,O as dt,Z as ht,Q as jt,e as ie,f as ke,w as ce,g as de,b as X,c as pe,_ as Ee,d as nt,n as Nt,t as Le}from"./runtime-core.esm-bundler.D4JyxfK_.js";import{o as We,i as ft,w as $t,f as Lt,u as qt,O as Wt,t as it,n as Kt,S as Ut,h as Gt,Y as Ht,G as Jt}from"./transition.CEZjL-cR.js";import{u as me,o as W,t as Yt,a as Ae,E as Xt,A as Pe,T as Ke,i as Ue,N as De,l as Zt,b as se}from"./keyboard.TDvS5eME.js";function ve(r,v,i){let s=i.initialDeps??[],l;return()=>{var d,h,u,x;let w;i.key&&((d=i.debug)!=null&&d.call(i))&&(w=Date.now());const S=r();if(!(S.length!==s.length||S.some((U,q)=>s[q]!==U)))return l;s=S;let V;if(i.key&&((h=i.debug)!=null&&h.call(i))&&(V=Date.now()),l=v(...S),i.key&&((u=i.debug)!=null&&u.call(i))){const U=Math.round((Date.now()-w)*100)/100,q=Math.round((Date.now()-V)*100)/100,H=q/16,M=(J,T)=>{for(J=String(J);J.length<T;)J=" "+J;return J};console.info(`%c⏱ ${M(q,5)} /${M(U,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*H,120))}deg 100% 31%);`,i?.key)}return(x=i?.onChange)==null||x.call(i,l),l}}function qe(r,v){if(r===void 0)throw new Error("Unexpected undefined");return r}const Qt=(r,v)=>Math.abs(r-v)<1,en=(r,v,i)=>{let s;return function(...l){r.clearTimeout(s),s=r.setTimeout(()=>v.apply(this,l),i)}},tn=r=>r,nn=r=>{const v=Math.max(r.startIndex-r.overscan,0),i=Math.min(r.endIndex+r.overscan,r.count-1),s=[];for(let l=v;l<=i;l++)s.push(l);return s},ln=(r,v)=>{const i=r.scrollElement;if(!i)return;const s=r.targetWindow;if(!s)return;const l=h=>{const{width:u,height:x}=h;v({width:Math.round(u),height:Math.round(x)})};if(l(i.getBoundingClientRect()),!s.ResizeObserver)return()=>{};const d=new s.ResizeObserver(h=>{const u=h[0];if(u?.borderBoxSize){const x=u.borderBoxSize[0];if(x){l({width:x.inlineSize,height:x.blockSize});return}}l(i.getBoundingClientRect())});return d.observe(i,{box:"border-box"}),()=>{d.unobserve(i)}},lt={passive:!0},on=typeof window>"u"?!0:"onscrollend"in window,sn=(r,v)=>{const i=r.scrollElement;if(!i)return;const s=r.targetWindow;if(!s)return;let l=0;const d=on?()=>{}:en(s,()=>{v(l,!1)},r.options.isScrollingResetDelay),h=w=>()=>{const{horizontal:S,isRtl:k}=r.options;l=S?i.scrollLeft*(k&&-1||1):i.scrollTop,d(),v(l,w)},u=h(!0),x=h(!1);return x(),i.addEventListener("scroll",u,lt),i.addEventListener("scrollend",x,lt),()=>{i.removeEventListener("scroll",u),i.removeEventListener("scrollend",x)}},rn=(r,v,i)=>{if(v?.borderBoxSize){const s=v.borderBoxSize[0];if(s)return Math.round(s[i.options.horizontal?"inlineSize":"blockSize"])}return Math.round(r.getBoundingClientRect()[i.options.horizontal?"width":"height"])},an=(r,{adjustments:v=0,behavior:i},s)=>{var l,d;const h=r+v;(d=(l=s.scrollElement)==null?void 0:l.scrollTo)==null||d.call(l,{[s.options.horizontal?"left":"top"]:h,behavior:i})};class un{constructor(v){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let i=null;const s=()=>i||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:i=new this.targetWindow.ResizeObserver(l=>{l.forEach(d=>{this._measureElement(d.target,d)})}));return{disconnect:()=>{var l;(l=s())==null||l.disconnect(),i=null},observe:l=>{var d;return(d=s())==null?void 0:d.observe(l,{box:"border-box"})},unobserve:l=>{var d;return(d=s())==null?void 0:d.unobserve(l)}}})(),this.range=null,this.setOptions=i=>{Object.entries(i).forEach(([s,l])=>{typeof l>"u"&&delete i[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:tn,rangeExtractor:nn,onChange:()=>{},measureElement:rn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...i}},this.notify=i=>{var s,l;(l=(s=this.options).onChange)==null||l.call(s,this,i)},this.maybeNotify=ve(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),i=>{this.notify(i)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(i=>i()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var i;const s=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==s){if(this.cleanup(),!s){this.maybeNotify();return}this.scrollElement=s,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((i=this.scrollElement)==null?void 0:i.window)??null,this.elementsCache.forEach(l=>{this.observer.observe(l)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,l=>{this.scrollRect=l,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(l,d)=>{this.scrollAdjustments=0,this.scrollDirection=d?this.getScrollOffset()<l?"forward":"backward":null,this.scrollOffset=l,this.isScrolling=d,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(i,s)=>{const l=new Map,d=new Map;for(let h=s-1;h>=0;h--){const u=i[h];if(l.has(u.lane))continue;const x=d.get(u.lane);if(x==null||u.end>x.end?d.set(u.lane,u):u.end<x.end&&l.set(u.lane,!0),l.size===this.options.lanes)break}return d.size===this.options.lanes?Array.from(d.values()).sort((h,u)=>h.end===u.end?h.index-u.index:h.end-u.end)[0]:void 0},this.getMeasurementOptions=ve(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(i,s,l,d,h)=>(this.pendingMeasuredCacheIndexes=[],{count:i,paddingStart:s,scrollMargin:l,getItemKey:d,enabled:h}),{key:!1}),this.getMeasurements=ve(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:i,paddingStart:s,scrollMargin:l,getItemKey:d,enabled:h},u)=>{if(!h)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(S=>{this.itemSizeCache.set(S.key,S.size)}));const x=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const w=this.measurementsCache.slice(0,x);for(let S=x;S<i;S++){const k=d(S),V=this.options.lanes===1?w[S-1]:this.getFurthestMeasurement(w,S),U=V?V.end+this.options.gap:s+l,q=u.get(k),H=typeof q=="number"?q:this.options.estimateSize(S),M=U+H,J=V?V.lane:S%this.options.lanes;w[S]={index:S,start:U,size:H,end:M,key:k,lane:J}}return this.measurementsCache=w,w},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ve(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(i,s,l)=>this.range=i.length>0&&s>0?cn({measurements:i,outerSize:s,scrollOffset:l}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ve(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(i,s,l,d)=>s===null?[]:i({startIndex:s.startIndex,endIndex:s.endIndex,overscan:l,count:d}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=i=>{const s=this.options.indexAttribute,l=i.getAttribute(s);return l?parseInt(l,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(i,s)=>{const l=this.indexFromElement(i),d=this.measurementsCache[l];if(!d)return;const h=d.key,u=this.elementsCache.get(h);u!==i&&(u&&this.observer.unobserve(u),this.observer.observe(i),this.elementsCache.set(h,i)),i.isConnected&&this.resizeItem(l,this.options.measureElement(i,s,this))},this.resizeItem=(i,s)=>{const l=this.measurementsCache[i];if(!l)return;const d=this.itemSizeCache.get(l.key)??l.size,h=s-d;h!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(l,h,this):l.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=h,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(l.index),this.itemSizeCache=new Map(this.itemSizeCache.set(l.key,s)),this.notify(!1))},this.measureElement=i=>{if(!i){this.elementsCache.forEach((s,l)=>{s.isConnected||(this.observer.unobserve(s),this.elementsCache.delete(l))});return}this._measureElement(i,void 0)},this.getVirtualItems=ve(()=>[this.getIndexes(),this.getMeasurements()],(i,s)=>{const l=[];for(let d=0,h=i.length;d<h;d++){const u=i[d],x=s[u];l.push(x)}return l},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=i=>{const s=this.getMeasurements();if(s.length!==0)return qe(s[vt(0,s.length-1,l=>qe(s[l]).start,i)])},this.getOffsetForAlignment=(i,s)=>{const l=this.getSize(),d=this.getScrollOffset();s==="auto"&&(i<=d?s="start":i>=d+l?s="end":s="start"),s==="start"?i=i:s==="end"?i=i-l:s==="center"&&(i=i-l/2);const h=this.options.horizontal?"scrollWidth":"scrollHeight",x=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[h]:this.scrollElement[h]:0)-l;return Math.max(Math.min(x,i),0)},this.getOffsetForIndex=(i,s="auto")=>{i=Math.max(0,Math.min(i,this.options.count-1));const l=this.measurementsCache[i];if(!l)return;const d=this.getSize(),h=this.getScrollOffset();if(s==="auto")if(l.end>=h+d-this.options.scrollPaddingEnd)s="end";else if(l.start<=h+this.options.scrollPaddingStart)s="start";else return[h,s];const u=s==="end"?l.end+this.options.scrollPaddingEnd:l.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(u,s),s]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(i,{align:s="start",behavior:l}={})=>{this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(i,s),{adjustments:void 0,behavior:l})},this.scrollToIndex=(i,{align:s="auto",behavior:l}={})=>{i=Math.max(0,Math.min(i,this.options.count-1)),this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const d=this.getOffsetForIndex(i,s);if(!d)return;const[h,u]=d;this._scrollToOffset(h,{adjustments:void 0,behavior:l}),l!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(i))){const[w]=qe(this.getOffsetForIndex(i,u));Qt(w,this.getScrollOffset())||this.scrollToIndex(i,{align:u,behavior:l})}else this.scrollToIndex(i,{align:u,behavior:l})}))},this.scrollBy=(i,{behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+i,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var i;const s=this.getMeasurements();let l;return s.length===0?l=this.options.paddingStart:l=this.options.lanes===1?((i=s[s.length-1])==null?void 0:i.end)??0:Math.max(...s.slice(-this.options.lanes).map(d=>d.end)),Math.max(l-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(i,{adjustments:s,behavior:l})=>{this.options.scrollToFn(i,{behavior:l,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(v)}}const vt=(r,v,i,s)=>{for(;r<=v;){const l=(r+v)/2|0,d=i(l);if(d<s)r=l+1;else if(d>s)v=l-1;else return l}return r>0?r-1:0};function cn({measurements:r,outerSize:v,scrollOffset:i}){const s=r.length-1,d=vt(0,s,u=>r[u].start,i);let h=d;for(;h<s&&r[h].end<i+v;)h++;return{startIndex:d,endIndex:h}}function dn(r){const v=new un(Te(r)),i=Ft(v),s=v._didMount();return re(()=>Te(r).getScrollElement(),l=>{l&&v._willUpdate()},{immediate:!0}),re(()=>Te(r),l=>{v.setOptions({...l,onChange:(d,h)=>{var u;tt(i),(u=l.onChange)==null||u.call(l,d,h)}}),v._willUpdate(),tt(i)},{immediate:!0}),Bt(s),i}function hn(r){return dn(z(()=>({observeElementRect:ln,observeElementOffset:sn,scrollToFn:an,...Te(r)})))}function fn(r,v,i){let s=G(i?.value),l=z(()=>r.value!==void 0);return[z(()=>l.value?r.value:s.value),function(d){return l.value||(s.value=d),v?.(d)}]}function vn(){let r=We();return Me(()=>r.dispose()),r}function pn(){let r=vn();return v=>{r.dispose(),r.nextFrame(v)}}function ot(r){return[r.screenX,r.screenY]}function mn(){let r=G([-1,-1]);return{wasMoved(v){let i=ot(v);return r.value[0]===i[0]&&r.value[1]===i[1]?!1:(r.value=i,!0)},update(v){r.value=ot(v)}}}function gn({container:r,accept:v,walk:i,enabled:s}){we(()=>{let l=r.value;if(!l||s!==void 0&&!s.value)return;let d=ft(r);if(!d)return;let h=Object.assign(x=>v(x),{acceptNode:v}),u=d.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,h,!1);for(;u.nextNode();)i(u.currentNode)})}var pt=(r=>(r[r.Left=0]="Left",r[r.Right=2]="Right",r))(pt||{});function xn(r){throw new Error("Unexpected object: "+r)}var Z=(r=>(r[r.First=0]="First",r[r.Previous=1]="Previous",r[r.Next=2]="Next",r[r.Last=3]="Last",r[r.Specific=4]="Specific",r[r.Nothing=5]="Nothing",r))(Z||{});function st(r,v){let i=v.resolveItems();if(i.length<=0)return null;let s=v.resolveActiveIndex(),l=s??-1;switch(r.focus){case 0:{for(let d=0;d<i.length;++d)if(!v.resolveDisabled(i[d],d,i))return d;return s}case 1:{l===-1&&(l=i.length);for(let d=l-1;d>=0;--d)if(!v.resolveDisabled(i[d],d,i))return d;return s}case 2:{for(let d=l+1;d<i.length;++d)if(!v.resolveDisabled(i[d],d,i))return d;return s}case 3:{for(let d=i.length-1;d>=0;--d)if(!v.resolveDisabled(i[d],d,i))return d;return s}case 4:{for(let d=0;d<i.length;++d)if(v.resolveId(i[d],d,i)===r.id)return d;return s}case 5:return null;default:xn(r)}}function mt(r={},v=null,i=[]){for(let[s,l]of Object.entries(r))xt(i,gt(v,s),l);return i}function gt(r,v){return r?r+"["+v+"]":v}function xt(r,v,i){if(Array.isArray(i))for(let[s,l]of i.entries())xt(r,gt(v,s.toString()),l);else i instanceof Date?r.push([v,i.toISOString()]):typeof i=="boolean"?r.push([v,i?"1":"0"]):typeof i=="string"?r.push([v,i]):typeof i=="number"?r.push([v,`${i}`]):i==null?r.push([v,""]):mt(i,v,r)}var bn={};function yn(r,v){return r===v}var wn=(r=>(r[r.Open=0]="Open",r[r.Closed=1]="Closed",r))(wn||{}),On=(r=>(r[r.Single=0]="Single",r[r.Multi=1]="Multi",r))(On||{}),Sn=(r=>(r[r.Pointer=0]="Pointer",r[r.Focus=1]="Focus",r[r.Other=2]="Other",r))(Sn||{});let bt=Symbol("ComboboxContext");function Se(r){let v=dt(bt,null);if(v===null){let i=new Error(`<${r} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Se),i}return v}let yt=Symbol("VirtualContext"),In=Oe({name:"VirtualProvider",setup(r,{slots:v}){let i=Se("VirtualProvider"),s=z(()=>{let u=W(i.optionsRef);if(!u)return{start:0,end:0};let x=window.getComputedStyle(u);return{start:parseFloat(x.paddingBlockStart||x.paddingTop),end:parseFloat(x.paddingBlockEnd||x.paddingBottom)}}),l=hn(z(()=>({scrollPaddingStart:s.value.start,scrollPaddingEnd:s.value.end,count:i.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return W(i.optionsRef)},overscan:12}))),d=z(()=>{var u;return(u=i.virtual.value)==null?void 0:u.options}),h=G(0);return re([d],()=>{h.value+=1}),ct(yt,i.virtual.value?l:null),()=>[ze("div",{style:{position:"relative",width:"100%",height:`${l.value.getTotalSize()}px`},ref:u=>{if(u){if(typeof process<"u"&&bn.JEST_WORKER_ID!==void 0||i.activationTrigger.value===0)return;i.activeOptionIndex.value!==null&&i.virtual.value.options.length>i.activeOptionIndex.value&&l.value.scrollToIndex(i.activeOptionIndex.value)}}},l.value.getVirtualItems().map(u=>jt(v.default({option:i.virtual.value.options[u.index],open:i.comboboxState.value===0})[0],{key:`${h.value}-${u.index}`,"data-index":u.index,"aria-setsize":i.virtual.value.options.length,"aria-posinset":u.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${u.start}px)`,overflowAnchor:"none"}})))]}}),Cn=Oe({name:"Combobox",emits:{"update:modelValue":r=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(r,{slots:v,attrs:i,emit:s}){let l=G(1),d=G(null),h=G(null),u=G(null),x=G(null),w=G({static:!1,hold:!1}),S=G([]),k=G(null),V=G(2),U=G(!1);function q(m=O=>O){let O=k.value!==null?S.value[k.value]:null,_=m(S.value.slice()),E=_.length>0&&_[0].dataRef.order.value!==null?_.sort(($,Y)=>$.dataRef.order.value-Y.dataRef.order.value):Wt(_,$=>W($.dataRef.domRef)),D=O?E.indexOf(O):null;return D===-1&&(D=null),{options:E,activeOptionIndex:D}}let H=z(()=>r.multiple?1:0),M=z(()=>r.nullable),[J,T]=fn(z(()=>r.modelValue),m=>s("update:modelValue",m),z(()=>r.defaultValue)),L=z(()=>J.value===void 0?me(H.value,{1:[],0:void 0}):J.value),Q=null,y=null;function j(m){return me(H.value,{0(){return T?.(m)},1:()=>{let O=ue(b.value.value).slice(),_=ue(m),E=O.findIndex(D=>b.compare(_,ue(D)));return E===-1?O.push(_):O.splice(E,1),T?.(O)}})}let F=z(()=>{});re([F],([m],[O])=>{if(b.virtual.value&&m&&O&&k.value!==null){let _=m.indexOf(O[k.value]);_!==-1?k.value=_:k.value=null}});let b={comboboxState:l,value:L,mode:H,compare(m,O){if(typeof r.by=="string"){let _=r.by;return m?.[_]===O?.[_]}return r.by===null?yn(m,O):r.by(m,O)},calculateIndex(m){return b.virtual.value?r.by===null?b.virtual.value.options.indexOf(m):b.virtual.value.options.findIndex(O=>b.compare(O,m)):S.value.findIndex(O=>b.compare(O.dataRef.value,m))},defaultValue:z(()=>r.defaultValue),nullable:M,immediate:z(()=>!1),virtual:z(()=>null),inputRef:h,labelRef:d,buttonRef:u,optionsRef:x,disabled:z(()=>r.disabled),options:S,change(m){T(m)},activeOptionIndex:z(()=>{if(U.value&&k.value===null&&(b.virtual.value?b.virtual.value.options.length>0:S.value.length>0)){if(b.virtual.value){let O=b.virtual.value.options.findIndex(_=>{var E;return!((E=b.virtual.value)!=null&&E.disabled(_))});if(O!==-1)return O}let m=S.value.findIndex(O=>!O.dataRef.disabled);if(m!==-1)return m}return k.value}),activationTrigger:V,optionsPropsRef:w,closeCombobox(){U.value=!1,!r.disabled&&l.value!==1&&(l.value=1,k.value=null)},openCombobox(){if(U.value=!0,!r.disabled&&l.value!==0){if(b.value.value){let m=b.calculateIndex(b.value.value);m!==-1&&(k.value=m)}l.value=0}},setActivationTrigger(m){V.value=m},goToOption(m,O,_){U.value=!1,Q!==null&&cancelAnimationFrame(Q),Q=requestAnimationFrame(()=>{if(r.disabled||x.value&&!w.value.static&&l.value===1)return;if(b.virtual.value){k.value=m===Z.Specific?O:st({focus:m},{resolveItems:()=>b.virtual.value.options,resolveActiveIndex:()=>{var $,Y;return(Y=($=b.activeOptionIndex.value)!=null?$:b.virtual.value.options.findIndex(le=>{var ae;return!((ae=b.virtual.value)!=null&&ae.disabled(le))}))!=null?Y:null},resolveDisabled:$=>b.virtual.value.disabled($),resolveId(){throw new Error("Function not implemented.")}}),V.value=_??2;return}let E=q();if(E.activeOptionIndex===null){let $=E.options.findIndex(Y=>!Y.dataRef.disabled);$!==-1&&(E.activeOptionIndex=$)}let D=m===Z.Specific?O:st({focus:m},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:$=>$.id,resolveDisabled:$=>$.dataRef.disabled});k.value=D,V.value=_??2,S.value=E.options})},selectOption(m){let O=S.value.find(E=>E.id===m);if(!O)return;let{dataRef:_}=O;j(_.value)},selectActiveOption(){if(b.activeOptionIndex.value!==null){if(b.virtual.value)j(b.virtual.value.options[b.activeOptionIndex.value]);else{let{dataRef:m}=S.value[b.activeOptionIndex.value];j(m.value)}b.goToOption(Z.Specific,b.activeOptionIndex.value)}},registerOption(m,O){let _=Vt({id:m,dataRef:O});if(b.virtual.value){S.value.push(_);return}y&&cancelAnimationFrame(y);let E=q(D=>(D.push(_),D));k.value===null&&b.isSelected(O.value.value)&&(E.activeOptionIndex=E.options.indexOf(_)),S.value=E.options,k.value=E.activeOptionIndex,V.value=2,E.options.some(D=>!W(D.dataRef.domRef))&&(y=requestAnimationFrame(()=>{let D=q();S.value=D.options,k.value=D.activeOptionIndex}))},unregisterOption(m,O){if(Q!==null&&cancelAnimationFrame(Q),O&&(U.value=!0),b.virtual.value){S.value=S.value.filter(E=>E.id!==m);return}let _=q(E=>{let D=E.findIndex($=>$.id===m);return D!==-1&&E.splice(D,1),E});S.value=_.options,k.value=_.activeOptionIndex,V.value=2},isSelected(m){return me(H.value,{0:()=>b.compare(ue(b.value.value),ue(m)),1:()=>ue(b.value.value).some(O=>b.compare(ue(O),ue(m)))})},isActive(m){return k.value===b.calculateIndex(m)}};$t([h,u,x],()=>b.closeCombobox(),z(()=>l.value===0)),ct(bt,b),Yt(z(()=>me(l.value,{0:Ae.Open,1:Ae.Closed})));let N=z(()=>{var m;return(m=W(h))==null?void 0:m.closest("form")});return he(()=>{re([N],()=>{if(!N.value||r.defaultValue===void 0)return;function m(){b.change(r.defaultValue)}return N.value.addEventListener("reset",m),()=>{var O;(O=N.value)==null||O.removeEventListener("reset",m)}},{immediate:!0})}),()=>{var m,O,_;let{name:E,disabled:D,form:$,...Y}=r,le={open:l.value===0,disabled:D,activeIndex:b.activeOptionIndex.value,activeOption:b.activeOptionIndex.value===null?null:b.virtual.value?b.virtual.value.options[(m=b.activeOptionIndex.value)!=null?m:0]:(_=(O=b.options.value[b.activeOptionIndex.value])==null?void 0:O.dataRef.value)!=null?_:null,value:L.value};return ze(ye,[...E!=null&&L.value!=null?mt({[E]:L.value}).map(([ae,Ie])=>ze(Lt,Xt({features:qt.Hidden,key:ae,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:$,disabled:D,name:ae,value:Ie}))):[],Pe({theirProps:{...i,...Ke(Y,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:le,slots:v,attrs:i,name:"Combobox"})])}}}),_n=Oe({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:r=>!0},setup(r,{emit:v,attrs:i,slots:s,expose:l}){var d;let h=(d=r.id)!=null?d:`headlessui-combobox-input-${Ue()}`,u=Se("ComboboxInput"),x=z(()=>ft(W(u.inputRef))),w={value:!1};l({el:u.inputRef,$el:u.inputRef});function S(){u.change(null);let y=W(u.optionsRef);y&&(y.scrollTop=0),u.goToOption(Z.Nothing)}let k=z(()=>{var y;let j=u.value.value;return W(u.inputRef)?typeof r.displayValue<"u"&&j!==void 0?(y=r.displayValue(j))!=null?y:"":typeof j=="string"?j:"":""});he(()=>{re([k,u.comboboxState,x],([y,j],[F,b])=>{if(w.value)return;let N=W(u.inputRef);N&&((b===0&&j===1||y!==F)&&(N.value=y),requestAnimationFrame(()=>{var m;if(w.value||!N||((m=x.value)==null?void 0:m.activeElement)!==N)return;let{selectionStart:O,selectionEnd:_}=N;Math.abs((_??0)-(O??0))===0&&O===0&&N.setSelectionRange(N.value.length,N.value.length)}))},{immediate:!0}),re([u.comboboxState],([y],[j])=>{if(y===0&&j===1){if(w.value)return;let F=W(u.inputRef);if(!F)return;let b=F.value,{selectionStart:N,selectionEnd:m,selectionDirection:O}=F;F.value="",F.value=b,O!==null?F.setSelectionRange(N,m,O):F.setSelectionRange(N,m)}})});let V=G(!1);function U(){V.value=!0}function q(){We().nextFrame(()=>{V.value=!1})}let H=pn();function M(y){switch(w.value=!0,H(()=>{w.value=!1}),y.key){case se.Enter:if(w.value=!1,u.comboboxState.value!==0||V.value)return;if(y.preventDefault(),y.stopPropagation(),u.activeOptionIndex.value===null){u.closeCombobox();return}u.selectActiveOption(),u.mode.value===0&&u.closeCombobox();break;case se.ArrowDown:return w.value=!1,y.preventDefault(),y.stopPropagation(),me(u.comboboxState.value,{0:()=>u.goToOption(Z.Next),1:()=>u.openCombobox()});case se.ArrowUp:return w.value=!1,y.preventDefault(),y.stopPropagation(),me(u.comboboxState.value,{0:()=>u.goToOption(Z.Previous),1:()=>{u.openCombobox(),ht(()=>{u.value.value||u.goToOption(Z.Last)})}});case se.Home:if(y.shiftKey)break;return w.value=!1,y.preventDefault(),y.stopPropagation(),u.goToOption(Z.First);case se.PageUp:return w.value=!1,y.preventDefault(),y.stopPropagation(),u.goToOption(Z.First);case se.End:if(y.shiftKey)break;return w.value=!1,y.preventDefault(),y.stopPropagation(),u.goToOption(Z.Last);case se.PageDown:return w.value=!1,y.preventDefault(),y.stopPropagation(),u.goToOption(Z.Last);case se.Escape:if(w.value=!1,u.comboboxState.value!==0)return;y.preventDefault(),u.optionsRef.value&&!u.optionsPropsRef.value.static&&y.stopPropagation(),u.nullable.value&&u.mode.value===0&&u.value.value===null&&S(),u.closeCombobox();break;case se.Tab:if(w.value=!1,u.comboboxState.value!==0)return;u.mode.value===0&&u.activationTrigger.value!==1&&u.selectActiveOption(),u.closeCombobox();break}}function J(y){v("change",y),u.nullable.value&&u.mode.value===0&&y.target.value===""&&S(),u.openCombobox()}function T(y){var j,F,b;let N=(j=y.relatedTarget)!=null?j:it.find(m=>m!==y.currentTarget);if(w.value=!1,!((F=W(u.optionsRef))!=null&&F.contains(N))&&!((b=W(u.buttonRef))!=null&&b.contains(N))&&u.comboboxState.value===0)return y.preventDefault(),u.mode.value===0&&(u.nullable.value&&u.value.value===null?S():u.activationTrigger.value!==1&&u.selectActiveOption()),u.closeCombobox()}function L(y){var j,F,b;let N=(j=y.relatedTarget)!=null?j:it.find(m=>m!==y.currentTarget);(F=W(u.buttonRef))!=null&&F.contains(N)||(b=W(u.optionsRef))!=null&&b.contains(N)||u.disabled.value||u.immediate.value&&u.comboboxState.value!==0&&(u.openCombobox(),We().nextFrame(()=>{u.setActivationTrigger(1)}))}let Q=z(()=>{var y,j,F,b;return(b=(F=(j=r.defaultValue)!=null?j:u.defaultValue.value!==void 0?(y=r.displayValue)==null?void 0:y.call(r,u.defaultValue.value):null)!=null?F:u.defaultValue.value)!=null?b:""});return()=>{var y,j,F,b,N,m,O;let _={open:u.comboboxState.value===0},{displayValue:E,onChange:D,...$}=r,Y={"aria-controls":(y=u.optionsRef.value)==null?void 0:y.id,"aria-expanded":u.comboboxState.value===0,"aria-activedescendant":u.activeOptionIndex.value===null?void 0:u.virtual.value?(j=u.options.value.find(le=>!u.virtual.value.disabled(le.dataRef.value)&&u.compare(le.dataRef.value,u.virtual.value.options[u.activeOptionIndex.value])))==null?void 0:j.id:(F=u.options.value[u.activeOptionIndex.value])==null?void 0:F.id,"aria-labelledby":(m=(b=W(u.labelRef))==null?void 0:b.id)!=null?m:(N=W(u.buttonRef))==null?void 0:N.id,"aria-autocomplete":"list",id:h,onCompositionstart:U,onCompositionend:q,onKeydown:M,onInput:J,onFocus:L,onBlur:T,role:"combobox",type:(O=i.type)!=null?O:"text",tabIndex:0,ref:u.inputRef,defaultValue:Q.value,disabled:u.disabled.value===!0?!0:void 0};return Pe({ourProps:Y,theirProps:$,slot:_,attrs:i,slots:s,features:De.RenderStrategy|De.Static,name:"ComboboxInput"})}}}),Rn=Oe({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(r,{attrs:v,slots:i,expose:s}){let l=Se("ComboboxOptions"),d=`headlessui-combobox-options-${Ue()}`;s({el:l.optionsRef,$el:l.optionsRef}),we(()=>{l.optionsPropsRef.value.static=r.static}),we(()=>{l.optionsPropsRef.value.hold=r.hold});let h=Zt(),u=z(()=>h!==null?(h.value&Ae.Open)===Ae.Open:l.comboboxState.value===0);gn({container:z(()=>W(l.optionsRef)),enabled:z(()=>l.comboboxState.value===0),accept(w){return w.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:w.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(w){w.setAttribute("role","none")}});function x(w){w.preventDefault()}return()=>{var w,S,k;let V={open:l.comboboxState.value===0},U={"aria-labelledby":(k=(w=W(l.labelRef))==null?void 0:w.id)!=null?k:(S=W(l.buttonRef))==null?void 0:S.id,id:d,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0,onMousedown:x},q=Ke(r,["hold"]);return Pe({ourProps:U,theirProps:q,slot:V,attrs:v,slots:l.virtual.value&&l.comboboxState.value===0?{...i,default:()=>[ze(In,{},i.default)]}:i,features:De.RenderStrategy|De.Static,visible:u.value,name:"ComboboxOptions"})}}}),Tn=Oe({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(r,{slots:v,attrs:i,expose:s}){let l=Se("ComboboxOption"),d=`headlessui-combobox-option-${Ue()}`,h=G(null),u=z(()=>r.disabled);s({el:h,$el:h});let x=z(()=>{var T;return l.virtual.value?l.activeOptionIndex.value===l.calculateIndex(r.value):l.activeOptionIndex.value===null?!1:((T=l.options.value[l.activeOptionIndex.value])==null?void 0:T.id)===d}),w=z(()=>l.isSelected(r.value)),S=dt(yt,null),k=z(()=>({disabled:r.disabled,value:r.value,domRef:h,order:z(()=>r.order)}));he(()=>l.registerOption(d,k)),Me(()=>l.unregisterOption(d,x.value)),we(()=>{let T=W(h);T&&S?.value.measureElement(T)}),we(()=>{l.comboboxState.value===0&&x.value&&(l.virtual.value||l.activationTrigger.value!==0&&ht(()=>{var T,L;return(L=(T=W(h))==null?void 0:T.scrollIntoView)==null?void 0:L.call(T,{block:"nearest"})}))});function V(T){T.preventDefault(),T.button===pt.Left&&(u.value||(l.selectOption(d),Kt()||requestAnimationFrame(()=>{var L;return(L=W(l.inputRef))==null?void 0:L.focus({preventScroll:!0})}),l.mode.value===0&&l.closeCombobox()))}function U(){var T;if(r.disabled||(T=l.virtual.value)!=null&&T.disabled(r.value))return l.goToOption(Z.Nothing);let L=l.calculateIndex(r.value);l.goToOption(Z.Specific,L)}let q=mn();function H(T){q.update(T)}function M(T){var L;if(!q.wasMoved(T)||r.disabled||(L=l.virtual.value)!=null&&L.disabled(r.value)||x.value)return;let Q=l.calculateIndex(r.value);l.goToOption(Z.Specific,Q,0)}function J(T){var L;q.wasMoved(T)&&(r.disabled||(L=l.virtual.value)!=null&&L.disabled(r.value)||x.value&&(l.optionsPropsRef.value.hold||l.goToOption(Z.Nothing)))}return()=>{let{disabled:T}=r,L={active:x.value,selected:w.value,disabled:T},Q={id:d,ref:h,role:"option",tabIndex:T===!0?void 0:-1,"aria-disabled":T===!0?!0:void 0,"aria-selected":w.value,disabled:void 0,onMousedown:V,onFocus:U,onPointerenter:H,onMouseenter:H,onPointermove:M,onMousemove:M,onPointerleave:J,onMouseleave:J},y=Ke(r,["order","value"]);return Pe({ourProps:Q,theirProps:y,slot:L,attrs:i,slots:v,name:"ComboboxOption"})}}});var Ge={exports:{}};const kn={},En=Object.freeze(Object.defineProperty({__proto__:null,default:kn},Symbol.toStringTag,{value:"Module"})),Mn=At(En);Ge.exports;(function(r){(function v(i){try{r&&(i=r)}catch{}i._factory=v;var s;function l(e){return typeof e<"u"?e:!0}function d(e){const t=Array(e);for(let n=0;n<e;n++)t[n]=h();return t}function h(){return Object.create(null)}function u(e,t){return t.length-e.length}function x(e){return typeof e=="string"}function w(e){return typeof e=="object"}function S(e){return typeof e=="function"}function k(e,t){var n=V;if(e&&(t&&(e=H(e,t)),this.H&&(e=H(e,this.H)),this.J&&1<e.length&&(e=H(e,this.J)),n||n==="")){if(t=e.split(n),this.filter){e=this.filter,n=t.length;const o=[];for(let a=0,c=0;a<n;a++){const p=t[a];p&&!e[p]&&(o[c++]=p)}e=o}else e=t;return e}return e}const V=/[\p{Z}\p{S}\p{P}\p{C}]+/u,U=/[\u0300-\u036f]/g;function q(e,t){const n=Object.keys(e),o=n.length,a=[];let c="",p=0;for(let f=0,g,C;f<o;f++)g=n[f],(C=e[g])?(a[p++]=M(t?"(?!\\b)"+g+"(\\b|_)":g),a[p++]=C):c+=(c?"|":"")+g;return c&&(a[p++]=M(t?"(?!\\b)("+c+")(\\b|_)":"("+c+")"),a[p]=""),a}function H(e,t){for(let n=0,o=t.length;n<o&&(e=e.replace(t[n],t[n+1]),e);n+=2);return e}function M(e){return new RegExp(e,"g")}function J(e){let t="",n="";for(let o=0,a=e.length,c;o<a;o++)(c=e[o])!==n&&(t+=n=c);return t}var T={encode:L,F:!1,G:""};function L(e){return k.call(this,(""+e).toLowerCase(),!1)}const Q={},y={};function j(e){F(e,"add"),F(e,"append"),F(e,"search"),F(e,"update"),F(e,"remove")}function F(e,t){e[t+"Async"]=function(){const n=this,o=arguments;var a=o[o.length-1];let c;return S(a)&&(c=a,delete o[o.length-1]),a=new Promise(function(p){setTimeout(function(){n.async=!0;const f=n[t].apply(n,o);n.async=!1,p(f)})}),c?(a.then(c),this):a}}function b(e,t,n,o){const a=e.length;let c=[],p,f,g=0;o&&(o=[]);for(let C=a-1;0<=C;C--){const R=e[C],K=R.length,P=h();let B=!p;for(let I=0;I<K;I++){const A=R[I],ne=A.length;if(ne)for(let oe=0,te,ee;oe<ne;oe++)if(ee=A[oe],p){if(p[ee]){if(!C){if(n)n--;else if(c[g++]=ee,g===t)return c}(C||o)&&(P[ee]=1),B=!0}if(o&&(te=(f[ee]||0)+1,f[ee]=te,te<a)){const be=o[te-2]||(o[te-2]=[]);be[be.length]=ee}}else P[ee]=1}if(o)p||(f=P);else if(!B)return[];p=P}if(o)for(let C=o.length-1,R,K;0<=C;C--){R=o[C],K=R.length;for(let P=0,B;P<K;P++)if(B=R[P],!p[B]){if(n)n--;else if(c[g++]=B,g===t)return c;p[B]=1}}return c}function N(e,t){const n=h(),o=h(),a=[];for(let c=0;c<e.length;c++)n[e[c]]=1;for(let c=0,p;c<t.length;c++){p=t[c];for(let f=0,g;f<p.length;f++)g=p[f],n[g]&&!o[g]&&(o[g]=1,a[a.length]=g)}return a}function m(e){this.l=e!==!0&&e,this.cache=h(),this.h=[]}function O(e,t,n){w(e)&&(e=e.query);let o=this.cache.get(e);return o||(o=this.search(e,t,n),this.cache.set(e,o)),o}m.prototype.set=function(e,t){if(!this.cache[e]){var n=this.h.length;for(n===this.l?delete this.cache[this.h[n-1]]:n++,--n;0<n;n--)this.h[n]=this.h[n-1];this.h[0]=e}this.cache[e]=t},m.prototype.get=function(e){const t=this.cache[e];if(this.l&&t&&(e=this.h.indexOf(e))){const n=this.h[e-1];this.h[e-1]=this.h[e],this.h[e]=n}return t};const _={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function E(e,t,n,o,a,c,p,f){setTimeout(function(){const g=e(n?n+"."+o:o,JSON.stringify(p));g&&g.then?g.then(function(){t.export(e,t,n,a,c+1,f)}):t.export(e,t,n,a,c+1,f)})}function D(e,t){if(!(this instanceof D))return new D(e);var n;if(e){x(e)?e=_[e]:(n=e.preset)&&(e=Object.assign({},n[n],e)),n=e.charset;var o=e.lang;x(n)&&(n.indexOf(":")===-1&&(n+=":default"),n=y[n]),x(o)&&(o=Q[o])}else e={};let a,c,p=e.context||{};if(this.encode=e.encode||n&&n.encode||L,this.register=t||h(),this.D=a=e.resolution||9,this.G=t=n&&n.G||e.tokenize||"strict",this.depth=t==="strict"&&p.depth,this.l=l(p.bidirectional),this.s=c=l(e.optimize),this.m=l(e.fastupdate),this.B=e.minlength||1,this.C=e.boost,this.map=c?d(a):h(),this.A=a=p.resolution||1,this.h=c?d(a):h(),this.F=n&&n.F||e.rtl,this.H=(t=e.matcher||o&&o.H)&&q(t,!1),this.J=(t=e.stemmer||o&&o.J)&&q(t,!0),n=t=e.filter||o&&o.filter){n=t,o=h();for(let f=0,g=n.length;f<g;f++)o[n[f]]=1;n=o}this.filter=n,this.cache=(t=e.cache)&&new m(t)}s=D.prototype,s.append=function(e,t){return this.add(e,t,!0)},s.add=function(e,t,n,o){if(t&&(e||e===0)){if(!o&&!n&&this.register[e])return this.update(e,t);if(t=this.encode(t),o=t.length){const C=h(),R=h(),K=this.depth,P=this.D;for(let B=0;B<o;B++){let I=t[this.F?o-1-B:B];var a=I.length;if(I&&a>=this.B&&(K||!R[I])){var c=$(P,o,B),p="";switch(this.G){case"full":if(2<a){for(c=0;c<a;c++)for(var f=a;f>c;f--)if(f-c>=this.B){var g=$(P,o,B,a,c);p=I.substring(c,f),Y(this,R,p,g,e,n)}break}case"reverse":if(1<a){for(f=a-1;0<f;f--)p=I[f]+p,p.length>=this.B&&Y(this,R,p,$(P,o,B,a,f),e,n);p=""}case"forward":if(1<a){for(f=0;f<a;f++)p+=I[f],p.length>=this.B&&Y(this,R,p,c,e,n);break}default:if(this.C&&(c=Math.min(c/this.C(t,I,B)|0,P-1)),Y(this,R,I,c,e,n),K&&1<o&&B<o-1){for(a=h(),p=this.A,c=I,f=Math.min(K+1,o-B),a[c]=1,g=1;g<f;g++)if((I=t[this.F?o-1-B-g:B+g])&&I.length>=this.B&&!a[I]){a[I]=1;const A=this.l&&I>c;Y(this,C,A?c:I,$(p+(o/2>p?0:1),o,B,f-1,g-1),e,n,A?I:c)}}}}}this.m||(this.register[e]=1)}}return this};function $(e,t,n,o,a){return n&&1<e?t+(o||0)<=e?n+(a||0):(e-1)/(t+(o||0))*(n+(a||0))+1|0:0}function Y(e,t,n,o,a,c,p){let f=p?e.h:e.map;(!t[n]||p&&!t[n][p])&&(e.s&&(f=f[o]),p?(t=t[n]||(t[n]=h()),t[p]=1,f=f[p]||(f[p]=h())):t[n]=1,f=f[n]||(f[n]=[]),e.s||(f=f[o]||(f[o]=[])),c&&f.includes(a)||(f[f.length]=a,e.m&&(e=e.register[a]||(e.register[a]=[]),e[e.length]=f)))}s.search=function(e,t,n){n||(!t&&w(e)?(n=e,e=n.query):w(t)&&(n=t));let o=[],a,c,p=0;if(n){e=n.query||e,t=n.limit,p=n.offset||0;var f=n.context;c=n.suggest}if(e&&(e=this.encode(""+e),a=e.length,1<a)){n=h();var g=[];for(let R=0,K=0,P;R<a;R++)if((P=e[R])&&P.length>=this.B&&!n[P])if(this.s||c||this.map[P])g[K++]=P,n[P]=1;else return o;e=g,a=e.length}if(!a)return o;t||(t=100),f=this.depth&&1<a&&f!==!1,n=0;let C;f?(C=e[0],n=1):1<a&&e.sort(u);for(let R,K;n<a;n++){if(K=e[n],f?(R=le(this,o,c,t,p,a===2,K,C),c&&R===!1&&o.length||(C=K)):R=le(this,o,c,t,p,a===1,K),R)return R;if(c&&n===a-1){if(g=o.length,!g){if(f){f=0,n=-1;continue}return o}if(g===1)return ae(o[0],t,p)}}return b(o,t,p,c)};function le(e,t,n,o,a,c,p,f){let g=[],C=f?e.h:e.map;if(e.s||(C=Ie(C,p,f,e.l)),C){let R=0;const K=Math.min(C.length,f?e.A:e.D);for(let P=0,B=0,I,A;P<K&&!((I=C[P])&&(e.s&&(I=Ie(I,p,f,e.l)),a&&I&&c&&(A=I.length,A<=a?(a-=A,I=null):(I=I.slice(a),a=0)),I&&(g[R++]=I,c&&(B+=I.length,B>=o))));P++);if(R){if(c)return ae(g,o,0);t[t.length]=g;return}}return!n&&g}function ae(e,t,n){return e=e.length===1?e[0]:[].concat.apply([],e),n||e.length>t?e.slice(n,n+t):e}function Ie(e,t,n,o){return n?(o=o&&t>n,e=(e=e[o?t:n])&&e[o?n:t]):e=e[t],e}s.contain=function(e){return!!this.register[e]},s.update=function(e,t){return this.remove(e).add(e,t)},s.remove=function(e,t){const n=this.register[e];if(n){if(this.m)for(let o=0,a;o<n.length;o++)a=n[o],a.splice(a.indexOf(e),1);else Ce(this.map,e,this.D,this.s),this.depth&&Ce(this.h,e,this.A,this.s);if(t||delete this.register[e],this.cache){t=this.cache;for(let o=0,a,c;o<t.h.length;o++)c=t.h[o],a=t.cache[c],a.includes(e)&&(t.h.splice(o--,1),delete t.cache[c])}}return this};function Ce(e,t,n,o,a){let c=0;if(e.constructor===Array)if(a)t=e.indexOf(t),t!==-1?1<e.length&&(e.splice(t,1),c++):c++;else{a=Math.min(e.length,n);for(let p=0,f;p<a;p++)(f=e[p])&&(c=Ce(f,t,n,o,a),o||c||delete e[p])}else for(let p in e)(c=Ce(e[p],t,n,o,a))||delete e[p];return c}s.searchCache=O,s.export=function(e,t,n,o,a,c){let p=!0;typeof c>"u"&&(p=new Promise(C=>{c=C}));let f,g;switch(a||(a=0)){case 0:if(f="reg",this.m){g=h();for(let C in this.register)g[C]=1}else g=this.register;break;case 1:f="cfg",g={doc:0,opt:this.s?1:0};break;case 2:f="map",g=this.map;break;case 3:f="ctx",g=this.h;break;default:typeof n>"u"&&c&&c();return}return E(e,t||this,n,f,o,a,g,c),p},s.import=function(e,t){if(t)switch(x(t)&&(t=JSON.parse(t)),e){case"cfg":this.s=!!t.opt;break;case"reg":this.m=!1,this.register=t;break;case"map":this.map=t;break;case"ctx":this.h=t}},j(D.prototype);function wt(e){e=e.data;var t=i._index;const n=e.args;var o=e.task;switch(o){case"init":o=e.options||{},e=e.factory,t=o.encode,o.cache=!1,t&&t.indexOf("function")===0&&(o.encode=Function("return "+t)()),e?(Function("return "+e)()(i),i._index=new i.FlexSearch.Index(o),delete i.FlexSearch):i._index=new D(o);break;default:e=e.id,t=t[o].apply(t,n),postMessage(o==="search"?{id:e,msg:t}:{id:e})}}let He=0;function fe(e){if(!(this instanceof fe))return new fe(e);var t;e?S(t=e.encode)&&(e.encode=t.toString()):e={},(t=(i||window)._factory)&&(t=t.toString());const n=typeof window>"u"&&i.exports,o=this;this.o=Ot(t,n,e.worker),this.h=h(),this.o&&(n?this.o.on("message",function(a){o.h[a.id](a.msg),delete o.h[a.id]}):this.o.onmessage=function(a){a=a.data,o.h[a.id](a.msg),delete o.h[a.id]},this.o.postMessage({task:"init",factory:t,options:e}))}ge("add"),ge("append"),ge("search"),ge("update"),ge("remove");function ge(e){fe.prototype[e]=fe.prototype[e+"Async"]=function(){const t=this,n=[].slice.call(arguments);var o=n[n.length-1];let a;return S(o)&&(a=o,n.splice(n.length-1,1)),o=new Promise(function(c){setTimeout(function(){t.h[++He]=c,t.o.postMessage({task:e,id:He,args:n})})}),a?(o.then(a),this):o}}function Ot(e,t,n){let o;try{o=t?new Mn.Worker(__dirname+"/node/node.js"):e?new Worker(URL.createObjectURL(new Blob(["onmessage="+wt.toString()],{type:"text/javascript"}))):new Worker(x(n)?n:"worker/worker.js",{type:"module"})}catch{}return o}function xe(e){if(!(this instanceof xe))return new xe(e);var t=e.document||e.doc||e,n;this.K=[],this.h=[],this.A=[],this.register=h(),this.key=(n=t.key||t.id)&&_e(n,this.A)||"id",this.m=l(e.fastupdate),this.C=(n=t.store)&&n!==!0&&[],this.store=n&&h(),this.I=(n=t.tag)&&_e(n,this.A),this.l=n&&h(),this.cache=(n=e.cache)&&new m(n),e.cache=!1,this.o=e.worker,this.async=!1,n=h();let o=t.index||t.field||t;x(o)&&(o=[o]);for(let a=0,c,p;a<o.length;a++)c=o[a],x(c)||(p=c,c=c.field),p=w(p)?Object.assign({},e,p):e,this.o&&(n[c]=new fe(p),n[c].o||(this.o=!1)),this.o||(n[c]=new D(p,this.register)),this.K[a]=_e(c,this.A),this.h[a]=c;if(this.C)for(e=t.store,x(e)&&(e=[e]),t=0;t<e.length;t++)this.C[t]=_e(e[t],this.A);this.index=n}function _e(e,t){const n=e.split(":");let o=0;for(let a=0;a<n.length;a++)e=n[a],0<=e.indexOf("[]")&&(e=e.substring(0,e.length-2))&&(t[o]=!0),e&&(n[o++]=e);return o<n.length&&(n.length=o),1<o?n:n[0]}function Fe(e,t){if(x(t))e=e[t];else for(let n=0;e&&n<t.length;n++)e=e[t[n]];return e}function Be(e,t,n,o,a){if(e=e[a],o===n.length-1)t[a]=e;else if(e)if(e.constructor===Array)for(t=t[a]=Array(e.length),a=0;a<e.length;a++)Be(e,t,n,o,a);else t=t[a]||(t[a]=h()),a=n[++o],Be(e,t,n,o,a)}function Ve(e,t,n,o,a,c,p,f){if(e=e[p])if(o===t.length-1){if(e.constructor===Array){if(n[o]){for(t=0;t<e.length;t++)a.add(c,e[t],!0,!0);return}e=e.join(" ")}a.add(c,e,f,!0)}else if(e.constructor===Array)for(p=0;p<e.length;p++)Ve(e,t,n,o,a,c,p,f);else p=t[++o],Ve(e,t,n,o,a,c,p,f)}s=xe.prototype,s.add=function(e,t,n){if(w(e)&&(t=e,e=Fe(t,this.key)),t&&(e||e===0)){if(!n&&this.register[e])return this.update(e,t);for(let o=0,a,c;o<this.h.length;o++)c=this.h[o],a=this.K[o],x(a)&&(a=[a]),Ve(t,a,this.A,0,this.index[c],e,a[0],n);if(this.I){let o=Fe(t,this.I),a=h();x(o)&&(o=[o]);for(let c=0,p,f;c<o.length;c++)if(p=o[c],!a[p]&&(a[p]=1,f=this.l[p]||(this.l[p]=[]),!n||!f.includes(e))&&(f[f.length]=e,this.m)){const g=this.register[e]||(this.register[e]=[]);g[g.length]=f}}if(this.store&&(!n||!this.store[e])){let o;if(this.C){o=h();for(let a=0,c;a<this.C.length;a++)c=this.C[a],x(c)?o[c]=t[c]:Be(t,o,c,0,c[0])}this.store[e]=o||t}}return this},s.append=function(e,t){return this.add(e,t,!0)},s.update=function(e,t){return this.remove(e).add(e,t)},s.remove=function(e){if(w(e)&&(e=Fe(e,this.key)),this.register[e]){for(var t=0;t<this.h.length&&(this.index[this.h[t]].remove(e,!this.o),!this.m);t++);if(this.I&&!this.m)for(let n in this.l){t=this.l[n];const o=t.indexOf(e);o!==-1&&(1<t.length?t.splice(o,1):delete this.l[n])}this.store&&delete this.store[e],delete this.register[e]}return this},s.search=function(e,t,n,o){n||(!t&&w(e)?(n=e,e=""):w(t)&&(n=t,t=0));let a=[],c=[],p,f,g,C,R,K,P=0;if(n)if(n.constructor===Array)g=n,n=null;else{if(e=n.query||e,g=(p=n.pluck)||n.index||n.field,C=n.tag,f=this.store&&n.enrich,R=n.bool==="and",t=n.limit||t||100,K=n.offset||0,C&&(x(C)&&(C=[C]),!e)){for(let I=0,A;I<C.length;I++)(A=St.call(this,C[I],t,K,f))&&(a[a.length]=A,P++);return P?a:[]}x(g)&&(g=[g])}g||(g=this.h),R=R&&(1<g.length||C&&1<C.length);const B=!o&&(this.o||this.async)&&[];for(let I=0,A,ne,oe;I<g.length;I++){let te;if(ne=g[I],x(ne)||(te=ne,ne=te.field,e=te.query||e,t=te.limit||t,f=te.enrich||f),B)B[I]=this.index[ne].searchAsync(e,t,te||n);else{if(o?A=o[I]:A=this.index[ne].search(e,t,te||n),oe=A&&A.length,C&&oe){const ee=[];let be=0;R&&(ee[0]=[A]);for(let $e=0,et,Re;$e<C.length;$e++)et=C[$e],(oe=(Re=this.l[et])&&Re.length)&&(be++,ee[ee.length]=R?[Re]:Re);be&&(A=R?b(ee,t||100,K||0):N(A,ee),oe=A.length)}if(oe)c[P]=ne,a[P++]=A;else if(R)return[]}}if(B){const I=this;return new Promise(function(A){Promise.all(B).then(function(ne){A(I.search(e,t,n,ne))})})}if(!P)return[];if(p&&(!f||!this.store))return a[0];for(let I=0,A;I<c.length;I++){if(A=a[I],A.length&&f&&(A=Je.call(this,A)),p)return A;a[I]={field:c[I],result:A}}return a};function St(e,t,n,o){let a=this.l[e],c=a&&a.length-n;if(c&&0<c)return(c>t||n)&&(a=a.slice(n,n+t)),o&&(a=Je.call(this,a)),{tag:e,result:a}}function Je(e){const t=Array(e.length);for(let n=0,o;n<e.length;n++)o=e[n],t[n]={id:o,doc:this.store[o]};return t}s.contain=function(e){return!!this.register[e]},s.get=function(e){return this.store[e]},s.set=function(e,t){return this.store[e]=t,this},s.searchCache=O,s.export=function(e,t,n,o,a,c){let p;if(typeof c>"u"&&(p=new Promise(f=>{c=f})),a||(a=0),o||(o=0),o<this.h.length){const f=this.h[o],g=this.index[f];t=this,setTimeout(function(){g.export(e,t,a?f:"",o,a++,c)||(o++,a=1,t.export(e,t,f,o,a,c))})}else{let f,g;switch(a){case 1:f="tag",g=this.l,n=null;break;case 2:f="store",g=this.store,n=null;break;default:c();return}E(e,this,n,f,o,a,g,c)}return p},s.import=function(e,t){if(t)switch(x(t)&&(t=JSON.parse(t)),e){case"tag":this.l=t;break;case"reg":this.m=!1,this.register=t;for(let o=0,a;o<this.h.length;o++)a=this.index[this.h[o]],a.register=t,a.m=!1;break;case"store":this.store=t;break;default:e=e.split(".");const n=e[0];e=e[1],n&&e&&this.index[n].import(e,t)}},j(xe.prototype);var It={encode:Ye,F:!1,G:""};const Ct=[M("[àáâãäå]"),"a",M("[èéêë]"),"e",M("[ìíîï]"),"i",M("[òóôõöő]"),"o",M("[ùúûüű]"),"u",M("[ýŷÿ]"),"y",M("ñ"),"n",M("[çc]"),"k",M("ß"),"s",M(" & ")," and "];function Ye(e){var t=e=""+e;return t.normalize&&(t=t.normalize("NFD").replace(U,"")),k.call(this,t.toLowerCase(),!e.normalize&&Ct)}var _t={encode:Ze,F:!1,G:"strict"};const Rt=/[^a-z0-9]+/,Xe={b:"p",v:"f",w:"f",z:"s",x:"s",ß:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Ze(e){e=Ye.call(this,e).join(" ");const t=[];if(e){const n=e.split(Rt),o=n.length;for(let a=0,c,p=0;a<o;a++)if((e=n[a])&&(!this.filter||!this.filter[e])){c=e[0];let f=Xe[c]||c,g=f;for(let C=1;C<e.length;C++){c=e[C];const R=Xe[c]||c;R&&R!==g&&(f+=R,g=R)}t[p++]=f}}return t}var Tt={encode:Qe,F:!1,G:""};const kt=[M("ae"),"a",M("oe"),"o",M("sh"),"s",M("th"),"t",M("ph"),"f",M("pf"),"f",M("(?![aeo])h(?![aeo])"),"",M("(?!^[aeo])h(?!^[aeo])"),""];function Qe(e,t){return e&&(e=Ze.call(this,e).join(" "),2<e.length&&(e=H(e,kt)),t||(1<e.length&&(e=J(e)),e&&(e=e.split(" ")))),e||[]}var Et={encode:zt,F:!1,G:""};const Mt=M("(?!\\b)[aeo]");function zt(e){return e&&(e=Qe.call(this,e,!0),1<e.length&&(e=e.replace(Mt,"")),1<e.length&&(e=J(e)),e&&(e=e.split(" "))),e||[]}y["latin:default"]=T,y["latin:simple"]=It,y["latin:balance"]=_t,y["latin:advanced"]=Tt,y["latin:extra"]=Et;const je={Index:D,Document:xe,Worker:fe,registerCharset:function(e,t){y[e]=t},registerLanguage:function(e,t){Q[e]=t}};let Ne;(Ne=i.define)&&Ne.amd?Ne([],function(){return je}):i.exports?i.exports=je:i.FlexSearch=je})(Dt)})(Ge);var zn=Ge.exports;const rt=Pt(zn),An={__name:"CommandPalette",props:{isOpen:Boolean},emits:["close"],setup(r,{expose:v,emit:i}){v();let s={};const l=new rt.Document({tokenize:"full",document:{id:"id",index:["title","description","href"]}}),d=G(""),h=G(void 0),u=i,x=z(()=>{if(d.value==="")return[];const S=l.search(d.value);return Array.from(new Set(S.map(V=>V.result).flat())).map(V=>s[V])});he(async()=>{s=await(await fetch("/index-data.json")).json(),Object.entries(s).forEach(([S,k])=>l.add({id:S,...k}))}),re(h,()=>{h.value&&(u("close"),window.location.href=h.value.href)});const w={get data(){return s},set data(S){s=S},index:l,query:d,selected:h,emit:u,results:x,ref:G,watch:re,computed:z,onMounted:he,get TransitionRoot(){return Ut},get TransitionChild(){return Gt},get Dialog(){return Ht},get DialogPanel(){return Jt},get Combobox(){return Cn},get ComboboxInput(){return _n},get ComboboxOptions(){return Rn},get ComboboxOption(){return Tn},Search:at,get flexsearch(){return rt}};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}},Dn={class:"fixed inset-0 overflow-y-auto backdrop-blur-sm"},Pn={class:"relative mt-1 w-full"},Fn={class:"flex w-full cursor-default items-center space-x-2 overflow-hidden rounded-lg bg-white text-left text-sm shadow-md p-squish-2 focus:outline-none"},Bn={for:"query-input"},Vn={key:0,class:"relative cursor-default select-none px-4 py-2"},jn=["href"],Nn={class:"w-full truncate"},$n={class:"block truncate font-medium text-content-secondary"},Ln={class:"block truncate text-content-tertiary"},qn={class:"mt-2 truncate text-content-tertiary"},Wn={class:"capitalize"},Kn={key:0};function Un(r,v,i,s,l,d){return ie(),ke(s.TransitionRoot,{appear:"",show:!0,as:"template"},{default:ce(()=>[de(s.Dialog,{as:"div",class:"relative z-10",onClose:v[3]||(v[3]=h=>r.$emit("close"))},{default:ce(()=>[de(s.TransitionChild,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ce(()=>v[4]||(v[4]=[X("div",{class:"fixed inset-0 bg-black/50"},null,-1)])),_:1}),X("div",Dn,[de(s.DialogPanel,{class:"mx-auto mt-[10vh] flex max-w-3xl justify-center p-4"},{default:ce(()=>[de(s.Combobox,{modelValue:s.selected,"onUpdate:modelValue":v[2]||(v[2]=h=>s.selected=h)},{default:ce(()=>[X("div",Pn,[X("form",Fn,[X("label",Bn,[de(s.Search,{class:"left-4 w-6"})]),de(s.ComboboxInput,{id:"query-input",class:"w-full border-none text-sm leading-5 text-gray-900 outline-none",placeholder:"Search...",onChange:v[0]||(v[0]=h=>s.query=h.target.value)})]),de(s.TransitionRoot,{leave:"transition ease-in duration-100","leave-from":"opacity-100","leave-to":"opacity-0",onAfterLeave:v[1]||(v[1]=h=>s.query="")},{default:ce(()=>[s.query!==""?(ie(),ke(s.ComboboxOptions,{key:0,class:"absolute mt-1 max-h-[65vh] w-full overflow-auto rounded-md bg-white py-1 text-sm shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:ce(()=>[s.results.length===0?(ie(),pe("div",Vn," Nothing found. ")):Ee("",!0),(ie(!0),pe(ye,null,nt(s.results,(h,u)=>(ie(),ke(s.ComboboxOption,{key:u,as:"template",value:h},{default:ce(({active:x})=>[X("li",{class:Nt(["relative cursor-default select-none px-4 py-2",{"bg-surface-secondary":x}])},[X("a",{class:"flex items-center space-x-4",href:h.href},[X("div",Nn,[X("span",$n,Le(h.title),1),X("p",Ln,Le(h.description),1),X("div",qn,[(ie(!0),pe(ye,null,nt(h.path,(w,S)=>(ie(),pe(ye,null,[X("span",Wn,Le(w),1),S<h.path.length-1?(ie(),pe("span",Kn," / ")):Ee("",!0)],64))),256))])])],8,jn)],2)]),_:2},1032,["value"]))),128))]),_:1})):Ee("",!0)]),_:1})])]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})}const Gn=ut(An,[["render",Un]]),Hn={__name:"SiteSearch",setup(r,{expose:v}){v();const i=G(!1);he(()=>window.addEventListener("keydown",s)),Me(()=>window.removeEventListener("keydown",s));function s(x){x.key==="/"&&(h(),x.preventDefault())}function l(){i.value=!0}function d(){i.value=!1}function h(){i.value=!i.value}const u={isOpen:i,onKeyDown:s,openCommandPalette:l,closeCommandPalette:d,toggleCommandPalette:h,ref:G,onMounted:he,onUnmounted:Me,SearchLogo:at,CommandPalette:Gn};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}};function Jn(r,v,i,s,l,d){return ie(),pe(ye,null,[X("button",{class:"flex h-10 items-center space-x-3 overflow-hidden rounded-none border-gray-300 bg-white p-0 text-left ring-0 focus:outline-none focus:ring-0 md:mr-4 md:w-80 md:rounded-lg md:border md:px-4 md:pr-0 md:shadow-sm",onClick:s.openCommandPalette},[de(s.SearchLogo,{class:"size-6 md:size-4"}),v[0]||(v[0]=X("span",{class:"hidden flex-auto text-gray-500 md:flex"},"Search",-1)),v[1]||(v[1]=X("kbd",{class:"hidden aspect-square h-full items-center justify-center bg-gray-50 font-sans text-sm font-medium leading-5 text-gray-700 md:flex"},[X("abbr",{title:"Command",class:"no-underline"},"/ ")],-1))]),s.isOpen?(ie(),ke(s.CommandPalette,{key:0,onClose:s.closeCommandPalette})):Ee("",!0)],64)}const ni=ut(Hn,[["render",Jn]]);export{ni as default};
