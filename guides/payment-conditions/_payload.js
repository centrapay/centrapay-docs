export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z){return {data:{"content-query-XcdAXjoyb6":{_path:"\u002Fguides\u002Fpayment-conditions",_dir:"guides",_draft:v,_partial:v,_locale:"en",_empty:v,title:D,description:"Some Asset Types such as tokens or closed-loop cards may require conditional operator approval. Merchant integrations are required to support Payment Conditions for these asset types in order for them to be accepted for payment.",body:{type:"root",children:[{type:a,tag:o,props:{},children:[{type:b,value:"Some "},{type:a,tag:g,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fasset-types",rel:[h]},children:[{type:b,value:"Asset Types"}]},{type:b,value:" such as tokens or closed-loop cards may require conditional operator approval. Merchant integrations are required to support "},{type:a,tag:g,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#payment-condition",rel:[h]},children:[{type:b,value:D}]},{type:b,value:" for these asset types in order for them to be accepted for payment."}]},{type:a,tag:o,props:{},children:[{type:b,value:"Examples of Payment Conditions include:"}]},{type:a,tag:E,props:{},children:[{type:a,tag:k,props:{},children:[{type:b,value:"The merchant needs to confirm proof of identification for age-restricted purchases."}]},{type:a,tag:k,props:{},children:[{type:b,value:"The merchant needs to confirm that a promotional item was purchased."}]},{type:a,tag:k,props:{},children:[{type:b,value:"The patron needs to confirm the payment from their Centrapay integrated app."}]}]},{type:a,tag:F,props:{},children:[{type:a,tag:G,props:{id:H},children:[{type:b,value:I}]},{type:a,tag:o,props:{},children:[{type:b,value:"In order to support Payment Conditions, the merchant integration must extend Centrapay's payment protocol by "},{type:a,tag:g,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#create-a-payment-request",rel:[h]},children:[{type:b,value:"creating the Payment Request"}]},{type:b,value:" with the "},{type:a,tag:l,props:{},children:[{type:b,value:"conditionsEnabled"}]},{type:b,value:" flag set to true."}]},{type:a,tag:o,props:{},children:[{type:b,value:"The example flow below assumes that the merchant integration has first connected with the Patron when "},{type:a,tag:g,props:{href:"\u002Fguides\u002Frequesting-payment"},children:[{type:b,value:"Requesting Payment"}]},{type:b,value:w},{type:a,tag:g,props:{href:"\u002Fguides\u002Fmerchant-integration-qr-code-flow"},children:[{type:b,value:"QR Code Flow for Merchants"}]},{type:b,value:" or the "},{type:a,tag:g,props:{href:"\u002Fguides\u002Fmerchant-integration-barcode-flow"},children:[{type:b,value:"Barcode Flow for Merchants"}]},{type:b,value:x}]},{type:a,tag:J,props:{code:"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron-\u003E\u003EPOS: Connect with Patron\n\n    POS-\u003E\u003ECentrapay: Create Payment Request (with conditionsEnabled = true)\n\n    loop Poll for Payment Confirmation\n        POS-\u003E\u003ECentrapay: Get Payment Request\n\n        alt Pending Condition Exists\n            note over POS: ❓ Prompt Merchant to Accept or Decline Condition\n            note over Patron: Inform Patron of Condition\n            POS-\u003E\u003ECentrapay: Merchant Accepts Condition\n        else Payment Request status is paid\n            note over POS: Stop Polling for Confirmation\n        end\n    end\n\n    note over POS: ✅ Display Successful Payment\n    note over Patron: ✅ Display Successful Payment\n",language:"mermaid",meta:null},children:[{type:a,tag:"pre",props:{},children:[{type:a,tag:J,props:{__ignoreMap:K},children:[{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:f},children:[{type:b,value:"sequenceDiagram"}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"autonumber"}]}]},{type:a,tag:c,props:{class:e},children:[]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:j}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:L}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:j}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:p}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:j}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:q}]}]},{type:a,tag:c,props:{class:e},children:[]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:p}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:j}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"Connect with Patron"}]}]},{type:a,tag:c,props:{class:e},children:[]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:p}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:j}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"Create Payment Request (with conditionsEnabled = true)"}]}]},{type:a,tag:c,props:{class:e},children:[]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"loop"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:j}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"Poll for Payment Confirmation"}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:p}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:j}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"Get Payment Request"}]}]},{type:a,tag:c,props:{class:e},children:[]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"alt"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:j}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"Pending Condition Exists"}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"            note over POS: ❓ Prompt Merchant to Accept or Decline Condition"}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"            note over Patron: Inform Patron of Condition"}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"            "}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:p}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:j}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"Merchant Accepts Condition"}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"else"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:j}]},{type:a,tag:c,props:{class:n},children:[{type:b,value:"Payment Request status is paid"}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"            note over POS: Stop Polling for Confirmation"}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:M}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:M}]}]},{type:a,tag:c,props:{class:e},children:[]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    note over POS: ✅ Display Successful Payment"}]}]},{type:a,tag:c,props:{class:e},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    note over Patron: ✅ Display Successful Payment"}]}]}]}]}]},{type:a,tag:o,props:{},children:[{type:b,value:"When Payment Conditions are present on a "},{type:a,tag:g,props:{href:N,rel:[h]},children:[{type:b,value:O}]},{type:b,value:", merchant integrations and consumer apps need to negotiate them with their respective parties using the "},{type:a,tag:l,props:{},children:[{type:b,value:"status"}]},{type:b,value:" of each condition."}]},{type:a,tag:"ol",props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:z,props:{},children:[{type:b,value:"Prompt"}]},{type:a,tag:u,props:{},children:[]},{type:b,value:"Merchant integrations should prompt the terminal operator to "},{type:a,tag:g,props:{href:A,rel:[h]},children:[{type:b,value:P}]},{type:b,value:B},{type:a,tag:g,props:{href:C,rel:[h]},children:[{type:b,value:Q}]},{type:b,value:R},{type:a,tag:l,props:{},children:[{type:b,value:S}]},{type:b,value:x},{type:a,tag:u,props:{},children:[]},{type:b,value:"Consumer apps should inform the Patron to "},{type:a,tag:g,props:{href:A,rel:[h]},children:[{type:b,value:P}]},{type:b,value:B},{type:a,tag:g,props:{href:C,rel:[h]},children:[{type:b,value:Q}]},{type:b,value:R},{type:a,tag:l,props:{},children:[{type:b,value:T}]},{type:b,value:x}]},{type:a,tag:k,props:{},children:[{type:a,tag:z,props:{},children:[{type:b,value:"Inform"}]},{type:a,tag:u,props:{},children:[]},{type:b,value:"Merchant integrations should inform the terminal operator of any conditions that have status "},{type:a,tag:l,props:{},children:[{type:b,value:T}]},{type:b,value:w},{type:a,tag:l,props:{},children:[{type:b,value:U}]},{type:b,value:V},{type:a,tag:u,props:{},children:[]},{type:b,value:"Consumer apps should inform the Patron of any conditions that have status "},{type:a,tag:l,props:{},children:[{type:b,value:S}]},{type:b,value:w},{type:a,tag:l,props:{},children:[{type:b,value:U}]},{type:b,value:V}]},{type:a,tag:k,props:{},children:[{type:a,tag:z,props:{},children:[{type:b,value:"Repeat"}]},{type:b,value:" the above steps when polling shows conditions have changed."}]}]}]},{type:a,tag:F,props:{},children:[{type:a,tag:G,props:{id:W},children:[{type:b,value:X}]},{type:a,tag:o,props:{},children:[{type:b,value:"The payment request status must always be polled after "},{type:a,tag:g,props:{href:A,rel:[h]},children:[{type:b,value:"accepting"}]},{type:b,value:B},{type:a,tag:g,props:{href:C,rel:[h]},children:[{type:b,value:"declining"}]},{type:b,value:" a condition as these actions may trigger the additional behaviors below."}]},{type:a,tag:E,props:{},children:[{type:a,tag:k,props:{},children:[{type:b,value:"Conditions can be linked such that they are added or voided due to state changes on the "},{type:a,tag:g,props:{href:N,rel:[h]},children:[{type:b,value:O}]},{type:b,value:". Note that accepting or declining a voided condition will fail."}]},{type:a,tag:k,props:{},children:[{type:b,value:"The "},{type:a,tag:g,props:{href:"\u002Fguides\u002Fpatron-not-present"},children:[{type:b,value:"Patron Not Present extension"}]},{type:b,value:" may prevent the presentation of conditions that are impossible to satisfy such as checking photo ID."}]}]}]},{type:a,tag:"style",children:[{type:b,value:".ct-50c166{color:#0A3069}\n.ct-5b3414{color:#953800}\n.ct-6792ed{color:#24292F}\n.ct-14410a{color:#CF222E}"}]}],toc:{title:K,searchDepth:Y,depth:Y,links:[{id:H,depth:Z,text:I},{id:W,depth:Z,text:X}]}},_type:"markdown",_id:"content:guides:payment-conditions.md",_source:"content",_file:"guides\u002Fpayment-conditions.md",_extension:"md"}},prerenderedAt:void 0}}("element","text","span","ct-6792ed","line","ct-14410a","a","nofollow","ct-5b3414"," ","li","code-inline","    ","ct-50c166","p","POS","Centrapay","-\u003E\u003E",":","        ","br",false," using the ",".","participant","strong","https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#accept-payment-condition-for-a-payment-request-experimental"," or ","https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#decline-payment-condition-for-a-payment-request-experimental","Payment Conditions","ul","section","h2","implementation","Implementation","code","","Patron","end","https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#payment-request","Payment Request","accept","decline"," any conditions that have status ","awaiting-merchant","awaiting-patron","message"," provided with the condition.","additional-behaviors","Additional Behaviors",4,2))