<!DOCTYPE html>
<html >
<head><title>Requesting Payment</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="referrer" content="no-referrer-when-downgrade">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" crossorigin="anonymous">
<script type="text/javascript" charset="utf-8">
        window.fwSettings={
        'widget_id':51000002960
        };
        !function(){if("function"!="undefined".FreshworksWidget){var n=function(){n.q.push(arguments)};n.q=[],window.FreshworksWidget=n}}()
      </script>
<script src="https://aus-widget.freshworks.com/widgets/51000002960.js" defer="" async="" type="text/javascript"></script>
<script type="text/javascript" charset="utf-8">
        (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:3333046,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
      </script>
<meta name="description" content="Centrapay’s payment protocol requires a merchant integration to connect with the Patron in order to create a Payment Request; and poll it for payment confirmation."><link rel="modulepreload" href="/guides/requesting-payment/_payload.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/entry.a062efc0.js"><link rel="preload" as="style" href="/nuxt/entry.6de78532.css"><link rel="modulepreload" as="script" crossorigin href="/nuxt/Receipt.9b8dad6f.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/Connections.8ede0bf5.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/Settings.2dc71753.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/_...slug_.304b14b6.js"><link rel="preload" as="style" href="/nuxt/Layout.cb0cecc9.css"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ContentDoc.e96cc8eb.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ContentRenderer.93000f6f.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ContentRendererMarkdown.3799d2c2.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/index.79d08244.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/_commonjsHelpers.a192a79e.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ContentQuery.3a5c4d4d.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/asyncData.5cf63baf.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/Layout.4e54a57d.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/Prose.ac2450a7.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/TwitterLogo.6b4b577a.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/LinkedInLogo.2800bc76.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/GithubLogo.f41c3fac.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseP.24270d2c.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseA.d9ba0380.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ExternalLink.da9092a4.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseH2.18360d76.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseOl.d91e06ba.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseLi.8d8b13e8.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseH3.8d09f0cb.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseTable.077314b8.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseThead.9a7b2102.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseTr.bcf63876.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseTh.7f23fa08.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseTbody.f78db028.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseTd.110ecd00.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseCodeInline.48982882.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseCode.453d3845.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/Checkmark.6319db9a.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/Clipboard.f29b815d.js"><link rel="modulepreload" as="script" crossorigin href="/nuxt/ProseUl.e7c607c4.js"><link rel="prefetch" as="image" type="image/jpeg" href="/nuxt/countryside.357b355f.jpg"><link rel="prefetch" as="script" crossorigin href="/nuxt/client-db.80524401.js"><link rel="prefetch" as="script" crossorigin href="/nuxt/web-socket.05df0a09.js"><link rel="prefetch" as="script" crossorigin href="/nuxt/error-component.a0b716e3.js"><link rel="stylesheet" href="/nuxt/entry.6de78532.css"><link rel="stylesheet" href="/nuxt/Layout.cb0cecc9.css"><style>.router-link-active[data-v-564c8636]{--tw-bg-opacity:1;background-color:rgb(249 250 251/var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(17 24 39/var(--tw-text-opacity))}</style><style>html{scroll-behavior:smooth}</style><style>pre code .line{display:block;min-height:1rem}pre{margin-bottom:0}</style></head>
<body ><div id="__nuxt"><div class="flex flex-col min-h-screen"><div class="min-h-full"><!----><div class="fixed bg-white inset-x-0 z-10 flex h-16 flex-shrink-0 shadow"><div class="flex w-full justify-between md:hidden"><div type="button" class="flex items-center pl-6 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring"><div><span class="sr-only">Open sidebar</span><svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" class="text-content-tertiary"><path d="M2.25 18.003H21.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.25 12.003H21.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.25 6.00299H21.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div><a href="/" class="flex items-center justify-center h-16 w-16 bg-brand-primary focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring"><svg width="24" height="24" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="text-content-on-color icon-2xl"><path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M12 3H14.25C17.9559 3 20.9689 6.0625 21 9.75C21 13.5 17.987 16.5 14.25 16.5H12V12.0026H9.75C8.50433 12.0026 7.46886 13.0058 7.5 14.25C7.5 15.4942 8.50433 16.5 9.75 16.5H12V20.9922L9.75 21C6.01298 21 3 17.9827 3 14.25C3 10.5173 6.01298 7.5 9.75 7.5H12V12H14.25C15.4957 12 16.4998 11 16.4998 9.75C16.4998 8.5 15.4957 7.5 14.25 7.5H12V3Z"></path></svg></a></div><div class="hidden md:flex md:flex-1 md:justify-between md:py-3"><div class="flex items-center"><a href="/" class="flex items-center justify-center h-16 w-16 bg-brand-primary focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring"><svg width="24" height="24" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="text-content-on-color icon-2xl"><path fill-rule="evenodd" clip-rule="evenodd" fill="currentColor" d="M12 3H14.25C17.9559 3 20.9689 6.0625 21 9.75C21 13.5 17.987 16.5 14.25 16.5H12V12.0026H9.75C8.50433 12.0026 7.46886 13.0058 7.5 14.25C7.5 15.4942 8.50433 16.5 9.75 16.5H12V20.9922L9.75 21C6.01298 21 3 17.9827 3 14.25C3 10.5173 6.01298 7.5 9.75 7.5H12V12H14.25C15.4957 12 16.4998 11 16.4998 9.75C16.4998 8.5 15.4957 7.5 14.25 7.5H12V3Z"></path></svg></a><div class="flex flex-row space-x-1 ml-7"><!--[--><a href="/" class="text-gray-600 text-sm leading-5 font-medium px-3 py-2 rounded-lg hover:bg-gray-200 hover:text-content-primary focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring bg-gray-100">Docs</a><!--]--></div></div></div></div><div class="hidden border-t md:fixed md:h-full md:inset-y-16 md:flex md:w-64 xl:w-80 md:flex-col"><div class="flex flex-grow flex-col overflow-y-auto border-r border-gray-200 bg-white"><div class="flex flex-grow flex-col"><nav class="flex-1 space-y-1 bg-white px-2" aria-label="Sidebar"><div data-v-564c8636><!--[--><div data-v-564c8636><div data-v-564c8636><button id="headlessui-disclosure-button-17" type="button" aria-expanded="true" class="group mt-2 w-full flex items-center pl-2 pr-1 py-2 space-x-2 text-left rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring bg-gray-100" data-v-564c8636><svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon-md flex-shrink-0 text-content-tertiary group-hover:text-content-secondary" data-v-564c8636><path d="M12.75 23.25V18.75C12.75 17.9216 13.4216 17.25 14.25 17.25V17.25C15.0065 17.2316 15.6544 17.7883 15.75 18.539V20.25C15.75 21.0784 16.4216 21.75 17.25 21.75V21.75C18.0784 21.75 18.75 21.0784 18.75 20.25V0.75H8.25C6.59315 0.75 5.25 2.09315 5.25 3.75V17.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12.75 23.25H0.75V20.25C0.75 18.5931 2.09315 17.25 3.75 17.25H14.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17.25 21.75H12.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8.25 12.75H15.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8.25 9.75H15.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8.25 6.75H15.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M20.25 0.75H18.75V5.25H23.25V3.75C23.25 2.09315 21.9069 0.75 20.25 0.75Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="flex-1 text-content-primary text-base leading-5 font-medium" data-v-564c8636>Reference</span><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" viewbox="0 0 20 20" class="text-gray-400 rotate-90 ml-3 icon-md flex-shrink-0 transform transition-colors duration-150 ease-in-out group-hover:text-gray-400" data-v-564c8636><path d="M6 6L14 10L6 14V6Z" fill="currentColor"></path></svg></button><div id="headlessui-disclosure-panel-18" data-v-564c8636 data-v-564c8636><!--[--><div data-v-564c8636><a href="/guides/point-of-sale" class="group mt-2 flex w-full items-center rounded-md py-2 pl-6 pr-2 text-sm font-medium text-content-secondary hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Merchant Integrations</a><div data-v-564c8636><!--[--><div data-v-564c8636><a href="/guides/point-of-sale" class="group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Point of Sale</a></div><div data-v-564c8636><a aria-current="page" href="/guides/requesting-payment" class="router-link-active router-link-exact-active group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Requesting Payment</a></div><div data-v-564c8636><a href="/guides/merchant-integration-qr-code-flow" class="group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>QR Code Flow</a></div><div data-v-564c8636><a href="/guides/merchant-integration-barcode-flow" class="group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Barcode Flow</a></div><div data-v-564c8636><a href="/guides/merchant-integration-error-handling" class="group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Merchant Integration Error Handling</a></div><div data-v-564c8636><a href="/guides/transaction-reporting" class="group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Transaction Reporting</a></div><div data-v-564c8636><a href="/guides/initiating-refunds" class="group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Initiating Refunds</a></div><div data-v-564c8636><a href="/guides/payment-request-line-items" class="group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Payment Request Line Items</a></div><div data-v-564c8636><a href="/guides/merchant-payment-conditions" class="group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Merchant Payment Conditions</a></div><div data-v-564c8636><a href="/guides/requesting-pre-auth" class="group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Requesting Pre Auth</a></div><div data-v-564c8636><a href="/guides/patron-not-present" class="group mt-2 flex w-full items-center rounded-md py-2 pl-8 pr-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636>Patron Not Present</a></div><!--]--></div></div><!--]--></div></div></div><div data-v-564c8636><div data-v-564c8636><button id="headlessui-disclosure-button-19" type="button" aria-expanded="false" class="group mt-2 w-full flex items-center pl-2 pr-1 py-2 space-x-2 text-left rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636><svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon-md flex-shrink-0 text-content-tertiary group-hover:text-content-secondary" data-v-564c8636><path fill-rule="evenodd" clip-rule="evenodd" d="M4 9C4.82843 9 5.5 8.32843 5.5 7.5C5.5 6.67157 4.82843 6 4 6C3.17157 6 2.5 6.67157 2.5 7.5C2.5 8.32843 3.17157 9 4 9Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12 4.5C12.8284 4.5 13.5 3.82843 13.5 3C13.5 2.17157 12.8284 1.5 12 1.5C11.1716 1.5 10.5 2.17157 10.5 3C10.5 3.82843 11.1716 4.5 12 4.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12 22.5C12.8284 22.5 13.5 21.8284 13.5 21C13.5 20.1716 12.8284 19.5 12 19.5C11.1716 19.5 10.5 20.1716 10.5 21C10.5 21.8284 11.1716 22.5 12 22.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4 18C4.82843 18 5.5 17.3284 5.5 16.5C5.5 15.6716 4.82843 15 4 15C3.17157 15 2.5 15.6716 2.5 16.5C2.5 17.3284 3.17157 18 4 18Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M20 9C20.8284 9 21.5 8.32843 21.5 7.5C21.5 6.67157 20.8284 6 20 6C19.1716 6 18.5 6.67157 18.5 7.5C18.5 8.32843 19.1716 9 20 9Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M20 18C20.8284 18 21.5 17.3284 21.5 16.5C21.5 15.6716 20.8284 15 20 15C19.1716 15 18.5 15.6716 18.5 16.5C18.5 17.3284 19.1716 18 20 18Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="flex-1 text-content-primary text-base leading-5 font-medium" data-v-564c8636>Connections</span><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" viewbox="0 0 20 20" class="text-gray-300 ml-3 icon-md flex-shrink-0 transform transition-colors duration-150 ease-in-out group-hover:text-gray-400" data-v-564c8636><path d="M6 6L14 10L6 14V6Z" fill="currentColor"></path></svg></button><!----></div></div><div data-v-564c8636><a href="https://docs.centrapay.com/api" rel="noopener noreferrer" target="_blank" class="group mt-2 w-full flex items-center pl-2 pr-1 py-2 space-x-2 text-left rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-inset ring-focus-ring" data-v-564c8636><svg width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="icon-md flex-shrink-0 text-content-tertiary group-hover:text-content-secondary" data-v-564c8636><path fill-rule="evenodd" clip-rule="evenodd" d="M10.546 2.438C10.9171 2.84995 11.4455 3.08514 12 3.08514C12.5545 3.08514 13.0829 2.84995 13.454 2.438L14.4 1.4C14.9556 0.785143 15.8379 0.586359 16.6035 0.903581C17.369 1.2208 17.8521 1.9854 17.81 2.813L17.739 4.213C17.7112 4.76527 17.9183 5.30354 18.309 5.69483C18.6997 6.08613 19.2377 6.29396 19.79 6.267L21.19 6.196C22.017 6.15523 22.7804 6.63886 23.0968 7.40407C23.4132 8.16928 23.2143 9.05078 22.6 9.606L21.558 10.546C21.1466 10.9176 20.9118 11.4461 20.9118 12.0005C20.9118 12.5549 21.1466 13.0834 21.558 13.455L22.6 14.395C23.2149 14.9506 23.4136 15.8329 23.0964 16.5985C22.7792 17.364 22.0146 17.8471 21.187 17.805L19.787 17.734C19.2335 17.7055 18.6938 17.913 18.3019 18.3049C17.91 18.6968 17.7025 19.2365 17.731 19.79L17.802 21.19C17.8387 22.0132 17.3563 22.7714 16.595 23.0869C15.8337 23.4024 14.9564 23.2078 14.4 22.6L13.459 21.559C13.0876 21.1476 12.5593 20.9128 12.005 20.9128C11.4507 20.9128 10.9224 21.1476 10.551 21.559L9.606 22.6C9.0504 23.2107 8.17154 23.4075 7.40854 23.0921C6.64554 22.7767 6.1622 22.0168 6.2 21.192L6.272 19.792C6.30047 19.2385 6.09302 18.6988 5.7011 18.3069C5.30918 17.915 4.76952 17.7075 4.216 17.736L2.816 17.807C1.98873 17.8502 1.22381 17.3681 0.905883 16.6031C0.587955 15.8382 0.785828 14.9559 1.4 14.4L2.441 13.46C2.85242 13.0884 3.08722 12.5599 3.08722 12.0055C3.08722 11.4511 2.85242 10.9226 2.441 10.551L1.4 9.606C0.787888 9.05075 0.590308 8.17096 0.906222 7.40729C1.22214 6.64363 1.98351 6.16054 2.809 6.2L4.209 6.271C4.76359 6.30016 5.30448 6.09243 5.69699 5.69954C6.0895 5.30665 6.2967 4.76557 6.267 4.211L6.2 2.81C6.16129 1.98487 6.64431 1.22412 7.40754 0.908163C8.17076 0.592207 9.05017 0.788946 9.606 1.4L10.546 2.438Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.501C14.4853 16.501 16.5 14.4863 16.5 12.001C16.5 9.51572 14.4853 7.501 12 7.501C9.51472 7.501 7.5 9.51572 7.5 12.001C7.5 14.4863 9.51472 16.501 12 16.501Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="flex-1 text-content-primary text-base leading-5 font-medium" data-v-564c8636>API</span></a></div><!--]--></div></nav></div></div></div><main class="flex flex-col min-h-screen pt-16 md:pl-64 xl:pl-80"><!--[--><!--[--><main><div><!----><div class="relative mx-auto desktop-gutters flex justify-center"><div class="min-w-0 max-w-2xl flex-auto px-8 pb-16 pt-8 xl:pt-16 lg:max-w-none"><article><header class="mb-9 space-y-1"><p class="type-overline text-brand-accent">Guides</p><h1 class="font-display text-3xl tracking-tight text-slate-900">Requesting Payment</h1></header><div class="prose prose-slate max-w-none prose-headings:font-display prose-headings:font-normal prose-h2:scroll-mt-16 prose-h2:mt-8 prose-h2:pt-8 prose-h2:border-t prose-h3:scroll-mt-20 prose-lead:text-slate-500 prose-a:no-underline prose-pre:bg-transparent prose-pre:my-0 prose-img:mb-8 prose-img:mx-auto prose-img:object-contain"><!--[--><!--[--><!--[--><div><p><!--[-->Centrapay’s payment protocol requires a merchant integration to connect with the Patron in order to create a <a href="https://docs.centrapay.com/api/payment-requests" rel="nofollow" target="_blank" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Payment Request<!--]--></span><span> </span><span class="rounded-sm bg-interactive-secondary group-hover:bg-interactive-secondary-hover h-3 w-6 inline-flex justify-center items-center"><span class="text-content-inverse-primary text-[10px]"> API </span></span></a>; and poll it for payment confirmation.<!--]--></p><p><!--[-->Additionally, merchant integrations can opt into protocol extensions when creating a Payment Request in order to unlock acceptance of a wider set of payment options.<!--]--></p><section><h2 id="connecting-with-patrons"><a href="#connecting-with-patrons"><!--[-->Connecting With Patrons<!--]--></a></h2><p><!--[-->The <a href="https://docs.centrapay.com/api/payment-requests" rel="nofollow" target="_blank" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Payment Request<!--]--></span><span> </span><span class="rounded-sm bg-interactive-secondary group-hover:bg-interactive-secondary-hover h-3 w-6 inline-flex justify-center items-center"><span class="text-content-inverse-primary text-[10px]"> API </span></span></a> object is a core part of Centrapay’s payment protocol. It represents the intention of a merchant to receive payment, defines the amount to be paid, and the acceptable <a href="https://docs.centrapay.com/api/asset-types" rel="nofollow" target="_blank" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Asset Types<!--]--></span><span> </span><span class="rounded-sm bg-interactive-secondary group-hover:bg-interactive-secondary-hover h-3 w-6 inline-flex justify-center items-center"><span class="text-content-inverse-primary text-[10px]"> API </span></span></a> for payment.<!--]--></p><p><!--[-->In order to <a href="https://docs.centrapay.com/api/payment-requests#create-a-payment-request" rel="nofollow" target="_blank" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->create a Payment Request<!--]--></span><span> </span><span class="rounded-sm bg-interactive-secondary group-hover:bg-interactive-secondary-hover h-3 w-6 inline-flex justify-center items-center"><span class="text-content-inverse-primary text-[10px]"> API </span></span></a>, a merchant integration must connect with the Patron. Centrapay supports 2 different options to connect with Patrons. We recommend that merchant integrations implement both options to support the complete set of apps within Centrapay’s ecosystem.<!--]--></p><ol><!--[--><li><!--[--><a href="/guides/merchant-integration-qr-code-flow" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->QR Code Flow for Merchants<!--]--></span><!----><!----></a><!--]--></li><li><!--[--><a href="/guides/merchant-integration-barcode-flow" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Barcode Flow for Merchants<!--]--></span><!----><!----></a><!--]--></li><!--]--></ol><section><h3 id="required-fields-when-creating-a-payment-request"><a href="#required-fields-when-creating-a-payment-request"><!--[-->Required Fields When Creating a Payment Request<!--]--></a></h3><p><!--[-->We require compliant integrations to provide the following optional fields when creating a Payment Request.<!--]--></p><table><!--[--><thead><!--[--><tr><!--[--><th><!--[-->Name<!--]--></th><th><!--[-->Description<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr><!--[--><td><!--[--><code><!--[-->externalRef<!--]--></code><!--]--></td><td><!--[-->The merchant’s identifier for the transaction. Typically this is also printed on the paper receipt and required for <a href="/guides/initiating-refunds" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Initiating Refunds<!--]--></span><!----><!----></a>.<!--]--></td><!--]--></tr><tr><!--[--><td><!--[--><code><!--[-->terminalId<!--]--></code><!--]--></td><td><!--[-->The logical identifier of the terminal. Useful for auditing and debugging.<!--]--></td><!--]--></tr><tr><!--[--><td><!--[--><code><!--[-->deviceId<!--]--></code><!--]--></td><td><!--[-->The hardware identifier of the terminal. Useful for auditing and debugging.<!--]--></td><!--]--></tr><tr><!--[--><td><!--[--><code><!--[-->patronNotPresent<!--]--></code><!--]--></td><td><!--[-->This flag indicates whether a Patron is physically present at the point of sale. Setting this flag can change the liability for some asset types.<!--]--></td><!--]--></tr><tr><!--[--><td><!--[--><code><!--[-->conditionsEnabled<!--]--></code><!--]--></td><td><!--[-->The flag which indicates <a href="/guides/merchant-payment-conditions" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Merchant Payment Conditions<!--]--></span><!----><!----></a> are supported.<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></section><section><h3 id="short-codes"><a href="#short-codes"><!--[-->Short Codes<!--]--></a></h3><p><!--[-->Payment Requests have a short code that is human- and OCR-friendly. Short codes are recycled every two years. When combined with the date or merchant id, short codes can unambiguously identify the correct Payment Request.<!--]--></p><p><!--[-->A short code can be displayed to a user instead of the Payment Request ID; e.g. on paper printouts.<!--]--></p><p><!--[-->Short codes can be used for <a href="/guides/initiating-refunds" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Initiating Refunds<!--]--></span><!----><!----></a>.<!--]--></p></section></section><section><h2 id="polling-for-payment-confirmation"><a href="#polling-for-payment-confirmation"><!--[-->Polling for Payment Confirmation<!--]--></a></h2><p><!--[-->After connecting with the Patron, the POS must <a href="https://docs.centrapay.com/api/payment-requests#get-a-payment-request" rel="nofollow" target="_blank" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->poll the Payment Request status<!--]--></span><span> </span><span class="rounded-sm bg-interactive-secondary group-hover:bg-interactive-secondary-hover h-3 w-6 inline-flex justify-center items-center"><span class="text-content-inverse-primary text-[10px]"> API </span></span></a> every second until the status has changed.<!--]--></p><div class="my-8 rounded-lg border border-outline-opaque bg-surface-secondary"><div id="mermaid-graph"></div></div><table><!--[--><thead><!--[--><tr><!--[--><th><!--[-->Payment Request Status<!--]--></th><th><!--[-->Integrator Behaviour<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr><!--[--><td><!--[-->new<!--]--></td><td><!--[-->Check for <a href="/guides/merchant-payment-conditions" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Merchant Payment Conditions<!--]--></span><!----><!----></a> then poll again for status change.<!--]--></td><!--]--></tr><tr><!--[--><td><!--[-->paid<!--]--></td><td><!--[-->Show Confirmation. Stop polling.<!--]--></td><!--]--></tr><tr><!--[--><td><!--[-->expired<!--]--></td><td><!--[-->Show payment timed-out message. Stop polling.<!--]--></td><!--]--></tr><tr><!--[--><td><!--[-->cancelled<!--]--></td><td><!--[-->Show cancellation reason. Stop polling.<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></section><section><h2 id="protocol-extensions"><a href="#protocol-extensions"><!--[-->Protocol Extensions<!--]--></a></h2><p><!--[-->Our payment protocol supports several optional extensions. Please review the extensions below and determine which ones you need for your integration.<!--]--></p><ul><!--[--><li><!--[--><a href="/guides/merchant-payment-conditions" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Merchant Payment Conditions<!--]--></span><!----><!----></a><!--]--></li><li><!--[--><a href="/guides/requesting-pre-auth" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Requesting Pre Auth<!--]--></span><!----><!----></a><!--]--></li><li><!--[--><a href="/guides/payment-request-line-items" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Payment Request Line Items<!--]--></span><!----><!----></a><!--]--></li><li><!--[--><a href="/guides/patron-not-present" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Patron Not Present<!--]--></span><!----><!----></a><!--]--></li><!--]--></ul></section><section><h2 id="handling-payment-errors"><a href="#handling-payment-errors"><!--[-->Handling Payment Errors<!--]--></a></h2><p><!--[-->Merchant integrations should follow our guidelines in <a href="/guides/merchant-integration-error-handling" class="group inline-flex justify-center items-center text-interactive-secondary hover:text-interactive-secondary-hover"><span class="underline"><!--[-->Merchant Integration Error Handling<!--]--></span><!----><!----></a> when inconsistencies such as network issues or race conditions occur.<!--]--></p></section></div><!--]--><!--]--><!--]--></div></article></div><div class="hidden xl:sticky border-none xl:top-[4.5rem] xl:block xl:h-[calc(100vh-4.5rem)] xl:flex-none xl:py-16 xl:pr-6 overflow-y-auto"><nav aria-labelledby="on-this-page-title" class="w-56"><h2 id="on-this-page-title" class="type-overline text-brand-accent"> On this page </h2><ol class="mt-4 text-sm"><!--[--><li><a aria-current="page" href="/guides/requesting-payment#connecting-with-patrons" class="router-link-active router-link-exact-active"><h3 class="border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary font-normal text-content-tertiary">Connecting With Patrons</h3></a><ol class="mt-2 pl-5 text-content-primary"><!--[--><a aria-current="page" href="/guides/requesting-payment#required-fields-when-creating-a-payment-request" class="router-link-active router-link-exact-active"><li class="border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary text-content-tertiary font-normal">Required Fields When Creating a Payment Request</li></a><a aria-current="page" href="/guides/requesting-payment#short-codes" class="router-link-active router-link-exact-active"><li class="border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary text-content-tertiary font-normal">Short Codes</li></a><!--]--></ol></li><li><a aria-current="page" href="/guides/requesting-payment#polling-for-payment-confirmation" class="router-link-active router-link-exact-active"><h3 class="border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary font-normal text-content-tertiary">Polling for Payment Confirmation</h3></a><!----></li><li><a aria-current="page" href="/guides/requesting-payment#protocol-extensions" class="router-link-active router-link-exact-active"><h3 class="border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary font-normal text-content-tertiary">Protocol Extensions</h3></a><!----></li><li><a aria-current="page" href="/guides/requesting-payment#handling-payment-errors" class="router-link-active router-link-exact-active"><h3 class="border-l-2 p-squish-2 hover:text-content-primary hover:border-content-primary font-normal text-content-tertiary">Handling Payment Errors</h3></a><!----></li><!--]--></ol></nav></div></div></div></main><!--]--><button type="button" class="btn-tertiary fixed right-6 bottom-6 border rounded-full shadow-lg flex justify-center w-16 h-16"><svg width="25" height="25" viewbox="0 0 25 25" xmlns="http://www.w3.org/2000/svg" fill="none" class="icon-lg" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M24.25 13.5C24.25 10.6005 21.8995 8.25 19 8.25H16C13.1005 8.25 10.75 10.6005 10.75 13.5C10.75 16.3995 13.1005 18.75 16 18.75H16.75L21.25 23.25V18.226C23.0783 17.3617 24.246 15.5223 24.25 13.5V13.5Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M7.75 12.75L4.75 15.75V10.726C2.53125 9.67785 1.3373 7.23009 1.87719 4.83634C2.41708 2.4426 4.54613 0.744307 7 0.750014H10C12.3218 0.750299 14.368 2.27514 15.032 4.50001" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><footer class="bg-surface-inverse-secondary mt-auto"><div class="mx-auto desktop-gutters px-6 py-8 md:flex md:items-center md:justify-between lg:px-8"><div class="flex space-x-6 md:order-2"><!--[--><a href="https://twitter.com/centrapay" target="_blank" class="text-content-inverse-tertiary hover:text-gray-500"><span class="sr-only">Twitter</span><svg width="24" height="24" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="icon-lg" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a><a href="https://www.linkedin.com/company/centrapay" target="_blank" class="text-content-inverse-tertiary hover:text-gray-500"><span class="sr-only">LinkedIn</span><svg width="24" height="24" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="icon-lg" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg></a><a href="https://github.com/centrapay" target="_blank" class="text-content-inverse-tertiary hover:text-gray-500"><span class="sr-only">GitHub</span><svg width="98" height="96" viewbox="0 0 98 96" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="icon-lg" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"></path></svg></a><!--]--></div><p class="mt-8 text-xs leading-5 text-content-inverse-tertiary md:order-1 md:mt-0">© 2023 Centrapay - All rights reserved.</p></div></footer><!--]--></main></div></div></div><script type="module">import p from "/guides/requesting-payment/_payload.js";window.__NUXT__={...p,...((function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD){return {state:{"$sdd-pages":{"/guides/requesting-payment":{_path:y,_draft:o,_partial:o,_locale:Z,_empty:o,title:z,description:"Centrapay’s payment protocol requires a merchant integration to connect with the Patron in order to create a Payment Request; and poll it for payment confirmation.",excerpt:{type:F,children:[{type:a,tag:d,props:{},children:[{type:b,value:as},{type:a,tag:c,props:{href:G,rel:[i]},children:[{type:b,value:u}]},{type:b,value:at}]},{type:a,tag:d,props:{},children:[{type:b,value:au}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:_},children:[{type:b,value:$}]},{type:a,tag:d,props:{},children:[{type:b,value:aa},{type:a,tag:c,props:{href:G,rel:[i]},children:[{type:b,value:u}]},{type:b,value:av},{type:a,tag:c,props:{href:H,rel:[i]},children:[{type:b,value:I}]},{type:b,value:aw}]},{type:a,tag:d,props:{},children:[{type:b,value:ax},{type:a,tag:c,props:{href:J,rel:[i]},children:[{type:b,value:ay}]},{type:b,value:az}]},{type:a,tag:K,props:{},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:L},children:[{type:b,value:M}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:N},children:[{type:b,value:O}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:ab},children:[{type:b,value:ac}]},{type:a,tag:d,props:{},children:[{type:b,value:aA}]},{type:a,tag:P,props:{},children:[{type:a,tag:Q,props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:r,props:{align:e},children:[{type:b,value:aB}]},{type:a,tag:r,props:{align:e},children:[{type:b,value:aC}]}]}]},{type:a,tag:R,props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:a,tag:h,props:{},children:[{type:b,value:S}]}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aD},{type:a,tag:c,props:{href:v},children:[{type:b,value:A}]},{type:b,value:p}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:a,tag:h,props:{},children:[{type:b,value:aE}]}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aF}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:a,tag:h,props:{},children:[{type:b,value:aG}]}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aH}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:a,tag:h,props:{},children:[{type:b,value:aI}]}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aJ}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:a,tag:h,props:{},children:[{type:b,value:aK}]}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aL},{type:a,tag:c,props:{href:s},children:[{type:b,value:t}]},{type:b,value:aM}]}]}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:ad},children:[{type:b,value:ae}]},{type:a,tag:d,props:{},children:[{type:b,value:aN}]},{type:a,tag:d,props:{},children:[{type:b,value:aO}]},{type:a,tag:d,props:{},children:[{type:b,value:aP},{type:a,tag:c,props:{href:v},children:[{type:b,value:A}]},{type:b,value:p}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:af},children:[{type:b,value:ag}]},{type:a,tag:d,props:{},children:[{type:b,value:aQ},{type:a,tag:c,props:{href:aR,rel:[i]},children:[{type:b,value:aS}]},{type:b,value:aT}]},{type:a,tag:m,props:{code:ah,language:w},children:[{type:a,tag:x,props:{},children:[{type:a,tag:m,props:{__ignoreMap:q},children:[{type:b,value:ah}]}]}]},{type:a,tag:P,props:{},children:[{type:a,tag:Q,props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:r,props:{align:e},children:[{type:b,value:aU}]},{type:a,tag:r,props:{align:e},children:[{type:b,value:aV}]}]}]},{type:a,tag:R,props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:b,value:aW}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aX},{type:a,tag:c,props:{href:s},children:[{type:b,value:t}]},{type:b,value:aY}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:b,value:aZ}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:a_}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:b,value:a$}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:ba}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:b,value:bb}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:bc}]}]}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:ai},children:[{type:b,value:aj}]},{type:a,tag:d,props:{},children:[{type:b,value:bd}]},{type:a,tag:B,props:{},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:s},children:[{type:b,value:t}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:C},children:[{type:b,value:D}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:T},children:[{type:b,value:U}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:V},children:[{type:b,value:W}]}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:ak},children:[{type:b,value:al}]},{type:a,tag:d,props:{},children:[{type:b,value:be},{type:a,tag:c,props:{href:am},children:[{type:b,value:an}]},{type:b,value:bf}]}]}]},body:{type:F,children:[{type:a,tag:d,props:{},children:[{type:b,value:as},{type:a,tag:c,props:{href:G,rel:[i]},children:[{type:b,value:u}]},{type:b,value:at}]},{type:a,tag:d,props:{},children:[{type:b,value:au}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:_},children:[{type:b,value:$}]},{type:a,tag:d,props:{},children:[{type:b,value:aa},{type:a,tag:c,props:{href:G,rel:[i]},children:[{type:b,value:u}]},{type:b,value:av},{type:a,tag:c,props:{href:H,rel:[i]},children:[{type:b,value:I}]},{type:b,value:aw}]},{type:a,tag:d,props:{},children:[{type:b,value:ax},{type:a,tag:c,props:{href:J,rel:[i]},children:[{type:b,value:ay}]},{type:b,value:az}]},{type:a,tag:K,props:{},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:L},children:[{type:b,value:M}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:N},children:[{type:b,value:O}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:ab},children:[{type:b,value:ac}]},{type:a,tag:d,props:{},children:[{type:b,value:aA}]},{type:a,tag:P,props:{},children:[{type:a,tag:Q,props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:r,props:{align:e},children:[{type:b,value:aB}]},{type:a,tag:r,props:{align:e},children:[{type:b,value:aC}]}]}]},{type:a,tag:R,props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:a,tag:h,props:{},children:[{type:b,value:S}]}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aD},{type:a,tag:c,props:{href:v},children:[{type:b,value:A}]},{type:b,value:p}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:a,tag:h,props:{},children:[{type:b,value:aE}]}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aF}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:a,tag:h,props:{},children:[{type:b,value:aG}]}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aH}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:a,tag:h,props:{},children:[{type:b,value:aI}]}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aJ}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:a,tag:h,props:{},children:[{type:b,value:aK}]}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aL},{type:a,tag:c,props:{href:s},children:[{type:b,value:t}]},{type:b,value:aM}]}]}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:ad},children:[{type:b,value:ae}]},{type:a,tag:d,props:{},children:[{type:b,value:aN}]},{type:a,tag:d,props:{},children:[{type:b,value:aO}]},{type:a,tag:d,props:{},children:[{type:b,value:aP},{type:a,tag:c,props:{href:v},children:[{type:b,value:A}]},{type:b,value:p}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:af},children:[{type:b,value:ag}]},{type:a,tag:d,props:{},children:[{type:b,value:aQ},{type:a,tag:c,props:{href:aR,rel:[i]},children:[{type:b,value:aS}]},{type:b,value:aT}]},{type:a,tag:m,props:{code:ah,language:w},children:[{type:a,tag:x,props:{},children:[{type:a,tag:m,props:{__ignoreMap:q},children:[{type:a,tag:bg,props:{class:"line"},children:[{type:a,tag:bg,props:{},children:[{type:b,value:"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron-\u003E\u003EPOS: Connect with Patron\n    loop Poll every second until status changes\n        POS-\u003E\u003ECentrapay: Get Payment Request Status\n    end\n\n    note over POS: ✅ Display Confirmation"}]}]}]}]}]},{type:a,tag:P,props:{},children:[{type:a,tag:Q,props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:r,props:{align:e},children:[{type:b,value:aU}]},{type:a,tag:r,props:{align:e},children:[{type:b,value:aV}]}]}]},{type:a,tag:R,props:{},children:[{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:b,value:aW}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:aX},{type:a,tag:c,props:{href:s},children:[{type:b,value:t}]},{type:b,value:aY}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:b,value:aZ}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:a_}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:b,value:a$}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:ba}]}]},{type:a,tag:k,props:{},children:[{type:a,tag:f,props:{align:e},children:[{type:b,value:bb}]},{type:a,tag:f,props:{align:e},children:[{type:b,value:bc}]}]}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:ai},children:[{type:b,value:aj}]},{type:a,tag:d,props:{},children:[{type:b,value:bd}]},{type:a,tag:B,props:{},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:s},children:[{type:b,value:t}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:C},children:[{type:b,value:D}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:T},children:[{type:b,value:U}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:V},children:[{type:b,value:W}]}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:ak},children:[{type:b,value:al}]},{type:a,tag:d,props:{},children:[{type:b,value:be},{type:a,tag:c,props:{href:am},children:[{type:b,value:an}]},{type:b,value:bf}]}]}],toc:{title:q,searchDepth:ao,depth:ao,links:[{id:_,depth:X,text:$,children:[{id:ab,depth:bh,text:ac},{id:ad,depth:bh,text:ae}]},{id:af,depth:X,text:ag},{id:ai,depth:X,text:aj},{id:ak,depth:X,text:al}]}},_type:ap,_id:"content:guides:requesting-payment.md",_source:aq,_file:"guides\u002Frequesting-payment.md",_extension:ar,layout:"default"}},"$sdd-surrounds":{"/guides/requesting-payment":[{_path:bi,_dir:bj,_draft:o,_partial:o,_locale:Z,_empty:o,title:bk,description:bl,excerpt:{type:F,children:[{type:a,tag:d,props:{},children:[{type:b,value:bl}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:"core-requirements"},children:[{type:b,value:"Core Requirements"}]},{type:a,tag:d,props:{},children:[{type:b,value:"Centrapay POS integrations must be able to "},{type:a,tag:c,props:{href:J,rel:[i]},children:[{type:b,value:"create"}]},{type:b,value:", "},{type:a,tag:c,props:{href:bm,rel:[i]},children:[{type:b,value:bn}]},{type:b,value:bo},{type:a,tag:c,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#refund-a-payment-request-experimental",rel:[i]},children:[{type:b,value:bp}]},{type:b,value:" Payment Requests on behalf of Merchants."}]},{type:a,tag:d,props:{},children:[{type:b,value:"The POS authenticates against Centrapay APIs using a single “merchant terminal” API key."}]},{type:a,tag:B,props:{},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:y},children:[{type:b,value:z}]},{type:b,value:" MUST connect with the patron using either the "},{type:a,tag:c,props:{href:L},children:[{type:b,value:M}]},{type:b,value:" or the "},{type:a,tag:c,props:{href:N},children:[{type:b,value:O}]},{type:b,value:p}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fguides\u002Fmerchant-integration-error-handling",rel:[i]},children:[{type:b,value:"Merchant integration errors"}]},{type:b,value:" MUST be handled correctly."}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fguides\u002Finitiating-refunds",rel:[i]},children:[{type:b,value:"Initiating refunds"}]},{type:b,value:" MUST be performed using the "},{type:a,tag:h,props:{},children:[{type:b,value:S}]},{type:b,value:" or "},{type:a,tag:h,props:{},children:[{type:b,value:bq}]},{type:b,value:" "},{type:a,tag:c,props:{href:br,rel:[i]},children:[{type:b,value:u}]},{type:b,value:" fields."}]},{type:a,tag:g,props:{},children:[{type:b,value:"At least one of "},{type:a,tag:h,props:{},children:[{type:b,value:S}]},{type:b,value:bo},{type:a,tag:h,props:{},children:[{type:b,value:bq}]},{type:b,value:" MUST be available to the patron (eg, on paper print-out)."}]},{type:a,tag:g,props:{},children:[{type:b,value:"Paid "},{type:a,tag:c,props:{href:H,rel:[i]},children:[{type:b,value:I}]},{type:b,value:" MUST be made available for merchant "},{type:a,tag:c,props:{href:bs},children:[{type:b,value:bt}]},{type:b,value:p}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:"optional-protocol-extensions"},children:[{type:b,value:"Optional Protocol Extensions"}]},{type:a,tag:B,props:{},children:[{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:T},children:[{type:b,value:U}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:s},children:[{type:b,value:t}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:C},children:[{type:b,value:D}]}]},{type:a,tag:g,props:{},children:[{type:a,tag:c,props:{href:V},children:[{type:b,value:W}]}]}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:"contact-us"},children:[{type:b,value:"Contact Us"}]},{type:a,tag:d,props:{},children:[{type:b,value:"Contact "},{type:a,tag:c,props:{href:"mailto:integrations@centrapay.com"},children:[{type:a,tag:h,props:{},children:[{type:b,value:"integrations@centrapay.com"}]}]},{type:b,value:" to get started with API keys."}]},{type:a,tag:d,props:{},children:[{type:b,value:"Once you have confirmed your integration needs we will then provide you with a customised integration checklist for certification."}]}]}]},_type:ap,_id:"content:guides:point-of-sale.md",_source:aq,_file:"guides\u002Fpoint-of-sale.md",_extension:ar},{_path:C,_dir:bj,_draft:o,_partial:o,_locale:Z,_empty:o,title:D,description:bu,excerpt:{type:F,children:[{type:a,tag:d,props:{},children:[{type:b,value:bu}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:"restrictions"},children:[{type:b,value:"Restrictions"}]},{type:a,tag:d,props:{},children:[{type:b,value:"Pre Auth payments are not supported in all cases."}]},{type:a,tag:K,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Not all asset types support Pre Auth - Payment options for "},{type:a,tag:c,props:{href:H,rel:[i]},children:[{type:b,value:I}]},{type:b,value:" that do not support Pre Auth will be excluded when a "},{type:a,tag:c,props:{href:br,rel:[i]},children:[{type:b,value:u}]},{type:b,value:" is created with the "},{type:a,tag:h,props:{},children:[{type:b,value:bv}]},{type:b,value:" flag."}]},{type:a,tag:g,props:{},children:[{type:b,value:"Pre Auth is incompatible with Multi-Asset payments - Only one asset type can be authorised for a Pre Auth."}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:l,props:{id:"pre-auth-flow"},children:[{type:b,value:"Pre Auth Flow"}]},{type:a,tag:d,props:{},children:[{type:b,value:"Pre Auth payments go through an orthogonal payment flow compared to Centrapay’s standard payment flow."}]},{type:a,tag:Y,props:{},children:[{type:a,tag:d,props:{},children:[{type:b,value:"See also: "},{type:a,tag:c,props:{href:y},children:[{type:b,value:z}]},{type:b,value:p}]}]},{type:a,tag:m,props:{code:bw,language:w},children:[{type:a,tag:x,props:{},children:[{type:a,tag:m,props:{__ignoreMap:q},children:[{type:b,value:bw}]}]}]},{type:a,tag:K,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:"The POS places a hold on funds by creating an Authorisation."}]},{type:a,tag:g,props:{},children:[{type:b,value:"The POS draws down on authorised funds by making Confirmations against the authorisation when the purchase is ready to be fulfilled."}]},{type:a,tag:g,props:{},children:[{type:b,value:"The POS releases any remaining funds that have not been confirmed back to the Patron."}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:"authorise"},children:[{type:b,value:"Authorise"}]},{type:a,tag:d,props:{},children:[{type:b,value:"An authorisation is created when the "},{type:a,tag:c,props:{href:J,rel:[i]},children:[{type:b,value:"Payment Request is created"}]},{type:b,value:" with the "},{type:a,tag:h,props:{},children:[{type:b,value:bv}]},{type:b,value:" flag while "},{type:a,tag:c,props:{href:y},children:[{type:b,value:z}]},{type:b,value:p}]},{type:a,tag:d,props:{},children:[{type:b,value:"Once the authorisation is successful, the Payment Request "},{type:a,tag:h,props:{},children:[{type:b,value:bx}]},{type:b,value:by},{type:a,tag:h,props:{},children:[{type:b,value:"authorized"}]},{type:b,value:p}]},{type:a,tag:m,props:{code:bz,language:w},children:[{type:a,tag:x,props:{},children:[{type:a,tag:m,props:{__ignoreMap:q},children:[{type:b,value:bz}]}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:"confirm"},children:[{type:b,value:"Confirm"}]},{type:a,tag:d,props:{},children:[{type:b,value:"Merchants can draw down on authorised funds by making one or more "},{type:a,tag:c,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#make-a-confirmation-against-a-pre-auth-payment-request-experimental",rel:[i]},children:[{type:b,value:"confirmations"}]},{type:b,value:" against an authorised amount. Confirmations must be made with an "},{type:a,tag:h,props:{},children:[{type:b,value:bA}]},{type:b,value:" in order to prevent merchants from drawing down on authorised funds twice."}]},{type:a,tag:d,props:{},children:[{type:b,value:"Confirmations against authorised funds have limits:"}]},{type:a,tag:B,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Authorisations must be followed up with a confirmation - otherwise, the authorisation will expire and the funds will be returned to the asset holder."},{type:a,tag:"br",props:{},children:[]},{type:b,value:aa},{type:a,tag:h,props:{},children:[{type:b,value:"preAuthExpiry"}]},{type:b,value:" may be adjusted to match pre-determined expiry rules set by the asset provider."}]},{type:a,tag:g,props:{},children:[{type:b,value:"Multiple confirmations can be performed against an authorisation but the total value cannot exceed the original authorised value."}]}]},{type:a,tag:Y,props:{},children:[{type:a,tag:d,props:{},children:[{type:b,value:"Making confirmations is only allowed against authorisations that have had zero or more confirmations made against them."}]}]},{type:a,tag:m,props:{code:bB,language:w},children:[{type:a,tag:x,props:{},children:[{type:a,tag:m,props:{__ignoreMap:q},children:[{type:b,value:bB}]}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:"release"},children:[{type:b,value:"Release"}]},{type:a,tag:d,props:{},children:[{type:b,value:"Authorised funds that have not been confirmed can optionally be "},{type:a,tag:c,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#release-funds-held-for-a-pre-auth-payment-request-experimental",rel:[i]},children:[{type:b,value:bC}]},{type:b,value:" so that the asset holder is granted access to their remaining funds without needing to wait for the authorisation to expire."}]},{type:a,tag:d,props:{},children:[{type:b,value:"Once releasing any remaining authorised funds is successful, the Payment Request "},{type:a,tag:h,props:{},children:[{type:b,value:bx}]},{type:b,value:by},{type:a,tag:h,props:{},children:[{type:b,value:bC}]},{type:b,value:p}]},{type:a,tag:Y,props:{},children:[{type:a,tag:d,props:{},children:[{type:b,value:"Releasing is only allowed against authorisations that have had zero or more confirmations made against them."}]}]},{type:a,tag:m,props:{code:bD,language:w},children:[{type:a,tag:x,props:{},children:[{type:a,tag:m,props:{__ignoreMap:q},children:[{type:b,value:bD}]}]}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:"expiry"},children:[{type:b,value:"Expiry"}]},{type:a,tag:d,props:{},children:[{type:b,value:"Authorisations automatically expire after 3 months. Any unreleased funds are subsequently released to the Patron."}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:bp},children:[{type:b,value:"Refund"}]},{type:a,tag:d,props:{},children:[{type:a,tag:c,props:{href:v},children:[{type:b,value:"Refunds"}]},{type:b,value:" can be made against authorisations, confirmations, released authorisations and expired authorisations."}]},{type:a,tag:d,props:{},children:[{type:b,value:"Refunds made against confirmations must include the "},{type:a,tag:h,props:{},children:[{type:b,value:"confirmationIdempotencyKey"}]},{type:b,value:" field that is the same as the "},{type:a,tag:h,props:{},children:[{type:b,value:bA}]},{type:b,value:" used for original confirmation."}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:n,props:{id:bn},children:[{type:b,value:"Void"}]},{type:a,tag:d,props:{},children:[{type:a,tag:c,props:{href:bm,rel:[i]},children:[{type:b,value:"Voiding a Payment Request"}]},{type:b,value:" will cancel a Payment Request and trigger any refunds necessary. This operation is useful if the POS needs to back out of a transaction due to a network error for example. Voiding can only be used up to 24 hours after the Payment Request was created."}]},{type:a,tag:Y,props:{},children:[{type:a,tag:d,props:{},children:[{type:b,value:"Voiding is only allowed against Payment Requests awaiting authorisation and Payment Requests that have been successfully authorised."}]}]}]}]}]},_type:ap,_id:"content:guides:requesting-pre-auth.md",_source:aq,_file:"guides\u002Frequesting-pre-auth.md",_extension:ar}]},"$sdd-globals":{},"$sdd-navigation":[{title:"Guides",_path:"\u002Fguides",children:[{title:"Farmlands POS Integration Guide",_path:"\u002Fguides\u002Ffarmlands-pos-integration"},{title:A,_path:v},{title:O,_path:N},{title:an,_path:am},{title:M,_path:L},{title:t,_path:s},{title:W,_path:V},{title:U,_path:T},{title:bk,_path:bi},{title:z,_path:y},{title:D,_path:C},{title:bt,_path:bs}]}]},_errors:{},serverRendered:E,config:{public:{baseUrl:"https:\u002F\u002Fdocs.centrapay.com",content:{clientDB:{isSPA:o,integrity:1674597243820},navigation:{fields:["layout"]},base:"_content",tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"github-light",preload:["bash"],apiURL:"\u002Fapi\u002F_content\u002Fhighlight"},wsUrl:q,documentDriven:{page:E,navigation:E,surround:E,globals:{},layoutFallbacks:["theme"],injectPage:E},anchorLinks:{depth:ao,exclude:[1]}}},app:{baseURL:"\u002F",buildAssetsDir:"\u002Fnuxt\u002F",cdnURL:q}},prerenderedAt:void 0}}("element","text","a","p",null,"td","li","code-inline","nofollow","section","tr","h2","code","h3",false,".","","th","\u002Fguides\u002Fmerchant-payment-conditions","Merchant Payment Conditions","Payment Request","\u002Fguides\u002Finitiating-refunds","mermaid","pre","\u002Fguides\u002Frequesting-payment","Requesting Payment","Initiating Refunds","ul","\u002Fguides\u002Frequesting-pre-auth","Requesting Pre Auth",true,"root","https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests","https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fasset-types","Asset Types","https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#create-a-payment-request","ol","\u002Fguides\u002Fmerchant-integration-qr-code-flow","QR Code Flow for Merchants","\u002Fguides\u002Fmerchant-integration-barcode-flow","Barcode Flow for Merchants","table","thead","tbody","externalRef","\u002Fguides\u002Fpayment-request-line-items","Payment Request Line Items","\u002Fguides\u002Fpatron-not-present","Patron Not Present",2,"blockquote","en","connecting-with-patrons","Connecting With Patrons","The ","required-fields-when-creating-a-payment-request","Required Fields When Creating a Payment Request","short-codes","Short Codes","polling-for-payment-confirmation","Polling for Payment Confirmation","sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron-\u003E\u003EPOS: Connect with Patron\n    loop Poll every second until status changes\n        POS-\u003E\u003ECentrapay: Get Payment Request Status\n    end\n\n    note over POS: ✅ Display Confirmation\n","protocol-extensions","Protocol Extensions","handling-payment-errors","Handling Payment Errors","\u002Fguides\u002Fmerchant-integration-error-handling","Merchant Integration Error Handling",4,"markdown","content","md","Centrapay’s payment protocol requires a merchant integration to connect with the Patron in order to create a ","; and poll it for payment confirmation.","Additionally, merchant integrations can opt into protocol extensions when creating a Payment Request in order to unlock acceptance of a wider set of payment options."," object is a core part of Centrapay’s payment protocol. It represents the intention of a merchant to receive payment, defines the amount to be paid, and the acceptable "," for payment.","In order to ","create a Payment Request",", a merchant integration must connect with the Patron. Centrapay supports 2 different options to connect with Patrons. We recommend that merchant integrations implement both options to support the complete set of apps within Centrapay’s ecosystem.","We require compliant integrations to provide the following optional fields when creating a Payment Request.","Name","Description","The merchant’s identifier for the transaction. Typically this is also printed on the paper receipt and required for ","terminalId","The logical identifier of the terminal. Useful for auditing and debugging.","deviceId","The hardware identifier of the terminal. Useful for auditing and debugging.","patronNotPresent","This flag indicates whether a Patron is physically present at the point of sale. Setting this flag can change the liability for some asset types.","conditionsEnabled","The flag which indicates "," are supported.","Payment Requests have a short code that is human- and OCR-friendly. Short codes are recycled every two years. When combined with the date or merchant id, short codes can unambiguously identify the correct Payment Request.","A short code can be displayed to a user instead of the Payment Request ID; e.g. on paper printouts.","Short codes can be used for ","After connecting with the Patron, the POS must ","https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#get-a-payment-request","poll the Payment Request status"," every second until the status has changed.","Payment Request Status","Integrator Behaviour","new","Check for "," then poll again for status change.","paid","Show Confirmation. Stop polling.","expired","Show payment timed-out message. Stop polling.","cancelled","Show cancellation reason. Stop polling.","Our payment protocol supports several optional extensions. Please review the extensions below and determine which ones you need for your integration.","Merchant integrations should follow our guidelines in "," when inconsistencies such as network issues or race conditions occur.","span",3,"\u002Fguides\u002Fpoint-of-sale","guides","Point of Sale","Integrating a point of sale (POS) terminal with Centrapay APIs allows merchants to accept payment via any Centrapay-enabled apps without installing additional POS hardware or software.","https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#void-a-payment-request-experimental","void"," and ","refund","shortCode","https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#payment-request","\u002Fguides\u002Ftransaction-reporting","Transaction Reporting","Centrapay’s Pre Auth extension allows a patron to authorise payment up to a limit when the actual payment amount is not yet known.","preAuth","sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    note over Patron, POS: Connect with Patron\n    POS-\u003E\u003ECentrapay: Create Authorisation\n\n    note over POS: Poll for Payment Confirmation\n\n    note over POS: ✅ Display Successful Authorisation\n\n    note over POS, Centrapay: ⏱️ Some time later..\n\n    loop 0..Many (Up to Authorised Amount)\n        POS-\u003E\u003ECentrapay: Make Confirmations Against Authorised Funds\n        note over POS: ✅ Display Successful Confirmation\n    end\n\n    POS-\u003E\u003ECentrapay: Release Remaining Authorised Funds\n    note over POS: ✅ Display Successful Release\n","preAuthStatus"," is set to ","sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS-\u003E\u003EC: Create Payment Request with preAuth = true\n\n    loop Poll for Payment Confirmation\n        POS-\u003E\u003EC: Get Payment Request Status\n\n        opt Payment Request Status is paid\n            Note over POS: Stop Polling\n        end\n    end\n\n    note over POS: ✅ Display Successful Authorisation\n","idempotencyKey","sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    POS-\u003E\u003EC: Create Authorisation\n\n    note over POS, C: ⏱️ Some time later..\n\n    loop 0..Many (Up to Authorised Amount)\n        POS-\u003E\u003EC: Make Confirmations Against Authorised Funds\n        Note over POS: ✅ Display Successful Confirmation\n    end\n","released","sequenceDiagram\n    autonumber\n\n    participant P as Patron\n    participant POS\n    participant C as Centrapay\n\n    note over POS: All Confirmations Have Been Completed\n        POS-\u003E\u003EC: Release Remaining Authorised Funds\n        Note over POS: ✅ Display Successful Confirmation\n")))}</script><script type="module" src="/nuxt/entry.a062efc0.js" crossorigin></script><script type="module" src="/nuxt/Receipt.9b8dad6f.js" crossorigin></script><script type="module" src="/nuxt/Connections.8ede0bf5.js" crossorigin></script><script type="module" src="/nuxt/Settings.2dc71753.js" crossorigin></script><script type="module" src="/nuxt/_...slug_.304b14b6.js" crossorigin></script><script type="module" src="/nuxt/Layout.4e54a57d.js" crossorigin></script><script type="module" src="/nuxt/TwitterLogo.6b4b577a.js" crossorigin></script><script type="module" src="/nuxt/LinkedInLogo.2800bc76.js" crossorigin></script><script type="module" src="/nuxt/GithubLogo.f41c3fac.js" crossorigin></script><script type="module" src="/nuxt/Prose.ac2450a7.js" crossorigin></script><script type="module" src="/nuxt/ContentDoc.e96cc8eb.js" crossorigin></script><script type="module" src="/nuxt/ContentQuery.3a5c4d4d.js" crossorigin></script><script type="module" src="/nuxt/ContentRenderer.93000f6f.js" crossorigin></script><script type="module" src="/nuxt/ContentRendererMarkdown.3799d2c2.js" crossorigin></script><script type="module" src="/nuxt/ProseP.24270d2c.js" crossorigin></script><script type="module" src="/nuxt/ProseA.d9ba0380.js" crossorigin></script><script type="module" src="/nuxt/ProseH2.18360d76.js" crossorigin></script><script type="module" src="/nuxt/ProseOl.d91e06ba.js" crossorigin></script><script type="module" src="/nuxt/ProseLi.8d8b13e8.js" crossorigin></script><script type="module" src="/nuxt/ProseH3.8d09f0cb.js" crossorigin></script><script type="module" src="/nuxt/ProseTable.077314b8.js" crossorigin></script><script type="module" src="/nuxt/ProseThead.9a7b2102.js" crossorigin></script><script type="module" src="/nuxt/ProseTr.bcf63876.js" crossorigin></script><script type="module" src="/nuxt/ProseTh.7f23fa08.js" crossorigin></script><script type="module" src="/nuxt/ProseTbody.f78db028.js" crossorigin></script><script type="module" src="/nuxt/ProseTd.110ecd00.js" crossorigin></script><script type="module" src="/nuxt/ProseCodeInline.48982882.js" crossorigin></script><script type="module" src="/nuxt/ProseCode.453d3845.js" crossorigin></script><script type="module" src="/nuxt/ProseUl.e7c607c4.js" crossorigin></script></body>
</html>