export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab){return {data:{"content-query-tRZTglLwMW":{_path:"\u002Fguides\u002Frequesting-payment",_dir:"guides",_draft:v,_partial:v,_locale:"en",_empty:v,title:"Requesting Payment",description:"Centrapay’s payment protocol requires a merchant integration to connect with the Patron in order to create a Payment Request; and poll it for payment confirmation.",body:{type:"root",children:[{type:a,tag:i,props:{},children:[{type:b,value:"Centrapay’s payment protocol requires a merchant integration to connect with the Patron in order to create a "},{type:a,tag:f,props:{href:B,rel:[q]},children:[{type:b,value:C}]},{type:b,value:"; and poll it for payment confirmation."}]},{type:a,tag:i,props:{},children:[{type:b,value:"Additionally, merchant integrations can opt into protocol extensions when creating a Payment Request in order to unlock acceptance of a wider set of payment options."}]},{type:a,tag:n,props:{},children:[{type:a,tag:s,props:{id:D},children:[{type:b,value:E}]},{type:a,tag:i,props:{},children:[{type:b,value:"The "},{type:a,tag:f,props:{href:B,rel:[q]},children:[{type:b,value:C}]},{type:b,value:" object is a core part of Centrapay’s payment protocol. It represents the intention of a merchant to receive payment, defines the amount to be paid, and the acceptable "},{type:a,tag:f,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fasset-types",rel:[q]},children:[{type:b,value:"Asset Types"}]},{type:b,value:" for payment."}]},{type:a,tag:i,props:{},children:[{type:b,value:"In order to "},{type:a,tag:f,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#create-a-payment-request",rel:[q]},children:[{type:b,value:"create a Payment Request"}]},{type:b,value:", a merchant integration must connect with the Patron. Centrapay supports two different options to connect with Patrons. We recommend that merchant integrations implement both options to support the complete set of apps within Centrapay’s ecosystem."}]},{type:a,tag:"ol",props:{},children:[{type:a,tag:o,props:{},children:[{type:a,tag:f,props:{href:"\u002Fguides\u002Fmerchant-integration-qr-code-flow"},children:[{type:b,value:"QR Code Flow for Merchants"}]}]},{type:a,tag:o,props:{},children:[{type:a,tag:f,props:{href:"\u002Fguides\u002Fmerchant-integration-barcode-flow"},children:[{type:b,value:"Barcode Flow for Merchants"}]}]}]},{type:a,tag:n,props:{},children:[{type:a,tag:F,props:{id:G},children:[{type:b,value:H}]},{type:a,tag:i,props:{},children:[{type:b,value:"We require compliant integrations to provide the following optional fields when creating a Payment Request."}]},{type:a,tag:I,props:{},children:[{type:a,tag:J,props:{},children:[{type:a,tag:j,props:{},children:[{type:a,tag:t,props:{align:d},children:[{type:b,value:"Name"}]},{type:a,tag:t,props:{align:d},children:[{type:b,value:"Description"}]}]}]},{type:a,tag:K,props:{},children:[{type:a,tag:j,props:{},children:[{type:a,tag:e,props:{align:d},children:[{type:a,tag:r,props:{},children:[{type:b,value:"externalRef"}]}]},{type:a,tag:e,props:{align:d},children:[{type:b,value:"The merchant’s identifier for the transaction. Typically this is also printed on the paper receipt and required for "},{type:a,tag:f,props:{href:L},children:[{type:b,value:M}]},{type:b,value:N}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:e,props:{align:d},children:[{type:a,tag:r,props:{},children:[{type:b,value:"terminalId"}]}]},{type:a,tag:e,props:{align:d},children:[{type:b,value:"The logical identifier of the terminal. Useful for auditing and debugging."}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:e,props:{align:d},children:[{type:a,tag:r,props:{},children:[{type:b,value:"deviceId"}]}]},{type:a,tag:e,props:{align:d},children:[{type:b,value:"The hardware identifier of the terminal. Useful for auditing and debugging."}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:e,props:{align:d},children:[{type:a,tag:r,props:{},children:[{type:b,value:"patronNotPresent"}]}]},{type:a,tag:e,props:{align:d},children:[{type:b,value:"This flag indicates whether a Patron is physically present at the point of sale. Setting this flag can change the liability for some asset types."}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:e,props:{align:d},children:[{type:a,tag:r,props:{},children:[{type:b,value:"conditionsEnabled"}]}]},{type:a,tag:e,props:{align:d},children:[{type:b,value:"The flag which indicates "},{type:a,tag:f,props:{href:w},children:[{type:b,value:x}]},{type:b,value:" are supported."}]}]}]}]}]},{type:a,tag:n,props:{},children:[{type:a,tag:F,props:{id:O},children:[{type:b,value:P}]},{type:a,tag:i,props:{},children:[{type:b,value:"Payment Requests have a short code that is human- and OCR-friendly. Short codes are recycled every two years. When combined with the date or merchant id, short codes can unambiguously identify the correct Payment Request."}]},{type:a,tag:i,props:{},children:[{type:b,value:"A short code can be displayed to a user instead of the Payment Request ID; e.g. on paper printouts."}]},{type:a,tag:i,props:{},children:[{type:b,value:"Short codes can be used for "},{type:a,tag:f,props:{href:L},children:[{type:b,value:M}]},{type:b,value:N}]}]}]},{type:a,tag:n,props:{},children:[{type:a,tag:s,props:{id:Q},children:[{type:b,value:R}]},{type:a,tag:i,props:{},children:[{type:b,value:"After connecting with the Patron, the POS must "},{type:a,tag:f,props:{href:"https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests#get-a-payment-request",rel:[q]},children:[{type:b,value:"poll the Payment Request status"}]},{type:b,value:" every second until the status has changed."}]},{type:a,tag:S,props:{code:"sequenceDiagram\n    autonumber\n\n    participant Patron\n    participant POS\n    participant Centrapay\n\n    Patron-\u003E\u003EPOS: Connect with Patron\n    loop Poll every second until status changes\n        POS-\u003E\u003ECentrapay: Get Payment Request Status\n    end\n\n    note over POS: ✅ Display Confirmation\n",language:"mermaid",meta:d},children:[{type:a,tag:"pre",props:{},children:[{type:a,tag:S,props:{__ignoreMap:T},children:[{type:a,tag:c,props:{class:h},children:[{type:a,tag:c,props:{class:k},children:[{type:b,value:"sequenceDiagram"}]}]},{type:a,tag:c,props:{class:h},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"autonumber"}]}]},{type:a,tag:c,props:{class:h},children:[]},{type:a,tag:c,props:{class:h},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:p}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:U}]}]},{type:a,tag:c,props:{class:h},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:p}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:z}]}]},{type:a,tag:c,props:{class:h},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:p}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:V}]}]},{type:a,tag:c,props:{class:h},children:[]},{type:a,tag:c,props:{class:h},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:p}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"Connect with Patron"}]}]},{type:a,tag:c,props:{class:h},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"loop"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:p}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"Poll every second until status changes"}]}]},{type:a,tag:c,props:{class:h},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:"        "}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:m},children:[{type:b,value:V}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:p}]},{type:a,tag:c,props:{class:A},children:[{type:b,value:"Get Payment Request Status"}]}]},{type:a,tag:c,props:{class:h},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:l}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"end"}]}]},{type:a,tag:c,props:{class:h},children:[]},{type:a,tag:c,props:{class:h},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:"    note over POS: ✅ Display Confirmation"}]}]}]}]}]},{type:a,tag:I,props:{},children:[{type:a,tag:J,props:{},children:[{type:a,tag:j,props:{},children:[{type:a,tag:t,props:{align:d},children:[{type:b,value:"Payment Request Status"}]},{type:a,tag:t,props:{align:d},children:[{type:b,value:"Integrator Behaviour"}]}]}]},{type:a,tag:K,props:{},children:[{type:a,tag:j,props:{},children:[{type:a,tag:e,props:{align:d},children:[{type:b,value:"new"}]},{type:a,tag:e,props:{align:d},children:[{type:b,value:"Check for "},{type:a,tag:f,props:{href:w},children:[{type:b,value:x}]},{type:b,value:" then poll again for status change."}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:e,props:{align:d},children:[{type:b,value:"paid"}]},{type:a,tag:e,props:{align:d},children:[{type:b,value:"Show Confirmation. Stop polling."}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:e,props:{align:d},children:[{type:b,value:"expired"}]},{type:a,tag:e,props:{align:d},children:[{type:b,value:"Show payment timed-out message. Stop polling."}]}]},{type:a,tag:j,props:{},children:[{type:a,tag:e,props:{align:d},children:[{type:b,value:"cancelled"}]},{type:a,tag:e,props:{align:d},children:[{type:b,value:"Show cancellation reason. Stop polling."}]}]}]}]}]},{type:a,tag:n,props:{},children:[{type:a,tag:s,props:{id:Y},children:[{type:b,value:Z}]},{type:a,tag:i,props:{},children:[{type:b,value:"Our payment protocol supports several optional extensions. Please review the extensions below and determine which ones you need for your integration."}]},{type:a,tag:"ul",props:{},children:[{type:a,tag:o,props:{},children:[{type:a,tag:f,props:{href:"\u002Fguides\u002Fline-items"},children:[{type:b,value:"Line Items"}]}]},{type:a,tag:o,props:{},children:[{type:a,tag:f,props:{href:w},children:[{type:b,value:x}]}]},{type:a,tag:o,props:{},children:[{type:a,tag:f,props:{href:"\u002Fguides\u002Frequesting-pre-auth"},children:[{type:b,value:"Requesting Pre Auth"}]}]},{type:a,tag:o,props:{},children:[{type:a,tag:f,props:{href:"\u002Fguides\u002Fpatron-not-present"},children:[{type:b,value:"Patron Not Present"}]}]}]}]},{type:a,tag:n,props:{},children:[{type:a,tag:s,props:{id:_},children:[{type:b,value:$}]},{type:a,tag:i,props:{},children:[{type:b,value:"Merchant integrations should follow our guidelines in "},{type:a,tag:f,props:{href:"\u002Fguides\u002Fmerchant-integration-error-handling"},children:[{type:b,value:"Merchant Integration Error Handling"}]},{type:b,value:" when inconsistencies such as network issues or race conditions occur."}]}]},{type:a,tag:"style",children:[{type:b,value:".ct-61867a{color:#0A3069}\n.ct-305f6e{color:#953800}\n.ct-69f559{color:#24292F}\n.ct-4e65b0{color:#CF222E}"}]}],toc:{title:T,searchDepth:aa,depth:aa,links:[{id:D,depth:u,text:E,children:[{id:G,depth:ab,text:H},{id:O,depth:ab,text:P}]},{id:Q,depth:u,text:R},{id:Y,depth:u,text:Z},{id:_,depth:u,text:$}]}},_type:"markdown",_id:"content:guides:requesting-payment.md",_source:"content",_file:"guides\u002Frequesting-payment.md",_extension:"md"}},prerenderedAt:void 0}}("element","text","span",null,"td","a","ct-69f559","line","p","tr","ct-4e65b0","    ","ct-305f6e","section","li"," ","nofollow","code-inline","h2","th",2,false,"\u002Fguides\u002Fpayment-conditions","Payment Conditions","participant","POS","ct-61867a","https:\u002F\u002Fdocs.centrapay.com\u002Fapi\u002Fpayment-requests","Payment Request","connecting-with-patrons","Connecting With Patrons","h3","required-fields","Required Fields","table","thead","tbody","\u002Fguides\u002Finitiating-refunds","Initiating Refunds",".","short-codes","Short Codes","polling-for-payment-confirmation","Polling for Payment Confirmation","code","","Patron","Centrapay","-\u003E\u003E",":","protocol-extensions","Protocol Extensions","handling-payment-errors","Handling Payment Errors",4,3))