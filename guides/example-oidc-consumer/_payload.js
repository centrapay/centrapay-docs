export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN){return {data:{"content-query-3f2WbCz5Ur":{_path:"\u002Fguides\u002Fexample-oidc-consumer",_dir:"guides",_draft:P,_partial:P,_locale:"en",_empty:P,title:"Example OIDC Consumer",description:"How to integrate a browser-based application with the Centrapay OAuth server using an OIDC flow.oidc-client-js) JavaScript library.",nav:{path:"Reference\u002FApp Integrations",order:1},body:{type:"root",children:[{type:a,tag:K,props:{},children:[{type:c,value:"This guide demonstrates how to integrate a browser based application with the Centrapay OAuth server using the "},{type:a,tag:X,props:{href:"https:\u002F\u002Fgithub.com\u002FIdentityModel\u002Foidc-client-js",rel:[Y]},children:[{type:c,value:"oidc-client-js"}]},{type:c,value:" JavaScript library."}]},{type:a,tag:K,props:{},children:[{type:c,value:"A good starting point for learning more about OIDC is Okta’s "},{type:a,tag:X,props:{href:"https:\u002F\u002Fdeveloper.okta.com\u002Fblog\u002F2019\u002F10\u002F21\u002Fillustrated-guide-to-oauth-and-oidc",rel:[Y]},children:[{type:c,value:"OAuth OIDC Illustrated Guide"}]},{type:c,value:"."}]},{type:a,tag:A,props:{},children:[{type:a,tag:B,props:{id:Z},children:[{type:c,value:_}]},{type:a,tag:m,props:{code:"import Oidc from 'oidc-client';\n\nOidc.Log.logger = console;\n\nconst yourCentrapayOauthClientId = '7mapl0nqonkgl5vfeb3cf86miu';\nconst yourAppOidcRedirectUri = window.location.origin + '\u002Foidc-callback';\nconst userPhoneNumber = '+6421234567890';\nconst userManager = new Oidc.UserManager({\n  \u002F*\n   * Required configs\n   *\u002F\n  authority: 'https:\u002F\u002Fauth.centrapay.com\u002F',\n  response_type: 'code',\n  scope: 'openid',\n  client_id: yourCentrapayOauthClientId,\n  redirect_uri: yourAppOidcLoginRedirectUri,\n  loadUserInfo: false, \u002F\u002F \"\u002Foauth2\u002FuserInfo\" call unsupported by Centrapay OAuth server\n  post_logout_redirect_uri: yourAppOidcLogoutRedirectUri,\n  revokeAccessTokenOnSignout: true,\n  metadata: {\n    end_session_endpoint: 'https:\u002F\u002Fauth.centrapay.com\u002Flogout'\n  }\n  \u002F*\n   * Recommended configs\n   *\u002F\n  userStore: new Oidc.WebStorageStateStore({ store: window.localStorage }),\n  automaticSilentRenew: true,\n  monitorSession: false, \u002F\u002F Suppress session event double firing\n  extraQueryParams: { u: userPhoneNumber }, \u002F\u002F Populate Centrapay login form\n});\n",language:C,meta:D},children:[{type:a,tag:E,props:{},children:[{type:a,tag:m,props:{__ignoreMap:s},children:[{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:"import"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" Oidc "}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:"from"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'oidc-client'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:F}]}]},{type:a,tag:b,props:{class:e},children:[]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"Oidc.Log.logger "}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" console;"}]}]},{type:a,tag:b,props:{class:e},children:[]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"yourCentrapayOauthClientId"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'7mapl0nqonkgl5vfeb3cf86miu'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:F}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"yourAppOidcRedirectUri"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" window.location.origin "}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:"+"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:F}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"userPhoneNumber"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'+6421234567890'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:F}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"userManager"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:aa}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"UserManager"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"({"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:ac}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:"   * Required configs"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  authority: "}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'https:\u002F\u002Fauth.centrapay.com\u002F'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:G}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  response_type: "}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'code'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:G}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  scope: "}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'openid'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:G}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  client_id: yourCentrapayOauthClientId,"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  redirect_uri: yourAppOidcLoginRedirectUri,"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  loadUserInfo: "}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:af}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:"\u002F\u002F \"\u002Foauth2\u002FuserInfo\" call unsupported by Centrapay OAuth server"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  post_logout_redirect_uri: yourAppOidcLogoutRedirectUri,"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  revokeAccessTokenOnSignout: "}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:ag}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:G}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  metadata: {"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"    end_session_endpoint: "}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'https:\u002F\u002Fauth.centrapay.com\u002Flogout'"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:ac}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:"   * Recommended configs"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:k},children:[{type:c,value:ad}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  userStore: "}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:aa}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:ab}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"WebStorageStateStore"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"({ store: window.localStorage }),"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  automaticSilentRenew: "}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:ag}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:G}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  monitorSession: "}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:ae}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:af}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:"\u002F\u002F Suppress session event double firing"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  extraQueryParams: { u: userPhoneNumber }, "}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:"\u002F\u002F Populate Centrapay login form"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ah}]}]}]}]}]}]},{type:a,tag:A,props:{},children:[{type:a,tag:B,props:{id:ai},children:[{type:c,value:aj}]},{type:a,tag:m,props:{code:"async function login() {\n  userManager.stopSilentRenew();\n  userManager.clearStaleState();\n  \u002F* State attribute is stored and retrievable with OIDC callback state param *\u002F\n  await userManager.signinRedirect({ state: window.location.href });\n}\n\nasync function handleOidcCallback() {\n  const result = await userManager.signinRedirectCallback().catch((err) =\u003E {\n    console.log('Something went wrong handling OIDC callback');\n  });\n  \u002F* Restore previous location stored against state param *\u002F\n  window.location.replace(result.state || '\u002F');\n}\n\nasync function init() {\n  let user = null;\n  if (window.location.pathname == '\u002Foidc-callback') {\n    await handleOidcCallback();\n  } else {\n    user = await userManager.getUser();\n  }\n  if (!user) {\n    await login();\n  }\n  return user;\n}\n\ninit().then(console.log);\n",language:C,meta:D},children:[{type:a,tag:E,props:{},children:[{type:a,tag:m,props:{__ignoreMap:s},children:[{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:t}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:u}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:ak}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:al}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"stopSilentRenew"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:al}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"clearStaleState"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:am}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:n}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"signinRedirect"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:an}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:w}]}]},{type:a,tag:b,props:{class:e},children:[]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:t}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:u}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:ao}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:n}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"signinRedirectCallback"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:R}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:S}]},{type:a,tag:b,props:{class:M},children:[{type:c,value:T}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:U}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:N}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:x}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:z}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:V}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:ar}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:as}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:at}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:au}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:av}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:aw}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:z}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:w}]}]},{type:a,tag:b,props:{class:e},children:[]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:t}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:u}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:ax}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:"let"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" user "}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:"null"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:F}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:W}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" (window.location.pathname "}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:"=="}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:$}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:") {"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:n}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:ao}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ay}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:az}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:x}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"    user "}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:n}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:aA}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:W}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" ("}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:"!"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"user) {"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:n}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:ak}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:aB}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" user;"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:w}]}]},{type:a,tag:b,props:{class:e},children:[]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:h},children:[{type:c,value:ax}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:aC}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"(console.log);"}]}]}]}]}]}]},{type:a,tag:A,props:{},children:[{type:a,tag:B,props:{id:aD},children:[{type:c,value:aE}]},{type:a,tag:K,props:{},children:[{type:c,value:"Manually trigger a token refresh when expired due to user being offline."}]},{type:a,tag:m,props:{code:"async function refreshUser() {\n  const user await userManager.getUser();\n  if (user.expired) {\n    await userManager.signinSilent();\n    await userManager.signinSilentCallback();\n    console.log('User refreshed');\n  } else {\n    console.log('User not refreshed');\n  }\n  return await userManager.getUser();\n}\n\nrefreshUser()\n  .then(console.log)\n  .catch(err =\u003E {\n    console.log({ msg: 'Something went wrong refreshing user token, login required', err });\n  });\n",language:C,meta:D},children:[{type:a,tag:E,props:{},children:[{type:a,tag:m,props:{__ignoreMap:s},children:[{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:t}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:u}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:aF}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:aG}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" await userManager.getUser();"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:W}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:" (user.expired) {"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:n}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"signinSilent"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:O}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:n}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"signinSilentCallback"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'User refreshed'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:z}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ay}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:az}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:x}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'User not refreshed'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:z}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:L}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:aB}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:n}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:aA}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:p}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:w}]}]},{type:a,tag:b,props:{class:e},children:[]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:h},children:[{type:c,value:aF}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"()"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aH}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:aC}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:"(console.log)"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:aH}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:R}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:M},children:[{type:c,value:T}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:N}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:x}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aI}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'Something went wrong refreshing user token, login required'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:", err });"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:V}]}]}]}]}]}]},{type:a,tag:A,props:{},children:[{type:a,tag:B,props:{id:aJ},children:[{type:c,value:aK}]},{type:a,tag:K,props:{},children:[{type:c,value:"Detect when OIDC user is refreshed via auto silent renew. The new user "},{type:a,tag:"em",props:{},children:[{type:c,value:"may"}]},{type:c,value:" have changed with updated claims, for example, if they have added an email address."}]},{type:a,tag:m,props:{code:"userManager.events.addUserLoaded((user) =\u003E {\n  console.log({ msg: 'user auto renew completed', user });\n});\n",language:C,meta:D},children:[{type:a,tag:E,props:{},children:[{type:a,tag:m,props:{__ignoreMap:s},children:[{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"userManager.events."}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"addUserLoaded"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:S}]},{type:a,tag:b,props:{class:M},children:[{type:c,value:aG}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:U}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:N}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:x}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:"  console."}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:aI}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:"'user auto renew completed'"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:", user });"}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:ah}]}]}]}]}]}]},{type:a,tag:A,props:{},children:[{type:a,tag:B,props:{id:aL},children:[{type:c,value:aM}]},{type:a,tag:m,props:{code:"async function logout() {\n  \u002F* State attribute is stored and retrievable with OIDC callback state param *\u002F\n  await userManager.signoutRedirect({ state: window.location.href });\n}\n\nasync function handleLogoutOidcCallback() {\n  const result = await userManager.signoutRedirectCallback().catch((err) =\u003E {\n    console.log('Something went wrong handling OIDC callback');\n  });\n  \u002F* Restore previous location stored against state param *\u002F\n  window.location.replace(result.state || '\u002F');\n}\n",language:C,meta:D},children:[{type:a,tag:E,props:{},children:[{type:a,tag:m,props:{__ignoreMap:s},children:[{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:t}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:u}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"logout"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:am}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:n}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"signoutRedirect"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:an}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:w}]}]},{type:a,tag:b,props:{class:e},children:[]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:f},children:[{type:c,value:t}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:u}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"handleLogoutOidcCallback"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:v}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:r}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:l},children:[{type:c,value:ap}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:o}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:n}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:"signoutRedirectCallback"}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:Q}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:R}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:S}]},{type:a,tag:b,props:{class:M},children:[{type:c,value:T}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:U}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:N}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:x}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:H}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:y}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:I}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:aq}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:z}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:V}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:j}]},{type:a,tag:b,props:{class:k},children:[{type:c,value:ar}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:as}]},{type:a,tag:b,props:{class:h},children:[{type:c,value:at}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:au}]},{type:a,tag:b,props:{class:f},children:[{type:c,value:av}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:g}]},{type:a,tag:b,props:{class:i},children:[{type:c,value:aw}]},{type:a,tag:b,props:{class:d},children:[{type:c,value:z}]}]},{type:a,tag:b,props:{class:e},children:[{type:a,tag:b,props:{class:d},children:[{type:c,value:w}]}]}]}]}]}]},{type:a,tag:"style",children:[{type:c,value:".ct-dc8a0d{color:#953800}\n.ct-2dc868{color:#6E7781}\n.ct-107dfa{color:#8250DF}\n.ct-7f3013{color:#0550AE}\n.ct-62b20e{color:#0A3069}\n.ct-d6fb2c{color:#24292F}\n.ct-ee0941{color:#CF222E}"}]}],toc:{title:s,searchDepth:aN,depth:aN,links:[{id:Z,depth:J,text:_},{id:ai,depth:J,text:aj},{id:aD,depth:J,text:aE},{id:aJ,depth:J,text:aK},{id:aL,depth:J,text:aM}]}},_type:"markdown",_id:"content:guides:example-oidc-consumer.md",_source:"content",_file:"guides\u002Fexample-oidc-consumer.md",_extension:"md"}},prerenderedAt:void 0}}("element","span","text","ct-d6fb2c","line","ct-ee0941"," ","ct-107dfa","ct-62b20e","  ","ct-2dc868","ct-7f3013","code","await","=","();"," userManager.","const","","async","function","() {","}"," {","log",");","section","h2","javascript",null,"pre",";",",","    console.","(",2,"p","  }","ct-dc8a0d","=\u003E","    ",false,"().","catch","((","err",") ","  });","if","a","nofollow","oidc-user-manager-configuration","OIDC User Manager Configuration","'\u002Foidc-callback'","new"," Oidc.","\u002F*","   *\u002F","false",", ","true","});","minimal-oidc-client-usage","Minimal OIDC Client Usage","login","  userManager.","\u002F* State attribute is stored and retrievable with OIDC callback state param *\u002F","({ state: window.location.href });","handleOidcCallback","result","'Something went wrong handling OIDC callback'","\u002F* Restore previous location stored against state param *\u002F","  window.location.","replace","(result.state ","||","'\u002F'","init","  } ","else","getUser","return","then","trigger-token-refresh","Trigger Token Refresh","refreshUser","user","  .","({ msg: ","detect-oidc-user-refresh","Detect OIDC User Refresh","oidc-client-logout","OIDC Client Logout",4))